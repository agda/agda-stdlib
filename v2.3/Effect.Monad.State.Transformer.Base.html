<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Effect.Monad.State.Transformer.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Basic definition and functions on the state monad transformer</a>
<a id="171" class="Comment">------------------------------------------------------------------------</a>

<a id="245" class="Symbol">{-#</a> <a id="249" class="Keyword">OPTIONS</a> <a id="257" class="Pragma">--cubical-compatible</a> <a id="278" class="Pragma">--safe</a> <a id="285" class="Symbol">#-}</a>


<a id="291" class="Keyword">module</a> <a id="298" href="Effect.Monad.State.Transformer.Base.html" class="Module">Effect.Monad.State.Transformer.Base</a> <a id="334" class="Keyword">where</a>

<a id="341" class="Keyword">open</a> <a id="346" class="Keyword">import</a> <a id="353" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="371" class="Keyword">using</a> <a id="377" class="Symbol">(</a><a id="378" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="381" class="Symbol">;</a> <a id="383" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="388" class="Symbol">;</a> <a id="390" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="395" class="Symbol">)</a>
<a id="397" class="Keyword">open</a> <a id="402" class="Keyword">import</a> <a id="409" href="Data.Unit.Polymorphic.Base.html" class="Module">Data.Unit.Polymorphic.Base</a> <a id="436" class="Keyword">using</a> <a id="442" class="Symbol">(</a><a id="443" href="Data.Unit.Polymorphic.Base.html#515" class="Function">⊤</a><a id="444" class="Symbol">)</a>
<a id="446" class="Keyword">open</a> <a id="451" class="Keyword">import</a> <a id="458" href="Effect.Functor.html" class="Module">Effect.Functor</a> <a id="473" class="Keyword">using</a> <a id="479" class="Symbol">(</a><a id="480" href="Effect.Functor.html#602" class="Record">RawFunctor</a><a id="490" class="Symbol">)</a>
<a id="492" class="Keyword">open</a> <a id="497" class="Keyword">import</a> <a id="504" href="Function.Base.html" class="Module">Function.Base</a> <a id="518" class="Keyword">using</a> <a id="524" class="Symbol">(</a><a id="525" href="Function.Base.html#3645" class="Function Operator">_∘′_</a><a id="529" class="Symbol">;</a> <a id="531" href="Function.Base.html#725" class="Function">const</a><a id="536" class="Symbol">;</a> <a id="538" href="Function.Base.html#704" class="Function">id</a><a id="540" class="Symbol">)</a>
<a id="542" class="Keyword">open</a> <a id="547" class="Keyword">import</a> <a id="554" href="Level.html" class="Module">Level</a> <a id="560" class="Keyword">using</a> <a id="566" class="Symbol">(</a><a id="567" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="572" class="Symbol">;</a> <a id="574" href="Agda.Primitive.html#931" class="Primitive">suc</a><a id="577" class="Symbol">;</a> <a id="579" href="Agda.Primitive.html#961" class="Primitive Operator">_⊔_</a><a id="582" class="Symbol">)</a>

<a id="585" class="Keyword">private</a>
  <a id="595" class="Keyword">variable</a>
    <a id="608" href="Effect.Monad.State.Transformer.Base.html#608" class="Generalizable">f</a> <a id="610" href="Effect.Monad.State.Transformer.Base.html#610" class="Generalizable">s</a> <a id="612" class="Symbol">:</a> <a id="614" href="Agda.Primitive.html#742" class="Postulate">Level</a>
    <a id="624" href="Effect.Monad.State.Transformer.Base.html#624" class="Generalizable">A</a> <a id="626" class="Symbol">:</a> <a id="628" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="632" href="Effect.Monad.State.Transformer.Base.html#610" class="Generalizable">s</a>
    <a id="638" href="Effect.Monad.State.Transformer.Base.html#638" class="Generalizable">S</a> <a id="640" class="Symbol">:</a> <a id="642" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="646" href="Effect.Monad.State.Transformer.Base.html#610" class="Generalizable">s</a>
    <a id="652" href="Effect.Monad.State.Transformer.Base.html#652" class="Generalizable">M</a> <a id="654" class="Symbol">:</a> <a id="656" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="660" href="Effect.Monad.State.Transformer.Base.html#610" class="Generalizable">s</a> <a id="662" class="Symbol">→</a> <a id="664" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="668" href="Effect.Monad.State.Transformer.Base.html#608" class="Generalizable">f</a>

<a id="671" class="Comment">------------------------------------------------------------------------</a>
<a id="744" class="Comment">-- State monad operations</a>

<a id="771" class="Keyword">record</a> <a id="RawMonadState"></a><a id="778" href="Effect.Monad.State.Transformer.Base.html#778" class="Record">RawMonadState</a>
       <a id="799" class="Symbol">(</a><a id="800" href="Effect.Monad.State.Transformer.Base.html#800" class="Bound">S</a> <a id="802" class="Symbol">:</a> <a id="804" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="808" href="Effect.Monad.State.Transformer.Base.html#610" class="Generalizable">s</a><a id="809" class="Symbol">)</a>
       <a id="818" class="Symbol">(</a><a id="819" href="Effect.Monad.State.Transformer.Base.html#819" class="Bound">M</a> <a id="821" class="Symbol">:</a> <a id="823" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="827" href="Effect.Monad.State.Transformer.Base.html#610" class="Generalizable">s</a> <a id="829" class="Symbol">→</a> <a id="831" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="835" href="Effect.Monad.State.Transformer.Base.html#608" class="Generalizable">f</a><a id="836" class="Symbol">)</a>
       <a id="845" class="Symbol">:</a> <a id="847" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="851" class="Symbol">(</a><a id="852" href="Agda.Primitive.html#931" class="Primitive">suc</a> <a id="856" href="Effect.Monad.State.Transformer.Base.html#808" class="Bound">s</a> <a id="858" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="860" href="Effect.Monad.State.Transformer.Base.html#835" class="Bound">f</a><a id="861" class="Symbol">)</a> <a id="863" class="Keyword">where</a>
  <a id="871" class="Keyword">field</a>
    <a id="RawMonadState.gets"></a><a id="881" href="Effect.Monad.State.Transformer.Base.html#881" class="Field">gets</a>   <a id="888" class="Symbol">:</a> <a id="890" class="Symbol">(</a><a id="891" href="Effect.Monad.State.Transformer.Base.html#800" class="Bound">S</a> <a id="893" class="Symbol">→</a> <a id="895" href="Effect.Monad.State.Transformer.Base.html#624" class="Generalizable">A</a><a id="896" class="Symbol">)</a> <a id="898" class="Symbol">→</a> <a id="900" href="Effect.Monad.State.Transformer.Base.html#819" class="Bound">M</a> <a id="902" href="Effect.Monad.State.Transformer.Base.html#624" class="Generalizable">A</a>
    <a id="RawMonadState.modify"></a><a id="908" href="Effect.Monad.State.Transformer.Base.html#908" class="Field">modify</a> <a id="915" class="Symbol">:</a> <a id="917" class="Symbol">(</a><a id="918" href="Effect.Monad.State.Transformer.Base.html#800" class="Bound">S</a> <a id="920" class="Symbol">→</a> <a id="922" href="Effect.Monad.State.Transformer.Base.html#800" class="Bound">S</a><a id="923" class="Symbol">)</a> <a id="925" class="Symbol">→</a> <a id="927" href="Effect.Monad.State.Transformer.Base.html#819" class="Bound">M</a> <a id="929" href="Data.Unit.Polymorphic.Base.html#515" class="Function">⊤</a>

  <a id="RawMonadState.put"></a><a id="934" href="Effect.Monad.State.Transformer.Base.html#934" class="Function">put</a> <a id="938" class="Symbol">=</a> <a id="940" href="Effect.Monad.State.Transformer.Base.html#908" class="Field">modify</a> <a id="947" href="Function.Base.html#3645" class="Function Operator">∘′</a> <a id="950" href="Function.Base.html#725" class="Function">const</a>
  <a id="RawMonadState.get"></a><a id="958" href="Effect.Monad.State.Transformer.Base.html#958" class="Function">get</a> <a id="962" class="Symbol">=</a> <a id="964" href="Effect.Monad.State.Transformer.Base.html#881" class="Field">gets</a> <a id="969" href="Function.Base.html#704" class="Function">id</a>

<a id="973" class="Comment">------------------------------------------------------------------------</a>
<a id="1046" class="Comment">-- State monad transformer</a>

<a id="1074" class="Keyword">record</a> <a id="StateT"></a><a id="1081" href="Effect.Monad.State.Transformer.Base.html#1081" class="Record">StateT</a>
       <a id="1095" class="Symbol">(</a><a id="1096" href="Effect.Monad.State.Transformer.Base.html#1096" class="Bound">S</a> <a id="1098" class="Symbol">:</a> <a id="1100" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1104" href="Effect.Monad.State.Transformer.Base.html#610" class="Generalizable">s</a><a id="1105" class="Symbol">)</a>
       <a id="1114" class="Symbol">(</a><a id="1115" href="Effect.Monad.State.Transformer.Base.html#1115" class="Bound">M</a> <a id="1117" class="Symbol">:</a> <a id="1119" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1123" href="Effect.Monad.State.Transformer.Base.html#610" class="Generalizable">s</a> <a id="1125" class="Symbol">→</a> <a id="1127" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1131" href="Effect.Monad.State.Transformer.Base.html#608" class="Generalizable">f</a><a id="1132" class="Symbol">)</a>
       <a id="1141" class="Symbol">(</a><a id="1142" href="Effect.Monad.State.Transformer.Base.html#1142" class="Bound">A</a> <a id="1144" class="Symbol">:</a> <a id="1146" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1150" href="Effect.Monad.State.Transformer.Base.html#610" class="Generalizable">s</a><a id="1151" class="Symbol">)</a>
       <a id="1160" class="Symbol">:</a> <a id="1162" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1166" class="Symbol">(</a><a id="1167" href="Effect.Monad.State.Transformer.Base.html#1104" class="Bound">s</a> <a id="1169" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="1171" href="Effect.Monad.State.Transformer.Base.html#1131" class="Bound">f</a><a id="1172" class="Symbol">)</a> <a id="1174" class="Keyword">where</a>
  <a id="1182" class="Keyword">constructor</a> <a id="mkStateT"></a><a id="1194" href="Effect.Monad.State.Transformer.Base.html#1194" class="InductiveConstructor">mkStateT</a>
  <a id="1205" class="Keyword">field</a> <a id="StateT.runStateT"></a><a id="1211" href="Effect.Monad.State.Transformer.Base.html#1211" class="Field">runStateT</a> <a id="1221" class="Symbol">:</a> <a id="1223" href="Effect.Monad.State.Transformer.Base.html#1096" class="Bound">S</a> <a id="1225" class="Symbol">→</a> <a id="1227" href="Effect.Monad.State.Transformer.Base.html#1115" class="Bound">M</a> <a id="1229" class="Symbol">(</a><a id="1230" href="Effect.Monad.State.Transformer.Base.html#1096" class="Bound">S</a> <a id="1232" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1234" href="Effect.Monad.State.Transformer.Base.html#1142" class="Bound">A</a><a id="1235" class="Symbol">)</a>
<a id="1237" class="Keyword">open</a> <a id="1242" href="Effect.Monad.State.Transformer.Base.html#1081" class="Module">StateT</a> <a id="1249" class="Keyword">public</a>

<a id="evalStateT"></a><a id="1257" href="Effect.Monad.State.Transformer.Base.html#1257" class="Function">evalStateT</a> <a id="1268" class="Symbol">:</a> <a id="1270" href="Effect.Functor.html#602" class="Record">RawFunctor</a> <a id="1281" href="Effect.Monad.State.Transformer.Base.html#652" class="Generalizable">M</a> <a id="1283" class="Symbol">→</a> <a id="1285" href="Effect.Monad.State.Transformer.Base.html#1081" class="Record">StateT</a> <a id="1292" href="Effect.Monad.State.Transformer.Base.html#638" class="Generalizable">S</a> <a id="1294" href="Effect.Monad.State.Transformer.Base.html#652" class="Generalizable">M</a> <a id="1296" href="Effect.Monad.State.Transformer.Base.html#624" class="Generalizable">A</a> <a id="1298" class="Symbol">→</a> <a id="1300" href="Effect.Monad.State.Transformer.Base.html#638" class="Generalizable">S</a> <a id="1302" class="Symbol">→</a> <a id="1304" href="Effect.Monad.State.Transformer.Base.html#652" class="Generalizable">M</a> <a id="1306" href="Effect.Monad.State.Transformer.Base.html#624" class="Generalizable">A</a>
<a id="1308" href="Effect.Monad.State.Transformer.Base.html#1257" class="Function">evalStateT</a> <a id="1319" href="Effect.Monad.State.Transformer.Base.html#1319" class="Bound">M</a> <a id="1321" href="Effect.Monad.State.Transformer.Base.html#1321" class="Bound">ma</a> <a id="1324" href="Effect.Monad.State.Transformer.Base.html#1324" class="Bound">s</a> <a id="1326" class="Symbol">=</a> <a id="1328" class="Keyword">let</a> <a id="1332" class="Keyword">open</a> <a id="1337" href="Effect.Functor.html#602" class="Module">RawFunctor</a> <a id="1348" href="Effect.Monad.State.Transformer.Base.html#1319" class="Bound">M</a> <a id="1350" class="Keyword">in</a> <a id="1353" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="1359" href="Effect.Functor.html#710" class="Function Operator">&lt;$&gt;</a> <a id="1363" href="Effect.Monad.State.Transformer.Base.html#1211" class="Field">runStateT</a> <a id="1373" href="Effect.Monad.State.Transformer.Base.html#1321" class="Bound">ma</a> <a id="1376" href="Effect.Monad.State.Transformer.Base.html#1324" class="Bound">s</a>

<a id="execStateT"></a><a id="1379" href="Effect.Monad.State.Transformer.Base.html#1379" class="Function">execStateT</a> <a id="1390" class="Symbol">:</a> <a id="1392" href="Effect.Functor.html#602" class="Record">RawFunctor</a> <a id="1403" href="Effect.Monad.State.Transformer.Base.html#652" class="Generalizable">M</a> <a id="1405" class="Symbol">→</a> <a id="1407" href="Effect.Monad.State.Transformer.Base.html#1081" class="Record">StateT</a> <a id="1414" href="Effect.Monad.State.Transformer.Base.html#638" class="Generalizable">S</a> <a id="1416" href="Effect.Monad.State.Transformer.Base.html#652" class="Generalizable">M</a> <a id="1418" href="Effect.Monad.State.Transformer.Base.html#624" class="Generalizable">A</a> <a id="1420" class="Symbol">→</a> <a id="1422" href="Effect.Monad.State.Transformer.Base.html#638" class="Generalizable">S</a> <a id="1424" class="Symbol">→</a> <a id="1426" href="Effect.Monad.State.Transformer.Base.html#652" class="Generalizable">M</a> <a id="1428" href="Effect.Monad.State.Transformer.Base.html#638" class="Generalizable">S</a>
<a id="1430" href="Effect.Monad.State.Transformer.Base.html#1379" class="Function">execStateT</a> <a id="1441" href="Effect.Monad.State.Transformer.Base.html#1441" class="Bound">M</a> <a id="1443" href="Effect.Monad.State.Transformer.Base.html#1443" class="Bound">ma</a> <a id="1446" href="Effect.Monad.State.Transformer.Base.html#1446" class="Bound">s</a> <a id="1448" class="Symbol">=</a> <a id="1450" class="Keyword">let</a> <a id="1454" class="Keyword">open</a> <a id="1459" href="Effect.Functor.html#602" class="Module">RawFunctor</a> <a id="1470" href="Effect.Monad.State.Transformer.Base.html#1441" class="Bound">M</a> <a id="1472" class="Keyword">in</a> <a id="1475" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1481" href="Effect.Functor.html#710" class="Function Operator">&lt;$&gt;</a> <a id="1485" href="Effect.Monad.State.Transformer.Base.html#1211" class="Field">runStateT</a> <a id="1495" href="Effect.Monad.State.Transformer.Base.html#1443" class="Bound">ma</a> <a id="1498" href="Effect.Monad.State.Transformer.Base.html#1446" class="Bound">s</a>
</pre></body></html>