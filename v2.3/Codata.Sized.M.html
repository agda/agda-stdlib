<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Sized.M</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- M-types (the dual of W-types)</a>
<a id="139" class="Comment">------------------------------------------------------------------------</a>

<a id="213" class="Symbol">{-#</a> <a id="217" class="Keyword">OPTIONS</a> <a id="225" class="Pragma">--cubical-compatible</a> <a id="246" class="Pragma">--sized-types</a> <a id="260" class="Symbol">#-}</a>

<a id="265" class="Keyword">module</a> <a id="272" href="Codata.Sized.M.html" class="Module">Codata.Sized.M</a> <a id="287" class="Keyword">where</a>

<a id="294" class="Keyword">open</a> <a id="299" class="Keyword">import</a> <a id="306" href="Size.html" class="Module">Size</a> <a id="311" class="Keyword">using</a> <a id="317" class="Symbol">(</a><a id="318" href="Agda.Builtin.Size.html#213" class="Postulate">Size</a><a id="322" class="Symbol">;</a> <a id="324" href="Agda.Builtin.Size.html#315" class="Postulate">∞</a><a id="325" class="Symbol">)</a>
<a id="327" class="Keyword">open</a> <a id="332" class="Keyword">import</a> <a id="339" href="Level.html" class="Module">Level</a> <a id="345" class="Keyword">using</a> <a id="351" class="Symbol">(</a><a id="352" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="357" class="Symbol">;</a> <a id="359" href="Agda.Primitive.html#961" class="Primitive Operator">_⊔_</a><a id="362" class="Symbol">)</a>
<a id="364" class="Keyword">open</a> <a id="369" class="Keyword">import</a> <a id="376" href="Codata.Sized.Thunk.html" class="Module">Codata.Sized.Thunk</a> <a id="395" class="Keyword">using</a> <a id="401" class="Symbol">(</a><a id="402" href="Codata.Sized.Thunk.html#534" class="Record">Thunk</a><a id="407" class="Symbol">;</a> <a id="409" href="Codata.Sized.Thunk.html#608" class="Field">force</a><a id="414" class="Symbol">)</a>
<a id="416" class="Keyword">open</a> <a id="421" class="Keyword">import</a> <a id="428" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="446" class="Keyword">hiding</a> <a id="453" class="Symbol">(</a><a id="454" href="Data.Product.Base.html#2173" class="Function">map</a><a id="457" class="Symbol">)</a>
<a id="459" class="Keyword">open</a> <a id="464" class="Keyword">import</a> <a id="471" href="Data.Container.Core.html" class="Module">Data.Container.Core</a> <a id="491" class="Symbol">as</a> <a id="494" class="Module">C</a> <a id="496" class="Keyword">hiding</a> <a id="503" class="Symbol">(</a><a id="504" href="Data.Container.Core.html#888" class="Function">map</a><a id="507" class="Symbol">)</a>

<a id="510" class="Keyword">data</a> <a id="M"></a><a id="515" href="Codata.Sized.M.html#515" class="Datatype">M</a> <a id="517" class="Symbol">{</a><a id="518" href="Codata.Sized.M.html#518" class="Bound">s</a> <a id="520" href="Codata.Sized.M.html#520" class="Bound">p</a><a id="521" class="Symbol">}</a> <a id="523" class="Symbol">(</a><a id="524" href="Codata.Sized.M.html#524" class="Bound">C</a> <a id="526" class="Symbol">:</a> <a id="528" href="Data.Container.Core.html#566" class="Record">Container</a> <a id="538" href="Codata.Sized.M.html#518" class="Bound">s</a> <a id="540" href="Codata.Sized.M.html#520" class="Bound">p</a><a id="541" class="Symbol">)</a> <a id="543" class="Symbol">(</a><a id="544" href="Codata.Sized.M.html#544" class="Bound">i</a> <a id="546" class="Symbol">:</a> <a id="548" href="Agda.Builtin.Size.html#213" class="Postulate">Size</a><a id="552" class="Symbol">)</a> <a id="554" class="Symbol">:</a> <a id="556" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="560" class="Symbol">(</a><a id="561" href="Codata.Sized.M.html#518" class="Bound">s</a> <a id="563" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="565" href="Codata.Sized.M.html#520" class="Bound">p</a><a id="566" class="Symbol">)</a> <a id="568" class="Keyword">where</a>
  <a id="M.inf"></a><a id="576" href="Codata.Sized.M.html#576" class="InductiveConstructor">inf</a> <a id="580" class="Symbol">:</a> <a id="582" href="Data.Container.Core.html#763" class="Function Operator">⟦</a> <a id="584" href="Codata.Sized.M.html#524" class="Bound">C</a> <a id="586" href="Data.Container.Core.html#763" class="Function Operator">⟧</a> <a id="588" class="Symbol">(</a><a id="589" href="Codata.Sized.Thunk.html#534" class="Record">Thunk</a> <a id="595" class="Symbol">(</a><a id="596" href="Codata.Sized.M.html#515" class="Datatype">M</a> <a id="598" href="Codata.Sized.M.html#524" class="Bound">C</a><a id="599" class="Symbol">)</a> <a id="601" href="Codata.Sized.M.html#544" class="Bound">i</a><a id="602" class="Symbol">)</a> <a id="604" class="Symbol">→</a> <a id="606" href="Codata.Sized.M.html#515" class="Datatype">M</a> <a id="608" href="Codata.Sized.M.html#524" class="Bound">C</a> <a id="610" href="Codata.Sized.M.html#544" class="Bound">i</a>

<a id="613" class="Keyword">module</a> <a id="620" href="Codata.Sized.M.html#620" class="Module">_</a> <a id="622" class="Symbol">{</a><a id="623" href="Codata.Sized.M.html#623" class="Bound">s</a> <a id="625" href="Codata.Sized.M.html#625" class="Bound">p</a><a id="626" class="Symbol">}</a> <a id="628" class="Symbol">{</a><a id="629" href="Codata.Sized.M.html#629" class="Bound">C</a> <a id="631" class="Symbol">:</a> <a id="633" href="Data.Container.Core.html#566" class="Record">Container</a> <a id="643" href="Codata.Sized.M.html#623" class="Bound">s</a> <a id="645" href="Codata.Sized.M.html#625" class="Bound">p</a><a id="646" class="Symbol">}</a> <a id="648" class="Keyword">where</a>

  <a id="657" href="Codata.Sized.M.html#657" class="Function">head</a> <a id="662" class="Symbol">:</a> <a id="664" class="Symbol">∀</a> <a id="666" class="Symbol">{</a><a id="667" href="Codata.Sized.M.html#667" class="Bound">i</a><a id="668" class="Symbol">}</a> <a id="670" class="Symbol">→</a> <a id="672" href="Codata.Sized.M.html#515" class="Datatype">M</a> <a id="674" href="Codata.Sized.M.html#629" class="Bound">C</a> <a id="676" href="Codata.Sized.M.html#667" class="Bound">i</a> <a id="678" class="Symbol">→</a> <a id="680" href="Data.Container.Core.html#646" class="Field">Shape</a> <a id="686" href="Codata.Sized.M.html#629" class="Bound">C</a>
  <a id="690" href="Codata.Sized.M.html#657" class="Function">head</a> <a id="695" class="Symbol">(</a><a id="696" href="Codata.Sized.M.html#576" class="InductiveConstructor">inf</a> <a id="700" class="Symbol">(</a><a id="701" href="Codata.Sized.M.html#701" class="Bound">x</a> <a id="703" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="705" href="Codata.Sized.M.html#705" class="Bound">f</a><a id="706" class="Symbol">))</a> <a id="709" class="Symbol">=</a> <a id="711" href="Codata.Sized.M.html#701" class="Bound">x</a>

  <a id="716" href="Codata.Sized.M.html#716" class="Function">tail</a> <a id="721" class="Symbol">:</a> <a id="723" class="Symbol">(</a><a id="724" href="Codata.Sized.M.html#724" class="Bound">x</a> <a id="726" class="Symbol">:</a> <a id="728" href="Codata.Sized.M.html#515" class="Datatype">M</a> <a id="730" href="Codata.Sized.M.html#629" class="Bound">C</a> <a id="732" href="Agda.Builtin.Size.html#315" class="Postulate">∞</a><a id="733" class="Symbol">)</a> <a id="735" class="Symbol">→</a> <a id="737" href="Data.Container.Core.html#667" class="Field">Position</a> <a id="746" href="Codata.Sized.M.html#629" class="Bound">C</a> <a id="748" class="Symbol">(</a><a id="749" href="Codata.Sized.M.html#657" class="Function">head</a> <a id="754" href="Codata.Sized.M.html#724" class="Bound">x</a><a id="755" class="Symbol">)</a> <a id="757" class="Symbol">→</a> <a id="759" href="Codata.Sized.M.html#515" class="Datatype">M</a> <a id="761" href="Codata.Sized.M.html#629" class="Bound">C</a> <a id="763" href="Agda.Builtin.Size.html#315" class="Postulate">∞</a>
  <a id="767" href="Codata.Sized.M.html#716" class="Function">tail</a> <a id="772" class="Symbol">(</a><a id="773" href="Codata.Sized.M.html#576" class="InductiveConstructor">inf</a> <a id="777" class="Symbol">(</a><a id="778" href="Codata.Sized.M.html#778" class="Bound">x</a> <a id="780" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="782" href="Codata.Sized.M.html#782" class="Bound">f</a><a id="783" class="Symbol">))</a> <a id="786" class="Symbol">=</a> <a id="788" class="Symbol">λ</a> <a id="790" href="Codata.Sized.M.html#790" class="Bound">p</a> <a id="792" class="Symbol">→</a> <a id="794" href="Codata.Sized.M.html#782" class="Bound">f</a> <a id="796" href="Codata.Sized.M.html#790" class="Bound">p</a> <a id="798" class="Symbol">.</a><a id="799" href="Codata.Sized.Thunk.html#608" class="Field">force</a>

<a id="806" class="Comment">-- map</a>

<a id="814" class="Keyword">module</a> <a id="821" href="Codata.Sized.M.html#821" class="Module">_</a> <a id="823" class="Symbol">{</a><a id="824" href="Codata.Sized.M.html#824" class="Bound">s₁</a> <a id="827" href="Codata.Sized.M.html#827" class="Bound">s₂</a> <a id="830" href="Codata.Sized.M.html#830" class="Bound">p₁</a> <a id="833" href="Codata.Sized.M.html#833" class="Bound">p₂</a><a id="835" class="Symbol">}</a> <a id="837" class="Symbol">{</a><a id="838" href="Codata.Sized.M.html#838" class="Bound">C₁</a> <a id="841" class="Symbol">:</a> <a id="843" href="Data.Container.Core.html#566" class="Record">Container</a> <a id="853" href="Codata.Sized.M.html#824" class="Bound">s₁</a> <a id="856" href="Codata.Sized.M.html#830" class="Bound">p₁</a><a id="858" class="Symbol">}</a> <a id="860" class="Symbol">{</a><a id="861" href="Codata.Sized.M.html#861" class="Bound">C₂</a> <a id="864" class="Symbol">:</a> <a id="866" href="Data.Container.Core.html#566" class="Record">Container</a> <a id="876" href="Codata.Sized.M.html#827" class="Bound">s₂</a> <a id="879" href="Codata.Sized.M.html#833" class="Bound">p₂</a><a id="881" class="Symbol">}</a>
         <a id="892" class="Symbol">(</a><a id="893" href="Codata.Sized.M.html#893" class="Bound">m</a> <a id="895" class="Symbol">:</a> <a id="897" href="Codata.Sized.M.html#838" class="Bound">C₁</a> <a id="900" href="Data.Container.Core.html#1083" class="Record Operator">⇒</a> <a id="902" href="Codata.Sized.M.html#861" class="Bound">C₂</a><a id="904" class="Symbol">)</a> <a id="906" class="Keyword">where</a>

  <a id="915" href="Codata.Sized.M.html#915" class="Function">map</a> <a id="919" class="Symbol">:</a> <a id="921" class="Symbol">∀</a> <a id="923" class="Symbol">{</a><a id="924" href="Codata.Sized.M.html#924" class="Bound">i</a><a id="925" class="Symbol">}</a> <a id="927" class="Symbol">→</a> <a id="929" href="Codata.Sized.M.html#515" class="Datatype">M</a> <a id="931" href="Codata.Sized.M.html#838" class="Bound">C₁</a> <a id="934" href="Codata.Sized.M.html#924" class="Bound">i</a> <a id="936" class="Symbol">→</a> <a id="938" href="Codata.Sized.M.html#515" class="Datatype">M</a> <a id="940" href="Codata.Sized.M.html#861" class="Bound">C₂</a> <a id="943" href="Codata.Sized.M.html#924" class="Bound">i</a>
  <a id="947" href="Codata.Sized.M.html#915" class="Function">map</a> <a id="951" class="Symbol">(</a><a id="952" href="Codata.Sized.M.html#576" class="InductiveConstructor">inf</a> <a id="956" href="Codata.Sized.M.html#956" class="Bound">t</a><a id="957" class="Symbol">)</a> <a id="959" class="Symbol">=</a> <a id="961" href="Codata.Sized.M.html#576" class="InductiveConstructor">inf</a> <a id="965" class="Symbol">(</a><a id="966" href="Data.Container.Core.html#1315" class="Function Operator">⟪</a> <a id="968" href="Codata.Sized.M.html#893" class="Bound">m</a> <a id="970" href="Data.Container.Core.html#1315" class="Function Operator">⟫</a> <a id="972" class="Symbol">(</a><a id="973" href="Data.Container.Core.html#888" class="Function">C.map</a> <a id="979" class="Symbol">(λ</a> <a id="982" href="Codata.Sized.M.html#982" class="Bound">t</a> <a id="984" class="Symbol">→</a> <a id="986" class="Symbol">λ</a> <a id="988" class="Keyword">where</a> <a id="994" class="Symbol">.</a><a id="995" href="Codata.Sized.Thunk.html#608" class="Field">force</a> <a id="1001" class="Symbol">→</a> <a id="1003" href="Codata.Sized.M.html#915" class="Function">map</a> <a id="1007" class="Symbol">(</a><a id="1008" href="Codata.Sized.M.html#982" class="Bound">t</a> <a id="1010" class="Symbol">.</a><a id="1011" href="Codata.Sized.Thunk.html#608" class="Field">force</a><a id="1016" class="Symbol">))</a> <a id="1019" href="Codata.Sized.M.html#956" class="Bound">t</a><a id="1020" class="Symbol">))</a>

<a id="1024" class="Comment">-- unfold</a>

<a id="1035" class="Keyword">module</a> <a id="1042" href="Codata.Sized.M.html#1042" class="Module">_</a> <a id="1044" class="Symbol">{</a><a id="1045" href="Codata.Sized.M.html#1045" class="Bound">s</a> <a id="1047" href="Codata.Sized.M.html#1047" class="Bound">p</a> <a id="1049" href="Codata.Sized.M.html#1049" class="Bound">ℓ</a><a id="1050" class="Symbol">}</a> <a id="1052" class="Symbol">{</a><a id="1053" href="Codata.Sized.M.html#1053" class="Bound">C</a> <a id="1055" class="Symbol">:</a> <a id="1057" href="Data.Container.Core.html#566" class="Record">Container</a> <a id="1067" href="Codata.Sized.M.html#1045" class="Bound">s</a> <a id="1069" href="Codata.Sized.M.html#1047" class="Bound">p</a><a id="1070" class="Symbol">}</a> <a id="1072" class="Symbol">(</a><a id="1073" class="Keyword">open</a> <a id="1078" href="Data.Container.Core.html#566" class="Module">Container</a> <a id="1088" href="Codata.Sized.M.html#1053" class="Bound">C</a><a id="1089" class="Symbol">)</a>
         <a id="1100" class="Symbol">{</a><a id="1101" href="Codata.Sized.M.html#1101" class="Bound">S</a> <a id="1103" class="Symbol">:</a> <a id="1105" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1109" href="Codata.Sized.M.html#1049" class="Bound">ℓ</a><a id="1110" class="Symbol">}</a> <a id="1112" class="Symbol">(</a><a id="1113" href="Codata.Sized.M.html#1113" class="Bound">alg</a> <a id="1117" class="Symbol">:</a> <a id="1119" href="Codata.Sized.M.html#1101" class="Bound">S</a> <a id="1121" class="Symbol">→</a> <a id="1123" href="Data.Container.Core.html#763" class="Function Operator">⟦</a> <a id="1125" href="Codata.Sized.M.html#1053" class="Bound">C</a> <a id="1127" href="Data.Container.Core.html#763" class="Function Operator">⟧</a> <a id="1129" href="Codata.Sized.M.html#1101" class="Bound">S</a><a id="1130" class="Symbol">)</a> <a id="1132" class="Keyword">where</a>

  <a id="1141" href="Codata.Sized.M.html#1141" class="Function">unfold</a> <a id="1148" class="Symbol">:</a> <a id="1150" href="Codata.Sized.M.html#1101" class="Bound">S</a> <a id="1152" class="Symbol">→</a> <a id="1154" class="Symbol">∀</a> <a id="1156" class="Symbol">{</a><a id="1157" href="Codata.Sized.M.html#1157" class="Bound">i</a><a id="1158" class="Symbol">}</a> <a id="1160" class="Symbol">→</a> <a id="1162" href="Codata.Sized.M.html#515" class="Datatype">M</a> <a id="1164" href="Codata.Sized.M.html#1053" class="Bound">C</a> <a id="1166" href="Codata.Sized.M.html#1157" class="Bound">i</a>
  <a id="1170" href="Codata.Sized.M.html#1141" class="Function">unfold</a> <a id="1177" href="Codata.Sized.M.html#1177" class="Bound">seed</a> <a id="1182" class="Symbol">=</a> <a id="1184" class="Keyword">let</a> <a id="1188" class="Symbol">(</a><a id="1189" href="Codata.Sized.M.html#1189" class="Bound">x</a> <a id="1191" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1193" href="Codata.Sized.M.html#1193" class="Bound">next</a><a id="1197" class="Symbol">)</a> <a id="1199" class="Symbol">=</a> <a id="1201" href="Codata.Sized.M.html#1113" class="Bound">alg</a> <a id="1205" href="Codata.Sized.M.html#1177" class="Bound">seed</a> <a id="1210" class="Keyword">in</a>
                <a id="1229" href="Codata.Sized.M.html#576" class="InductiveConstructor">inf</a> <a id="1233" class="Symbol">(</a><a id="1234" href="Codata.Sized.M.html#1189" class="Bound">x</a> <a id="1236" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1238" class="Symbol">λ</a> <a id="1240" href="Codata.Sized.M.html#1240" class="Bound">p</a> <a id="1242" class="Symbol">→</a> <a id="1244" class="Symbol">λ</a> <a id="1246" class="Keyword">where</a> <a id="1252" class="Symbol">.</a><a id="1253" href="Codata.Sized.Thunk.html#608" class="Field">force</a> <a id="1259" class="Symbol">→</a> <a id="1261" href="Codata.Sized.M.html#1141" class="Function">unfold</a> <a id="1268" class="Symbol">(</a><a id="1269" href="Codata.Sized.M.html#1193" class="Bound">next</a> <a id="1274" href="Codata.Sized.M.html#1240" class="Bound">p</a><a id="1275" class="Symbol">))</a>
</pre></body></html>