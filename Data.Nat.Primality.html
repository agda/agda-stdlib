<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Nat.Primality</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Primality</a>
<a id="119" class="Comment">------------------------------------------------------------------------</a>

<a id="193" class="Symbol">{-#</a> <a id="197" class="Keyword">OPTIONS</a> <a id="205" class="Pragma">--without-K</a> <a id="217" class="Pragma">--safe</a> <a id="224" class="Symbol">#-}</a>

<a id="229" class="Keyword">module</a> <a id="236" href="Data.Nat.Primality.html" class="Module">Data.Nat.Primality</a> <a id="255" class="Keyword">where</a>

<a id="262" class="Keyword">open</a> <a id="267" class="Keyword">import</a> <a id="274" href="Data.Empty.html" class="Module">Data.Empty</a> <a id="285" class="Keyword">using</a> <a id="291" class="Symbol">(</a><a id="292" href="Data.Empty.html#279" class="Datatype">⊥</a><a id="293" class="Symbol">)</a>
<a id="295" class="Keyword">open</a> <a id="300" class="Keyword">import</a> <a id="307" href="Data.Fin.html" class="Module">Data.Fin</a> <a id="316" class="Keyword">using</a> <a id="322" class="Symbol">(</a><a id="323" href="Data.Fin.Base.html#1005" class="Datatype">Fin</a><a id="326" class="Symbol">;</a> <a id="328" href="Data.Fin.Base.html#1131" class="Function">toℕ</a><a id="331" class="Symbol">)</a>
<a id="333" class="Keyword">open</a> <a id="338" class="Keyword">import</a> <a id="345" href="Data.Fin.Properties.html" class="Module">Data.Fin.Properties</a> <a id="365" class="Keyword">using</a> <a id="371" class="Symbol">(</a><a id="372" href="Data.Fin.Properties.html#17514" class="Function">all?</a><a id="376" class="Symbol">)</a>
<a id="378" class="Keyword">open</a> <a id="383" class="Keyword">import</a> <a id="390" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="399" class="Keyword">using</a> <a id="405" class="Symbol">(</a><a id="406" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="407" class="Symbol">;</a> <a id="409" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a><a id="412" class="Symbol">;</a> <a id="414" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">_+_</a><a id="417" class="Symbol">)</a>
<a id="419" class="Keyword">open</a> <a id="424" class="Keyword">import</a> <a id="431" href="Data.Nat.Divisibility.html" class="Module">Data.Nat.Divisibility</a> <a id="453" class="Keyword">using</a> <a id="459" class="Symbol">(</a><a id="460" href="Data.Nat.Divisibility.Core.html#1244" class="Function Operator">_∤_</a><a id="463" class="Symbol">;</a> <a id="465" href="Data.Nat.Divisibility.html#2437" class="Function Operator">_∣?_</a><a id="469" class="Symbol">)</a>
<a id="471" class="Keyword">open</a> <a id="476" class="Keyword">import</a> <a id="483" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="500" class="Keyword">using</a> <a id="506" class="Symbol">(</a><a id="507" href="Relation.Nullary.html#641" class="InductiveConstructor">yes</a><a id="510" class="Symbol">;</a> <a id="512" href="Relation.Nullary.html#668" class="InductiveConstructor">no</a><a id="514" class="Symbol">)</a>
<a id="516" class="Keyword">open</a> <a id="521" class="Keyword">import</a> <a id="528" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="555" class="Keyword">using</a> <a id="561" class="Symbol">(</a><a id="562" href="Relation.Nullary.Decidable.Core.html#1643" class="Function">from-yes</a><a id="570" class="Symbol">)</a>
<a id="572" class="Keyword">open</a> <a id="577" class="Keyword">import</a> <a id="584" href="Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="610" class="Keyword">using</a> <a id="616" class="Symbol">(</a><a id="617" href="Relation.Nullary.Negation.html#1115" class="Function">¬?</a><a id="619" class="Symbol">)</a>
<a id="621" class="Keyword">open</a> <a id="626" class="Keyword">import</a> <a id="633" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="648" class="Keyword">using</a> <a id="654" class="Symbol">(</a><a id="655" href="Relation.Unary.html#3479" class="Function">Decidable</a><a id="664" class="Symbol">)</a>

<a id="667" class="Comment">-- Definition of primality.</a>

<a id="Prime"></a><a id="696" href="Data.Nat.Primality.html#696" class="Function">Prime</a> <a id="702" class="Symbol">:</a> <a id="704" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a> <a id="706" class="Symbol">→</a> <a id="708" class="PrimitiveType">Set</a>
<a id="712" href="Data.Nat.Primality.html#696" class="Function">Prime</a> <a id="718" class="Number">0</a>             <a id="732" class="Symbol">=</a> <a id="734" href="Data.Empty.html#279" class="Datatype">⊥</a>
<a id="736" href="Data.Nat.Primality.html#696" class="Function">Prime</a> <a id="742" class="Number">1</a>             <a id="756" class="Symbol">=</a> <a id="758" href="Data.Empty.html#279" class="Datatype">⊥</a>
<a id="760" href="Data.Nat.Primality.html#696" class="Function">Prime</a> <a id="766" class="Symbol">(</a><a id="767" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="771" class="Symbol">(</a><a id="772" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="776" href="Data.Nat.Primality.html#776" class="Bound">n</a><a id="777" class="Symbol">))</a> <a id="780" class="Symbol">=</a> <a id="782" class="Symbol">(</a><a id="783" href="Data.Nat.Primality.html#783" class="Bound">i</a> <a id="785" class="Symbol">:</a> <a id="787" href="Data.Fin.Base.html#1005" class="Datatype">Fin</a> <a id="791" href="Data.Nat.Primality.html#776" class="Bound">n</a><a id="792" class="Symbol">)</a> <a id="794" class="Symbol">→</a> <a id="796" class="Number">2</a> <a id="798" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="800" href="Data.Fin.Base.html#1131" class="Function">toℕ</a> <a id="804" href="Data.Nat.Primality.html#783" class="Bound">i</a> <a id="806" href="Data.Nat.Divisibility.Core.html#1244" class="Function Operator">∤</a> <a id="808" class="Number">2</a> <a id="810" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="812" href="Data.Nat.Primality.html#776" class="Bound">n</a>

<a id="815" class="Comment">-- Decision procedure for primality.</a>

<a id="prime?"></a><a id="853" href="Data.Nat.Primality.html#853" class="Function">prime?</a> <a id="860" class="Symbol">:</a> <a id="862" href="Relation.Unary.html#3479" class="Function">Decidable</a> <a id="872" href="Data.Nat.Primality.html#696" class="Function">Prime</a>
<a id="878" href="Data.Nat.Primality.html#853" class="Function">prime?</a> <a id="885" class="Number">0</a>             <a id="899" class="Symbol">=</a> <a id="901" href="Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="904" class="Symbol">λ()</a>
<a id="908" href="Data.Nat.Primality.html#853" class="Function">prime?</a> <a id="915" class="Number">1</a>             <a id="929" class="Symbol">=</a> <a id="931" href="Relation.Nullary.html#668" class="InductiveConstructor">no</a> <a id="934" class="Symbol">λ()</a>
<a id="938" href="Data.Nat.Primality.html#853" class="Function">prime?</a> <a id="945" class="Symbol">(</a><a id="946" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="950" class="Symbol">(</a><a id="951" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="955" href="Data.Nat.Primality.html#955" class="Bound">n</a><a id="956" class="Symbol">))</a> <a id="959" class="Symbol">=</a> <a id="961" href="Data.Fin.Properties.html#17514" class="Function">all?</a> <a id="966" class="Symbol">(λ</a> <a id="969" href="Data.Nat.Primality.html#969" class="Bound">_</a> <a id="971" class="Symbol">→</a> <a id="973" href="Relation.Nullary.Negation.html#1115" class="Function">¬?</a> <a id="976" class="Symbol">(_</a> <a id="979" href="Data.Nat.Divisibility.html#2437" class="Function Operator">∣?</a> <a id="982" class="Symbol">_))</a>

<a id="987" class="Keyword">private</a>

  <a id="998" class="Comment">-- Example: 2 is prime.</a>

  <a id="2-is-prime"></a><a id="1025" href="Data.Nat.Primality.html#1025" class="Function">2-is-prime</a> <a id="1036" class="Symbol">:</a> <a id="1038" href="Data.Nat.Primality.html#696" class="Function">Prime</a> <a id="1044" class="Number">2</a>
  <a id="1048" href="Data.Nat.Primality.html#1025" class="Function">2-is-prime</a> <a id="1059" class="Symbol">=</a> <a id="1061" href="Relation.Nullary.Decidable.Core.html#1643" class="Function">from-yes</a> <a id="1070" class="Symbol">(</a><a id="1071" href="Data.Nat.Primality.html#853" class="Function">prime?</a> <a id="1078" class="Number">2</a><a id="1079" class="Symbol">)</a>
</pre></body></html>