<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Nat.Primality</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Primality</a>
<a id="119" class="Comment">------------------------------------------------------------------------</a>

<a id="193" class="Symbol">{-#</a> <a id="197" class="Keyword">OPTIONS</a> <a id="205" class="Pragma">--cubical-compatible</a> <a id="226" class="Pragma">--safe</a> <a id="233" class="Symbol">#-}</a>

<a id="238" class="Keyword">module</a> <a id="245" href="Data.Nat.Primality.html" class="Module">Data.Nat.Primality</a> <a id="264" class="Keyword">where</a>

<a id="271" class="Keyword">open</a> <a id="276" class="Keyword">import</a> <a id="283" href="Data.Empty.html" class="Module">Data.Empty</a> <a id="294" class="Keyword">using</a> <a id="300" class="Symbol">(</a><a id="301" href="Data.Empty.html#535" class="Datatype">⊥</a><a id="302" class="Symbol">)</a>
<a id="304" class="Keyword">open</a> <a id="309" class="Keyword">import</a> <a id="316" href="Data.Fin.Base.html" class="Module">Data.Fin.Base</a> <a id="330" class="Keyword">using</a> <a id="336" class="Symbol">(</a><a id="337" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a><a id="340" class="Symbol">;</a> <a id="342" href="Data.Fin.Base.html#1261" class="Function">toℕ</a><a id="345" class="Symbol">)</a>
<a id="347" class="Keyword">open</a> <a id="352" class="Keyword">import</a> <a id="359" href="Data.Fin.Properties.html" class="Module">Data.Fin.Properties</a> <a id="379" class="Keyword">using</a> <a id="385" class="Symbol">(</a><a id="386" href="Data.Fin.Properties.html#27804" class="Function">all?</a><a id="390" class="Symbol">)</a>
<a id="392" class="Keyword">open</a> <a id="397" class="Keyword">import</a> <a id="404" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="418" class="Keyword">using</a> <a id="424" class="Symbol">(</a><a id="425" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="426" class="Symbol">;</a> <a id="428" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="431" class="Symbol">;</a> <a id="433" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a><a id="436" class="Symbol">)</a>
<a id="438" class="Keyword">open</a> <a id="443" class="Keyword">import</a> <a id="450" href="Data.Nat.Divisibility.html" class="Module">Data.Nat.Divisibility</a> <a id="472" class="Keyword">using</a> <a id="478" class="Symbol">(</a><a id="479" href="Data.Nat.Divisibility.Core.html#1285" class="Function Operator">_∤_</a><a id="482" class="Symbol">;</a> <a id="484" href="Data.Nat.Divisibility.html#2717" class="Function Operator">_∣?_</a><a id="488" class="Symbol">)</a>
<a id="490" class="Keyword">open</a> <a id="495" class="Keyword">import</a> <a id="502" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="519" class="Keyword">using</a> <a id="525" class="Symbol">(</a><a id="526" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a><a id="529" class="Symbol">;</a> <a id="531" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a><a id="533" class="Symbol">)</a>
<a id="535" class="Keyword">open</a> <a id="540" class="Keyword">import</a> <a id="547" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="574" class="Keyword">using</a> <a id="580" class="Symbol">(</a><a id="581" href="Relation.Nullary.Decidable.Core.html#2361" class="Function">from-yes</a><a id="589" class="Symbol">)</a>
<a id="591" class="Keyword">open</a> <a id="596" class="Keyword">import</a> <a id="603" href="Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="629" class="Keyword">using</a> <a id="635" class="Symbol">(</a><a id="636" href="Relation.Nullary.Negation.Core.html#1364" class="Function">¬?</a><a id="638" class="Symbol">)</a>
<a id="640" class="Keyword">open</a> <a id="645" class="Keyword">import</a> <a id="652" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="667" class="Keyword">using</a> <a id="673" class="Symbol">(</a><a id="674" href="Relation.Unary.html#3545" class="Function">Decidable</a><a id="683" class="Symbol">)</a>

<a id="686" class="Comment">-- Definition of primality.</a>

<a id="Prime"></a><a id="715" href="Data.Nat.Primality.html#715" class="Function">Prime</a> <a id="721" class="Symbol">:</a> <a id="723" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="725" class="Symbol">→</a> <a id="727" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="731" href="Data.Nat.Primality.html#715" class="Function">Prime</a> <a id="737" class="Number">0</a>             <a id="751" class="Symbol">=</a> <a id="753" href="Data.Empty.html#535" class="Datatype">⊥</a>
<a id="755" href="Data.Nat.Primality.html#715" class="Function">Prime</a> <a id="761" class="Number">1</a>             <a id="775" class="Symbol">=</a> <a id="777" href="Data.Empty.html#535" class="Datatype">⊥</a>
<a id="779" href="Data.Nat.Primality.html#715" class="Function">Prime</a> <a id="785" class="Symbol">(</a><a id="786" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="790" class="Symbol">(</a><a id="791" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="795" href="Data.Nat.Primality.html#795" class="Bound">n</a><a id="796" class="Symbol">))</a> <a id="799" class="Symbol">=</a> <a id="801" class="Symbol">(</a><a id="802" href="Data.Nat.Primality.html#802" class="Bound">i</a> <a id="804" class="Symbol">:</a> <a id="806" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a> <a id="810" href="Data.Nat.Primality.html#795" class="Bound">n</a><a id="811" class="Symbol">)</a> <a id="813" class="Symbol">→</a> <a id="815" class="Number">2</a> <a id="817" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="819" href="Data.Fin.Base.html#1261" class="Function">toℕ</a> <a id="823" href="Data.Nat.Primality.html#802" class="Bound">i</a> <a id="825" href="Data.Nat.Divisibility.Core.html#1285" class="Function Operator">∤</a> <a id="827" class="Number">2</a> <a id="829" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="831" href="Data.Nat.Primality.html#795" class="Bound">n</a>

<a id="834" class="Comment">-- Decision procedure for primality.</a>

<a id="prime?"></a><a id="872" href="Data.Nat.Primality.html#872" class="Function">prime?</a> <a id="879" class="Symbol">:</a> <a id="881" href="Relation.Unary.html#3545" class="Function">Decidable</a> <a id="891" href="Data.Nat.Primality.html#715" class="Function">Prime</a>
<a id="897" href="Data.Nat.Primality.html#872" class="Function">prime?</a> <a id="904" class="Number">0</a>             <a id="918" class="Symbol">=</a> <a id="920" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="923" class="Symbol">λ()</a>
<a id="927" href="Data.Nat.Primality.html#872" class="Function">prime?</a> <a id="934" class="Number">1</a>             <a id="948" class="Symbol">=</a> <a id="950" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="953" class="Symbol">λ()</a>
<a id="957" href="Data.Nat.Primality.html#872" class="Function">prime?</a> <a id="964" class="Symbol">(</a><a id="965" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="969" class="Symbol">(</a><a id="970" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="974" href="Data.Nat.Primality.html#974" class="Bound">n</a><a id="975" class="Symbol">))</a> <a id="978" class="Symbol">=</a> <a id="980" href="Data.Fin.Properties.html#27804" class="Function">all?</a> <a id="985" class="Symbol">(λ</a> <a id="988" href="Data.Nat.Primality.html#988" class="Bound">_</a> <a id="990" class="Symbol">→</a> <a id="992" href="Relation.Nullary.Negation.Core.html#1364" class="Function">¬?</a> <a id="995" class="Symbol">(_</a> <a id="998" href="Data.Nat.Divisibility.html#2717" class="Function Operator">∣?</a> <a id="1001" class="Symbol">_))</a>

<a id="1006" class="Keyword">private</a>

  <a id="1017" class="Comment">-- Example: 2 is prime.</a>

  <a id="2-is-prime"></a><a id="1044" href="Data.Nat.Primality.html#1044" class="Function">2-is-prime</a> <a id="1055" class="Symbol">:</a> <a id="1057" href="Data.Nat.Primality.html#715" class="Function">Prime</a> <a id="1063" class="Number">2</a>
  <a id="1067" href="Data.Nat.Primality.html#1044" class="Function">2-is-prime</a> <a id="1078" class="Symbol">=</a> <a id="1080" href="Relation.Nullary.Decidable.Core.html#2361" class="Function">from-yes</a> <a id="1089" class="Symbol">(</a><a id="1090" href="Data.Nat.Primality.html#872" class="Function">prime?</a> <a id="1097" class="Number">2</a><a id="1098" class="Symbol">)</a>
</pre></body></html>