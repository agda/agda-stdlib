<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Vec.Categorical</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- A categorical view of Vec</a>
<a id="135" class="Comment">------------------------------------------------------------------------</a>

<a id="209" class="Symbol">{-#</a> <a id="213" class="Keyword">OPTIONS</a> <a id="221" class="Pragma">--cubical-compatible</a> <a id="242" class="Pragma">--safe</a> <a id="249" class="Symbol">#-}</a>

<a id="254" class="Keyword">module</a> <a id="261" href="Data.Vec.Categorical.html" class="Module">Data.Vec.Categorical</a> <a id="282" class="Symbol">{</a><a id="283" href="Data.Vec.Categorical.html#283" class="Bound">a</a> <a id="285" href="Data.Vec.Categorical.html#285" class="Bound">n</a><a id="286" class="Symbol">}</a> <a id="288" class="Keyword">where</a>

<a id="295" class="Keyword">open</a> <a id="300" class="Keyword">import</a> <a id="307" href="Category.Applicative.html" class="Module">Category.Applicative</a> <a id="328" class="Keyword">using</a> <a id="334" class="Symbol">(</a><a id="335" href="Category.Applicative.html#503" class="Function">RawApplicative</a><a id="349" class="Symbol">)</a>
<a id="351" class="Keyword">open</a> <a id="356" class="Keyword">import</a> <a id="363" href="Category.Applicative.Indexed.html" class="Module">Category.Applicative.Indexed</a> <a id="392" class="Keyword">using</a> <a id="398" class="Symbol">(</a><a id="399" href="Category.Applicative.Indexed.html#2585" class="Record">Morphism</a><a id="407" class="Symbol">)</a>
<a id="409" class="Keyword">open</a> <a id="414" class="Keyword">import</a> <a id="421" href="Category.Functor.html" class="Module">Category.Functor</a> <a id="438" class="Symbol">as</a> <a id="441" class="Module">Fun</a> <a id="445" class="Keyword">using</a> <a id="451" class="Symbol">(</a><a id="452" href="Category.Functor.html#508" class="Record">RawFunctor</a><a id="462" class="Symbol">)</a>
<a id="464" class="Keyword">import</a> <a id="471" href="Function.Identity.Categorical.html" class="Module">Function.Identity.Categorical</a> <a id="501" class="Symbol">as</a> <a id="504" class="Module">Id</a>
<a id="507" class="Keyword">open</a> <a id="512" class="Keyword">import</a> <a id="519" href="Category.Monad.html" class="Module">Category.Monad</a> <a id="534" class="Keyword">using</a> <a id="540" class="Symbol">(</a><a id="541" href="Category.Monad.html#457" class="Function">RawMonad</a><a id="549" class="Symbol">)</a>
<a id="551" class="Keyword">open</a> <a id="556" class="Keyword">import</a> <a id="563" href="Data.Fin.Base.html" class="Module">Data.Fin.Base</a> <a id="577" class="Keyword">using</a> <a id="583" class="Symbol">(</a><a id="584" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a><a id="587" class="Symbol">)</a>
<a id="589" class="Keyword">open</a> <a id="594" class="Keyword">import</a> <a id="601" href="Data.Vec.Base.html" class="Module">Data.Vec.Base</a> <a id="615" class="Symbol">as</a> <a id="618" class="Module">Vec</a> <a id="622" class="Keyword">hiding</a> <a id="629" class="Symbol">(</a><a id="630" href="Data.Vec.Base.html#4218" class="Function Operator">_⊛_</a><a id="633" class="Symbol">)</a>
<a id="635" class="Keyword">open</a> <a id="640" class="Keyword">import</a> <a id="647" href="Data.Vec.Properties.html" class="Module">Data.Vec.Properties</a>
<a id="667" class="Keyword">open</a> <a id="672" class="Keyword">import</a> <a id="679" href="Function.html" class="Module">Function</a> <a id="688" class="Keyword">hiding</a> <a id="695" class="Symbol">(</a><a id="696" href="Function.Core.html#655" class="Function">Morphism</a><a id="704" class="Symbol">)</a>

<a id="707" class="Comment">------------------------------------------------------------------------</a>
<a id="780" class="Comment">-- Functor and applicative</a>

<a id="functor"></a><a id="808" href="Data.Vec.Categorical.html#808" class="Function">functor</a> <a id="816" class="Symbol">:</a> <a id="818" href="Category.Functor.html#508" class="Record">RawFunctor</a> <a id="829" class="Symbol">(λ</a> <a id="832" class="Symbol">(</a><a id="833" href="Data.Vec.Categorical.html#833" class="Bound">A</a> <a id="835" class="Symbol">:</a> <a id="837" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="841" href="Data.Vec.Categorical.html#283" class="Bound">a</a><a id="842" class="Symbol">)</a> <a id="844" class="Symbol">→</a> <a id="846" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a> <a id="850" href="Data.Vec.Categorical.html#833" class="Bound">A</a> <a id="852" href="Data.Vec.Categorical.html#285" class="Bound">n</a><a id="853" class="Symbol">)</a>
<a id="855" href="Data.Vec.Categorical.html#808" class="Function">functor</a> <a id="863" class="Symbol">=</a> <a id="865" class="Keyword">record</a>
  <a id="874" class="Symbol">{</a> <a id="876" href="Category.Functor.html#617" class="Field Operator">_&lt;$&gt;_</a> <a id="882" class="Symbol">=</a> <a id="884" href="Data.Vec.Base.html#2589" class="Function">map</a>
  <a id="890" class="Symbol">}</a>

<a id="applicative"></a><a id="893" href="Data.Vec.Categorical.html#893" class="Function">applicative</a> <a id="905" class="Symbol">:</a> <a id="907" href="Category.Applicative.html#503" class="Function">RawApplicative</a> <a id="922" class="Symbol">(λ</a> <a id="925" class="Symbol">(</a><a id="926" href="Data.Vec.Categorical.html#926" class="Bound">A</a> <a id="928" class="Symbol">:</a> <a id="930" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="934" href="Data.Vec.Categorical.html#283" class="Bound">a</a><a id="935" class="Symbol">)</a> <a id="937" class="Symbol">→</a> <a id="939" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a> <a id="943" href="Data.Vec.Categorical.html#926" class="Bound">A</a> <a id="945" href="Data.Vec.Categorical.html#285" class="Bound">n</a><a id="946" class="Symbol">)</a>
<a id="948" href="Data.Vec.Categorical.html#893" class="Function">applicative</a> <a id="960" class="Symbol">=</a> <a id="962" class="Keyword">record</a>
  <a id="971" class="Symbol">{</a> <a id="973" href="Category.Applicative.Indexed.html#1012" class="Field">pure</a> <a id="978" class="Symbol">=</a> <a id="980" href="Data.Vec.Base.html#5793" class="Function">replicate</a>
  <a id="992" class="Symbol">;</a> <a id="994" href="Category.Applicative.Indexed.html#1043" class="Field Operator">_⊛_</a>  <a id="999" class="Symbol">=</a> <a id="1001" href="Data.Vec.Base.html#4218" class="Function Operator">Vec._⊛_</a>
  <a id="1011" class="Symbol">}</a>

<a id="1014" class="Comment">------------------------------------------------------------------------</a>
<a id="1087" class="Comment">-- Get access to other monadic functions</a>

<a id="1129" class="Keyword">module</a> <a id="TraversableA"></a><a id="1136" href="Data.Vec.Categorical.html#1136" class="Module">TraversableA</a> <a id="1149" class="Symbol">{</a><a id="1150" href="Data.Vec.Categorical.html#1150" class="Bound">f</a> <a id="1152" href="Data.Vec.Categorical.html#1152" class="Bound">F</a><a id="1153" class="Symbol">}</a> <a id="1155" class="Symbol">(</a><a id="1156" href="Data.Vec.Categorical.html#1156" class="Bound">App</a> <a id="1160" class="Symbol">:</a> <a id="1162" href="Category.Applicative.html#503" class="Function">RawApplicative</a> <a id="1177" class="Symbol">{</a><a id="1178" href="Data.Vec.Categorical.html#1150" class="Bound">f</a><a id="1179" class="Symbol">}</a> <a id="1181" href="Data.Vec.Categorical.html#1152" class="Bound">F</a><a id="1182" class="Symbol">)</a> <a id="1184" class="Keyword">where</a>

  <a id="1193" class="Keyword">open</a> <a id="1198" href="Category.Applicative.html#611" class="Module">RawApplicative</a> <a id="1213" href="Data.Vec.Categorical.html#1156" class="Bound">App</a>

  <a id="TraversableA.sequenceA"></a><a id="1220" href="Data.Vec.Categorical.html#1220" class="Function">sequenceA</a> <a id="1230" class="Symbol">:</a> <a id="1232" class="Symbol">∀</a> <a id="1234" class="Symbol">{</a><a id="1235" href="Data.Vec.Categorical.html#1235" class="Bound">A</a> <a id="1237" href="Data.Vec.Categorical.html#1237" class="Bound">n</a><a id="1238" class="Symbol">}</a> <a id="1240" class="Symbol">→</a> <a id="1242" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a> <a id="1246" class="Symbol">(</a><a id="1247" href="Data.Vec.Categorical.html#1152" class="Bound">F</a> <a id="1249" href="Data.Vec.Categorical.html#1235" class="Bound">A</a><a id="1250" class="Symbol">)</a> <a id="1252" href="Data.Vec.Categorical.html#1237" class="Bound">n</a> <a id="1254" class="Symbol">→</a> <a id="1256" href="Data.Vec.Categorical.html#1152" class="Bound">F</a> <a id="1258" class="Symbol">(</a><a id="1259" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a> <a id="1263" href="Data.Vec.Categorical.html#1235" class="Bound">A</a> <a id="1265" href="Data.Vec.Categorical.html#1237" class="Bound">n</a><a id="1266" class="Symbol">)</a>
  <a id="1270" href="Data.Vec.Categorical.html#1220" class="Function">sequenceA</a> <a id="1280" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a>       <a id="1289" class="Symbol">=</a> <a id="1291" href="Category.Applicative.Indexed.html#1012" class="Field">pure</a> <a id="1296" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a>
  <a id="1301" href="Data.Vec.Categorical.html#1220" class="Function">sequenceA</a> <a id="1311" class="Symbol">(</a><a id="1312" href="Data.Vec.Categorical.html#1312" class="Bound">x</a> <a id="1314" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">∷</a> <a id="1316" href="Data.Vec.Categorical.html#1316" class="Bound">xs</a><a id="1318" class="Symbol">)</a> <a id="1320" class="Symbol">=</a> <a id="1322" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">_∷_</a> <a id="1326" href="Category.Functor.html#617" class="Function Operator">&lt;$&gt;</a> <a id="1330" href="Data.Vec.Categorical.html#1312" class="Bound">x</a> <a id="1332" href="Category.Applicative.Indexed.html#1043" class="Field Operator">⊛</a> <a id="1334" href="Data.Vec.Categorical.html#1220" class="Function">sequenceA</a> <a id="1344" href="Data.Vec.Categorical.html#1316" class="Bound">xs</a>

  <a id="TraversableA.mapA"></a><a id="1350" href="Data.Vec.Categorical.html#1350" class="Function">mapA</a> <a id="1355" class="Symbol">:</a> <a id="1357" class="Symbol">∀</a> <a id="1359" class="Symbol">{</a><a id="1360" href="Data.Vec.Categorical.html#1360" class="Bound">a</a><a id="1361" class="Symbol">}</a> <a id="1363" class="Symbol">{</a><a id="1364" href="Data.Vec.Categorical.html#1364" class="Bound">A</a> <a id="1366" class="Symbol">:</a> <a id="1368" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1372" href="Data.Vec.Categorical.html#1360" class="Bound">a</a><a id="1373" class="Symbol">}</a> <a id="1375" class="Symbol">{</a><a id="1376" href="Data.Vec.Categorical.html#1376" class="Bound">B</a> <a id="1378" href="Data.Vec.Categorical.html#1378" class="Bound">n</a><a id="1379" class="Symbol">}</a> <a id="1381" class="Symbol">→</a> <a id="1383" class="Symbol">(</a><a id="1384" href="Data.Vec.Categorical.html#1364" class="Bound">A</a> <a id="1386" class="Symbol">→</a> <a id="1388" href="Data.Vec.Categorical.html#1152" class="Bound">F</a> <a id="1390" href="Data.Vec.Categorical.html#1376" class="Bound">B</a><a id="1391" class="Symbol">)</a> <a id="1393" class="Symbol">→</a> <a id="1395" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a> <a id="1399" href="Data.Vec.Categorical.html#1364" class="Bound">A</a> <a id="1401" href="Data.Vec.Categorical.html#1378" class="Bound">n</a> <a id="1403" class="Symbol">→</a> <a id="1405" href="Data.Vec.Categorical.html#1152" class="Bound">F</a> <a id="1407" class="Symbol">(</a><a id="1408" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a> <a id="1412" href="Data.Vec.Categorical.html#1376" class="Bound">B</a> <a id="1414" href="Data.Vec.Categorical.html#1378" class="Bound">n</a><a id="1415" class="Symbol">)</a>
  <a id="1419" href="Data.Vec.Categorical.html#1350" class="Function">mapA</a> <a id="1424" href="Data.Vec.Categorical.html#1424" class="Bound">f</a> <a id="1426" class="Symbol">=</a> <a id="1428" href="Data.Vec.Categorical.html#1220" class="Function">sequenceA</a> <a id="1438" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1440" href="Data.Vec.Base.html#2589" class="Function">map</a> <a id="1444" href="Data.Vec.Categorical.html#1424" class="Bound">f</a>

  <a id="TraversableA.forA"></a><a id="1449" href="Data.Vec.Categorical.html#1449" class="Function">forA</a> <a id="1454" class="Symbol">:</a> <a id="1456" class="Symbol">∀</a> <a id="1458" class="Symbol">{</a><a id="1459" href="Data.Vec.Categorical.html#1459" class="Bound">a</a><a id="1460" class="Symbol">}</a> <a id="1462" class="Symbol">{</a><a id="1463" href="Data.Vec.Categorical.html#1463" class="Bound">A</a> <a id="1465" class="Symbol">:</a> <a id="1467" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1471" href="Data.Vec.Categorical.html#1459" class="Bound">a</a><a id="1472" class="Symbol">}</a> <a id="1474" class="Symbol">{</a><a id="1475" href="Data.Vec.Categorical.html#1475" class="Bound">B</a> <a id="1477" href="Data.Vec.Categorical.html#1477" class="Bound">n</a><a id="1478" class="Symbol">}</a> <a id="1480" class="Symbol">→</a> <a id="1482" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a> <a id="1486" href="Data.Vec.Categorical.html#1463" class="Bound">A</a> <a id="1488" href="Data.Vec.Categorical.html#1477" class="Bound">n</a> <a id="1490" class="Symbol">→</a> <a id="1492" class="Symbol">(</a><a id="1493" href="Data.Vec.Categorical.html#1463" class="Bound">A</a> <a id="1495" class="Symbol">→</a> <a id="1497" href="Data.Vec.Categorical.html#1152" class="Bound">F</a> <a id="1499" href="Data.Vec.Categorical.html#1475" class="Bound">B</a><a id="1500" class="Symbol">)</a> <a id="1502" class="Symbol">→</a> <a id="1504" href="Data.Vec.Categorical.html#1152" class="Bound">F</a> <a id="1506" class="Symbol">(</a><a id="1507" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a> <a id="1511" href="Data.Vec.Categorical.html#1475" class="Bound">B</a> <a id="1513" href="Data.Vec.Categorical.html#1477" class="Bound">n</a><a id="1514" class="Symbol">)</a>
  <a id="1518" href="Data.Vec.Categorical.html#1449" class="Function">forA</a> <a id="1523" class="Symbol">=</a> <a id="1525" href="Function.Base.html#1563" class="Function">flip</a> <a id="1530" href="Data.Vec.Categorical.html#1350" class="Function">mapA</a>

<a id="1536" class="Keyword">module</a> <a id="TraversableM"></a><a id="1543" href="Data.Vec.Categorical.html#1543" class="Module">TraversableM</a> <a id="1556" class="Symbol">{</a><a id="1557" href="Data.Vec.Categorical.html#1557" class="Bound">m</a> <a id="1559" href="Data.Vec.Categorical.html#1559" class="Bound">M</a><a id="1560" class="Symbol">}</a> <a id="1562" class="Symbol">(</a><a id="1563" href="Data.Vec.Categorical.html#1563" class="Bound">Mon</a> <a id="1567" class="Symbol">:</a> <a id="1569" href="Category.Monad.html#457" class="Function">RawMonad</a> <a id="1578" class="Symbol">{</a><a id="1579" href="Data.Vec.Categorical.html#1557" class="Bound">m</a><a id="1580" class="Symbol">}</a> <a id="1582" href="Data.Vec.Categorical.html#1559" class="Bound">M</a><a id="1583" class="Symbol">)</a> <a id="1585" class="Keyword">where</a>

  <a id="1594" class="Keyword">open</a> <a id="1599" href="Category.Monad.html#841" class="Module">RawMonad</a> <a id="1608" href="Data.Vec.Categorical.html#1563" class="Bound">Mon</a>

  <a id="1615" class="Keyword">open</a> <a id="1620" href="Data.Vec.Categorical.html#1136" class="Module">TraversableA</a> <a id="1633" href="Category.Monad.Indexed.html#1150" class="Function">rawIApplicative</a> <a id="1649" class="Keyword">public</a>
    <a id="1660" class="Keyword">renaming</a>
    <a id="1673" class="Symbol">(</a> <a id="1675" href="Data.Vec.Categorical.html#1220" class="Function">sequenceA</a> <a id="1685" class="Symbol">to</a> <a id="1688" class="Function">sequenceM</a>
    <a id="1702" class="Symbol">;</a> <a id="1704" href="Data.Vec.Categorical.html#1350" class="Function">mapA</a>      <a id="1714" class="Symbol">to</a> <a id="1717" class="Function">mapM</a>
    <a id="1726" class="Symbol">;</a> <a id="1728" href="Data.Vec.Categorical.html#1449" class="Function">forA</a>      <a id="1738" class="Symbol">to</a> <a id="1741" class="Function">forM</a>
    <a id="1750" class="Symbol">)</a>

<a id="1753" class="Comment">------------------------------------------------------------------------</a>
<a id="1826" class="Comment">-- Other</a>

<a id="1836" class="Comment">-- lookup is a functor morphism from Vec to Identity.</a>

<a id="lookup-functor-morphism"></a><a id="1891" href="Data.Vec.Categorical.html#1891" class="Function">lookup-functor-morphism</a> <a id="1915" class="Symbol">:</a> <a id="1917" class="Symbol">(</a><a id="1918" href="Data.Vec.Categorical.html#1918" class="Bound">i</a> <a id="1920" class="Symbol">:</a> <a id="1922" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a> <a id="1926" href="Data.Vec.Categorical.html#285" class="Bound">n</a><a id="1927" class="Symbol">)</a> <a id="1929" class="Symbol">→</a> <a id="1931" href="Category.Functor.html#849" class="Record">Fun.Morphism</a> <a id="1944" href="Data.Vec.Categorical.html#808" class="Function">functor</a> <a id="1952" href="Function.Identity.Categorical.html#501" class="Function">Id.functor</a>
<a id="1963" href="Data.Vec.Categorical.html#1891" class="Function">lookup-functor-morphism</a> <a id="1987" href="Data.Vec.Categorical.html#1987" class="Bound">i</a> <a id="1989" class="Symbol">=</a> <a id="1991" class="Keyword">record</a>
  <a id="2000" class="Symbol">{</a> <a id="2002" href="Category.Functor.html#1040" class="Field">op</a>     <a id="2009" class="Symbol">=</a> <a id="2011" href="Function.Base.html#1563" class="Function">flip</a> <a id="2016" href="Data.Vec.Base.html#1614" class="Function">lookup</a> <a id="2023" href="Data.Vec.Categorical.html#1987" class="Bound">i</a>
  <a id="2027" class="Symbol">;</a> <a id="2029" href="Category.Functor.html#1065" class="Field">op-&lt;$&gt;</a> <a id="2036" class="Symbol">=</a> <a id="2038" href="Data.Vec.Properties.html#14754" class="Function">lookup-map</a> <a id="2049" href="Data.Vec.Categorical.html#1987" class="Bound">i</a>
  <a id="2053" class="Symbol">}</a>

<a id="2056" class="Comment">-- lookup is an applicative functor morphism.</a>

<a id="lookup-morphism"></a><a id="2103" href="Data.Vec.Categorical.html#2103" class="Function">lookup-morphism</a> <a id="2119" class="Symbol">:</a> <a id="2121" class="Symbol">(</a><a id="2122" href="Data.Vec.Categorical.html#2122" class="Bound">i</a> <a id="2124" class="Symbol">:</a> <a id="2126" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a> <a id="2130" href="Data.Vec.Categorical.html#285" class="Bound">n</a><a id="2131" class="Symbol">)</a> <a id="2133" class="Symbol">→</a> <a id="2135" href="Category.Applicative.Indexed.html#2585" class="Record">Morphism</a> <a id="2144" href="Data.Vec.Categorical.html#893" class="Function">applicative</a> <a id="2156" href="Function.Identity.Categorical.html#568" class="Function">Id.applicative</a>
<a id="2171" href="Data.Vec.Categorical.html#2103" class="Function">lookup-morphism</a> <a id="2187" href="Data.Vec.Categorical.html#2187" class="Bound">i</a> <a id="2189" class="Symbol">=</a> <a id="2191" class="Keyword">record</a>
  <a id="2200" class="Symbol">{</a> <a id="2202" href="Category.Applicative.Indexed.html#2811" class="Field">op</a>      <a id="2210" class="Symbol">=</a> <a id="2212" href="Function.Base.html#1563" class="Function">flip</a> <a id="2217" href="Data.Vec.Base.html#1614" class="Function">lookup</a> <a id="2224" href="Data.Vec.Categorical.html#2187" class="Bound">i</a>
  <a id="2228" class="Symbol">;</a> <a id="2230" href="Category.Applicative.Indexed.html#2855" class="Field">op-pure</a> <a id="2238" class="Symbol">=</a> <a id="2240" href="Data.Vec.Properties.html#27164" class="Function">lookup-replicate</a> <a id="2257" href="Data.Vec.Categorical.html#2187" class="Bound">i</a>
  <a id="2261" class="Symbol">;</a> <a id="2263" href="Category.Applicative.Indexed.html#2920" class="Field">op-⊛</a>    <a id="2271" class="Symbol">=</a> <a id="2273" href="Data.Vec.Properties.html#24525" class="Function">lookup-⊛</a> <a id="2282" href="Data.Vec.Categorical.html#2187" class="Bound">i</a>
  <a id="2286" class="Symbol">}</a>
</pre></body></html>