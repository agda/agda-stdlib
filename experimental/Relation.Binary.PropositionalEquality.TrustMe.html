<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Relation.Binary.PropositionalEquality.TrustMe</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- An equality postulate which evaluates</a>
<a id="147" class="Comment">------------------------------------------------------------------------</a>

<a id="221" class="Symbol">{-#</a> <a id="225" class="Keyword">OPTIONS</a> <a id="233" class="Pragma">--with-K</a> <a id="242" class="Symbol">#-}</a>

<a id="247" class="Keyword">module</a> <a id="254" href="Relation.Binary.PropositionalEquality.TrustMe.html" class="Module">Relation.Binary.PropositionalEquality.TrustMe</a> <a id="300" class="Keyword">where</a>

<a id="307" class="Keyword">open</a> <a id="312" class="Keyword">import</a> <a id="319" href="Relation.Binary.PropositionalEquality.Core.html" class="Module">Relation.Binary.PropositionalEquality.Core</a> <a id="362" class="Keyword">using</a> <a id="368" class="Symbol">(</a><a id="369" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">_≡_</a><a id="372" class="Symbol">;</a> <a id="374" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="378" class="Symbol">)</a>

<a id="381" class="Keyword">open</a> <a id="386" class="Keyword">import</a> <a id="393" href="Agda.Builtin.TrustMe.html" class="Module">Agda.Builtin.TrustMe</a>

<a id="415" class="Comment">-- trustMe {x = x} {y = y} evaluates to refl if x and y are</a>
<a id="475" class="Comment">-- definitionally equal.</a>
<a id="500" class="Comment">--</a>
<a id="503" class="Comment">-- For an example of the use of trustMe, see Data.String.Unsafe._≟_.</a>

<a id="trustMe"></a><a id="573" href="Relation.Binary.PropositionalEquality.TrustMe.html#573" class="Function">trustMe</a> <a id="581" class="Symbol">:</a> <a id="583" class="Symbol">∀</a> <a id="585" class="Symbol">{</a><a id="586" href="Relation.Binary.PropositionalEquality.TrustMe.html#586" class="Bound">a</a><a id="587" class="Symbol">}</a> <a id="589" class="Symbol">{</a><a id="590" href="Relation.Binary.PropositionalEquality.TrustMe.html#590" class="Bound">A</a> <a id="592" class="Symbol">:</a> <a id="594" class="PrimitiveType">Set</a> <a id="598" href="Relation.Binary.PropositionalEquality.TrustMe.html#586" class="Bound">a</a><a id="599" class="Symbol">}</a> <a id="601" class="Symbol">{</a><a id="602" href="Relation.Binary.PropositionalEquality.TrustMe.html#602" class="Bound">x</a> <a id="604" href="Relation.Binary.PropositionalEquality.TrustMe.html#604" class="Bound">y</a> <a id="606" class="Symbol">:</a> <a id="608" href="Relation.Binary.PropositionalEquality.TrustMe.html#590" class="Bound">A</a><a id="609" class="Symbol">}</a> <a id="611" class="Symbol">→</a> <a id="613" href="Relation.Binary.PropositionalEquality.TrustMe.html#602" class="Bound">x</a> <a id="615" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="617" href="Relation.Binary.PropositionalEquality.TrustMe.html#604" class="Bound">y</a>
<a id="619" href="Relation.Binary.PropositionalEquality.TrustMe.html#573" class="Function">trustMe</a> <a id="627" class="Symbol">=</a> <a id="629" href="Agda.Builtin.TrustMe.html#242" class="Function">primTrustMe</a>

<a id="642" class="Comment">-- &quot;Erases&quot; a proof. The original proof is not inspected. The</a>
<a id="704" class="Comment">-- resulting proof reduces to refl if the two sides are definitionally</a>
<a id="775" class="Comment">-- equal. Note that checking for definitional equality can be slow.</a>

<a id="erase"></a><a id="844" href="Relation.Binary.PropositionalEquality.TrustMe.html#844" class="Function">erase</a> <a id="850" class="Symbol">:</a> <a id="852" class="Symbol">∀</a> <a id="854" class="Symbol">{</a><a id="855" href="Relation.Binary.PropositionalEquality.TrustMe.html#855" class="Bound">a</a><a id="856" class="Symbol">}</a> <a id="858" class="Symbol">{</a><a id="859" href="Relation.Binary.PropositionalEquality.TrustMe.html#859" class="Bound">A</a> <a id="861" class="Symbol">:</a> <a id="863" class="PrimitiveType">Set</a> <a id="867" href="Relation.Binary.PropositionalEquality.TrustMe.html#855" class="Bound">a</a><a id="868" class="Symbol">}</a> <a id="870" class="Symbol">{</a><a id="871" href="Relation.Binary.PropositionalEquality.TrustMe.html#871" class="Bound">x</a> <a id="873" href="Relation.Binary.PropositionalEquality.TrustMe.html#873" class="Bound">y</a> <a id="875" class="Symbol">:</a> <a id="877" href="Relation.Binary.PropositionalEquality.TrustMe.html#859" class="Bound">A</a><a id="878" class="Symbol">}</a> <a id="880" class="Symbol">→</a> <a id="882" href="Relation.Binary.PropositionalEquality.TrustMe.html#871" class="Bound">x</a> <a id="884" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="886" href="Relation.Binary.PropositionalEquality.TrustMe.html#873" class="Bound">y</a> <a id="888" class="Symbol">→</a> <a id="890" href="Relation.Binary.PropositionalEquality.TrustMe.html#871" class="Bound">x</a> <a id="892" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="894" href="Relation.Binary.PropositionalEquality.TrustMe.html#873" class="Bound">y</a>
<a id="896" href="Relation.Binary.PropositionalEquality.TrustMe.html#844" class="Function">erase</a> <a id="902" class="Symbol">_</a> <a id="904" class="Symbol">=</a> <a id="906" href="Relation.Binary.PropositionalEquality.TrustMe.html#573" class="Function">trustMe</a>

<a id="915" class="Comment">-- A &quot;postulate with a reduction&quot;: postulate[ a ↦ b ] a evaluates to b,</a>
<a id="987" class="Comment">-- while postulate[ a ↦ b ] a&#39; gets stuck if a&#39; is not definitionally</a>
<a id="1057" class="Comment">-- equal to a. This can be used to define a postulate of type (x : A) → B x</a>
<a id="1133" class="Comment">-- by only specifying the behaviour at B t for some t : A. Introduced in</a>
<a id="1206" class="Comment">--</a>
<a id="1209" class="Comment">--   Alan Jeffrey, Univalence via Agda&#39;s primTrustMe again</a>
<a id="1268" class="Comment">--   23 January 2015</a>
<a id="1289" class="Comment">--   https://lists.chalmers.se/pipermail/agda/2015/007418.html</a>

<a id="postulate[_↦_]"></a><a id="1353" href="Relation.Binary.PropositionalEquality.TrustMe.html#1353" class="Function Operator">postulate[_↦_]</a> <a id="1368" class="Symbol">:</a> <a id="1370" class="Symbol">∀</a> <a id="1372" class="Symbol">{</a><a id="1373" href="Relation.Binary.PropositionalEquality.TrustMe.html#1373" class="Bound">a</a> <a id="1375" href="Relation.Binary.PropositionalEquality.TrustMe.html#1375" class="Bound">b</a><a id="1376" class="Symbol">}</a> <a id="1378" class="Symbol">{</a><a id="1379" href="Relation.Binary.PropositionalEquality.TrustMe.html#1379" class="Bound">A</a> <a id="1381" class="Symbol">:</a> <a id="1383" class="PrimitiveType">Set</a> <a id="1387" href="Relation.Binary.PropositionalEquality.TrustMe.html#1373" class="Bound">a</a><a id="1388" class="Symbol">}{</a><a id="1390" href="Relation.Binary.PropositionalEquality.TrustMe.html#1390" class="Bound">B</a> <a id="1392" class="Symbol">:</a> <a id="1394" href="Relation.Binary.PropositionalEquality.TrustMe.html#1379" class="Bound">A</a> <a id="1396" class="Symbol">→</a> <a id="1398" class="PrimitiveType">Set</a> <a id="1402" href="Relation.Binary.PropositionalEquality.TrustMe.html#1375" class="Bound">b</a><a id="1403" class="Symbol">}</a> <a id="1405" class="Symbol">→</a>
                  <a id="1425" class="Symbol">(</a><a id="1426" href="Relation.Binary.PropositionalEquality.TrustMe.html#1426" class="Bound">t</a> <a id="1428" class="Symbol">:</a> <a id="1430" href="Relation.Binary.PropositionalEquality.TrustMe.html#1379" class="Bound">A</a><a id="1431" class="Symbol">)</a> <a id="1433" class="Symbol">→</a> <a id="1435" href="Relation.Binary.PropositionalEquality.TrustMe.html#1390" class="Bound">B</a> <a id="1437" href="Relation.Binary.PropositionalEquality.TrustMe.html#1426" class="Bound">t</a> <a id="1439" class="Symbol">→</a> <a id="1441" class="Symbol">(</a><a id="1442" href="Relation.Binary.PropositionalEquality.TrustMe.html#1442" class="Bound">x</a> <a id="1444" class="Symbol">:</a> <a id="1446" href="Relation.Binary.PropositionalEquality.TrustMe.html#1379" class="Bound">A</a><a id="1447" class="Symbol">)</a> <a id="1449" class="Symbol">→</a> <a id="1451" href="Relation.Binary.PropositionalEquality.TrustMe.html#1390" class="Bound">B</a> <a id="1453" href="Relation.Binary.PropositionalEquality.TrustMe.html#1442" class="Bound">x</a>
<a id="1455" href="Relation.Binary.PropositionalEquality.TrustMe.html#1353" class="Function Operator">postulate[</a> <a id="1466" href="Relation.Binary.PropositionalEquality.TrustMe.html#1466" class="Bound">a</a> <a id="1468" href="Relation.Binary.PropositionalEquality.TrustMe.html#1353" class="Function Operator">↦</a> <a id="1470" href="Relation.Binary.PropositionalEquality.TrustMe.html#1470" class="Bound">b</a> <a id="1472" href="Relation.Binary.PropositionalEquality.TrustMe.html#1353" class="Function Operator">]</a> <a id="1474" href="Relation.Binary.PropositionalEquality.TrustMe.html#1474" class="Bound">a&#39;</a> <a id="1477" class="Keyword">with</a> <a id="1482" href="Relation.Binary.PropositionalEquality.TrustMe.html#573" class="Function">trustMe</a> <a id="1490" class="Symbol">{</a><a id="1491" class="Argument">x</a> <a id="1493" class="Symbol">=</a> <a id="1495" href="Relation.Binary.PropositionalEquality.TrustMe.html#1466" class="Bound">a</a><a id="1496" class="Symbol">}</a> <a id="1498" class="Symbol">{</a><a id="1499" href="Relation.Binary.PropositionalEquality.TrustMe.html#1474" class="Bound">a&#39;</a><a id="1501" class="Symbol">}</a>
<a id="1503" href="Relation.Binary.PropositionalEquality.TrustMe.html#1353" class="Function Operator">postulate[</a> <a id="1514" href="Relation.Binary.PropositionalEquality.TrustMe.html#1514" class="Bound">a</a> <a id="1516" href="Relation.Binary.PropositionalEquality.TrustMe.html#1353" class="Function Operator">↦</a> <a id="1518" href="Relation.Binary.PropositionalEquality.TrustMe.html#1518" class="Bound">b</a> <a id="1520" href="Relation.Binary.PropositionalEquality.TrustMe.html#1353" class="Function Operator">]</a> <a id="1522" class="DottedPattern Symbol">.</a><a id="1523" href="Relation.Binary.PropositionalEquality.TrustMe.html#1514" class="DottedPattern Bound">a</a> <a id="1525" class="Symbol">|</a> <a id="1527" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="1532" class="Symbol">=</a> <a id="1534" href="Relation.Binary.PropositionalEquality.TrustMe.html#1518" class="Bound">b</a>
</pre></body></html>