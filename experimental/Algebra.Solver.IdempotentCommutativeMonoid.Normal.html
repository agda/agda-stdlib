<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Algebra.Solver.IdempotentCommutativeMonoid.Normal</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Solver for equations in idempotent commutative monoids</a>
<a id="164" class="Comment">--</a>
<a id="167" class="Comment">-- Adapted from Algebra.Solver.CommutativeMonoid</a>
<a id="216" class="Comment">------------------------------------------------------------------------</a>

<a id="290" class="Symbol">{-#</a> <a id="294" class="Keyword">OPTIONS</a> <a id="302" class="Pragma">--cubical-compatible</a> <a id="323" class="Pragma">--safe</a> <a id="330" class="Symbol">#-}</a>

<a id="335" class="Keyword">open</a> <a id="340" class="Keyword">import</a> <a id="347" href="Algebra.Bundles.html" class="Module">Algebra.Bundles</a> <a id="363" class="Keyword">using</a> <a id="369" class="Symbol">(</a><a id="370" href="Algebra.Bundles.html#9176" class="Record">IdempotentCommutativeMonoid</a><a id="397" class="Symbol">)</a>

<a id="400" class="Keyword">module</a> <a id="407" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html" class="Module">Algebra.Solver.IdempotentCommutativeMonoid.Normal</a>
  <a id="459" class="Symbol">{</a><a id="460" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#460" class="Bound">c</a> <a id="462" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#462" class="Bound">ℓ</a><a id="463" class="Symbol">}</a> <a id="465" class="Symbol">(</a><a id="466" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#466" class="Bound">M</a> <a id="468" class="Symbol">:</a> <a id="470" href="Algebra.Bundles.html#9176" class="Record">IdempotentCommutativeMonoid</a> <a id="498" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#460" class="Bound">c</a> <a id="500" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#462" class="Bound">ℓ</a><a id="501" class="Symbol">)</a> <a id="503" class="Keyword">where</a>

<a id="510" class="Keyword">import</a> <a id="517" href="Algebra.Properties.CommutativeSemigroup.html" class="Module">Algebra.Properties.CommutativeSemigroup</a> <a id="557" class="Symbol">as</a> <a id="560" class="Module">CSProperties</a>
<a id="573" class="Keyword">open</a> <a id="578" class="Keyword">import</a> <a id="585" href="Algebra.Properties.IdempotentCommutativeMonoid.html" class="Module">Algebra.Properties.IdempotentCommutativeMonoid</a> <a id="632" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#466" class="Bound">M</a> <a id="634" class="Keyword">using</a> <a id="640" class="Symbol">(</a><a id="641" href="Algebra.Properties.IdempotentCommutativeMonoid.html#902" class="Function">∙-distrˡ-∙</a><a id="651" class="Symbol">)</a>
<a id="653" class="Keyword">open</a> <a id="658" class="Keyword">import</a> <a id="665" href="Data.Bool.html" class="Module">Data.Bool</a> <a id="675" class="Symbol">as</a> <a id="678" class="Module">Bool</a> <a id="683" class="Keyword">using</a> <a id="689" class="Symbol">(</a><a id="690" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="694" class="Symbol">;</a> <a id="696" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="700" class="Symbol">;</a> <a id="702" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="707" class="Symbol">;</a> <a id="709" href="Data.Bool.Base.html#1515" class="Function Operator">if_then_else_</a><a id="722" class="Symbol">;</a> <a id="724" href="Data.Bool.Base.html#1063" class="Function Operator">_∨_</a><a id="727" class="Symbol">)</a>
<a id="729" class="Keyword">open</a> <a id="734" class="Keyword">import</a> <a id="741" href="Data.Fin.Base.html" class="Module">Data.Fin.Base</a> <a id="755" class="Keyword">using</a> <a id="761" class="Symbol">(</a><a id="762" href="Data.Fin.Base.html#1128" class="Datatype">Fin</a><a id="765" class="Symbol">;</a> <a id="767" href="Data.Fin.Base.html#1150" class="InductiveConstructor">zero</a><a id="771" class="Symbol">;</a> <a id="773" href="Data.Fin.Base.html#1171" class="InductiveConstructor">suc</a><a id="776" class="Symbol">)</a>
<a id="778" class="Keyword">open</a> <a id="783" class="Keyword">import</a> <a id="790" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="804" class="Keyword">using</a> <a id="810" class="Symbol">(</a><a id="811" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="812" class="Symbol">)</a>
<a id="814" class="Keyword">open</a> <a id="819" class="Keyword">import</a> <a id="826" href="Data.Vec.Base.html" class="Module">Data.Vec.Base</a> <a id="840" class="Keyword">using</a> <a id="846" class="Symbol">(</a><a id="847" href="Data.Vec.Base.html#1119" class="Datatype">Vec</a><a id="850" class="Symbol">;</a> <a id="852" href="Data.Vec.Base.html#1155" class="InductiveConstructor">[]</a><a id="854" class="Symbol">;</a> <a id="856" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">_∷_</a><a id="859" class="Symbol">;</a> <a id="861" href="Data.Vec.Base.html#1676" class="Function">lookup</a><a id="867" class="Symbol">;</a> <a id="869" href="Data.Vec.Base.html#6493" class="Function">replicate</a><a id="878" class="Symbol">;</a> <a id="880" href="Data.Vec.Base.html#3745" class="Function">zipWith</a><a id="887" class="Symbol">)</a>
<a id="889" class="Keyword">import</a> <a id="896" href="Data.Vec.Relation.Binary.Pointwise.Inductive.html" class="Module">Data.Vec.Relation.Binary.Pointwise.Inductive</a> <a id="941" class="Symbol">as</a> <a id="944" class="Module">Pointwise</a>
  <a id="956" class="Keyword">using</a> <a id="962" class="Symbol">(</a><a id="963" href="Data.Vec.Relation.Binary.Pointwise.Inductive.html#1552" class="Datatype">Pointwise</a><a id="972" class="Symbol">;</a> <a id="974" href="Data.Vec.Relation.Binary.Pointwise.Inductive.html#1736" class="InductiveConstructor Operator">_∷_</a><a id="977" class="Symbol">;</a> <a id="979" href="Data.Vec.Relation.Binary.Pointwise.Inductive.html#1708" class="InductiveConstructor">[]</a><a id="981" class="Symbol">;</a> <a id="983" href="Data.Vec.Relation.Binary.Pointwise.Inductive.html#11405" class="Function">Pointwise-≡↔≡</a><a id="996" class="Symbol">;</a> <a id="998" href="Data.Vec.Relation.Binary.Pointwise.Inductive.html#3854" class="Function">decidable</a><a id="1007" class="Symbol">)</a>
<a id="1009" class="Keyword">open</a> <a id="1014" class="Keyword">import</a> <a id="1021" href="Relation.Binary.Definitions.html" class="Module">Relation.Binary.Definitions</a> <a id="1049" class="Keyword">using</a> <a id="1055" class="Symbol">(</a><a id="1056" href="Relation.Binary.Definitions.html#6857" class="Function">DecidableEquality</a><a id="1073" class="Symbol">)</a>
<a id="1075" class="Keyword">import</a> <a id="1082" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1115" class="Symbol">as</a> <a id="1118" class="Module">≈-Reasoning</a>
<a id="1130" class="Keyword">import</a> <a id="1137" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="1164" class="Symbol">as</a> <a id="1167" class="Module">Dec</a> <a id="1171" class="Keyword">using</a> <a id="1177" class="Symbol">(</a><a id="1178" href="Relation.Nullary.Decidable.html#1252" class="Function">map</a><a id="1181" class="Symbol">)</a>

<a id="1184" class="Keyword">open</a> <a id="1189" href="Algebra.Bundles.html#9176" class="Module">IdempotentCommutativeMonoid</a> <a id="1217" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#466" class="Bound">M</a>
<a id="1219" class="Keyword">open</a> <a id="1224" href="Algebra.Properties.CommutativeSemigroup.html" class="Module">CSProperties</a> <a id="1237" href="Algebra.Bundles.html#8392" class="Function">commutativeSemigroup</a> <a id="1258" class="Keyword">using</a> <a id="1264" class="Symbol">(</a><a id="1265" href="Algebra.Properties.Semigroup.html#458" class="Function">x∙yz≈xy∙z</a><a id="1274" class="Symbol">;</a> <a id="1276" href="Algebra.Properties.CommutativeSemigroup.html#1431" class="Function">x∙yz≈y∙xz</a><a id="1285" class="Symbol">)</a>
<a id="1287" class="Keyword">open</a> <a id="1292" href="Relation.Binary.Reasoning.Setoid.html" class="Module">≈-Reasoning</a> <a id="1304" href="Algebra.Structures.html#1873" class="Function">setoid</a>

<a id="1312" class="Keyword">private</a>
  <a id="1322" class="Keyword">variable</a>
    <a id="1335" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1335" class="Generalizable">n</a> <a id="1337" class="Symbol">:</a> <a id="1339" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>


<a id="1343" class="Comment">------------------------------------------------------------------------</a>
<a id="1416" class="Comment">-- Monoid expressions</a>

<a id="1439" class="Keyword">open</a> <a id="1444" class="Keyword">import</a> <a id="1451" href="Algebra.Solver.Monoid.Expression.html" class="Module">Algebra.Solver.Monoid.Expression</a> <a id="1484" href="Algebra.Bundles.html#7708" class="Function">rawMonoid</a> <a id="1494" class="Keyword">public</a>
  <a id="1503" class="Keyword">hiding</a> <a id="1510" class="Symbol">(</a><a id="1511" href="Algebra.Solver.Monoid.Expression.html#1386" class="Record">NormalAPI</a><a id="1520" class="Symbol">)</a>

<a id="1523" class="Comment">------------------------------------------------------------------------</a>
<a id="1596" class="Comment">-- Normal forms</a>

<a id="1613" class="Comment">-- A normal form is a vector of bits (a set).</a>

<a id="Normal"></a><a id="1660" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1660" class="Function">Normal</a> <a id="1667" class="Symbol">:</a> <a id="1669" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1671" class="Symbol">→</a> <a id="1673" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="1677" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1660" class="Function">Normal</a> <a id="1684" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1684" class="Bound">n</a> <a id="1686" class="Symbol">=</a> <a id="1688" href="Data.Vec.Base.html#1119" class="Datatype">Vec</a> <a id="1692" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="1697" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1684" class="Bound">n</a>

<a id="1700" class="Comment">-- The semantics of a normal form.</a>

<a id="⟦_⟧⇓"></a><a id="1736" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟦_⟧⇓</a> <a id="1741" class="Symbol">:</a> <a id="1743" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1660" class="Function">Normal</a> <a id="1750" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1335" class="Generalizable">n</a> <a id="1752" class="Symbol">→</a> <a id="1754" href="Algebra.Solver.Monoid.Expression.html#1039" class="Function">Env</a> <a id="1758" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1335" class="Generalizable">n</a> <a id="1760" class="Symbol">→</a> <a id="1762" href="Algebra.Bundles.html#9276" class="Field">Carrier</a>
<a id="1770" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟦</a> <a id="1772" href="Data.Vec.Base.html#1155" class="InductiveConstructor">[]</a>    <a id="1778" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟧⇓</a> <a id="1781" class="Symbol">_</a> <a id="1783" class="Symbol">=</a> <a id="1785" href="Algebra.Bundles.html#9416" class="Field">ε</a>
<a id="1787" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟦</a> <a id="1789" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1789" class="Bound">b</a> <a id="1791" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="1793" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1793" class="Bound">v</a> <a id="1795" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟧⇓</a> <a id="1798" class="Symbol">(</a><a id="1799" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1799" class="Bound">a</a> <a id="1801" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="1803" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1803" class="Bound">ρ</a><a id="1804" class="Symbol">)</a> <a id="1806" class="Symbol">=</a> <a id="1808" href="Data.Bool.Base.html#1515" class="Function Operator">if</a> <a id="1811" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1789" class="Bound">b</a> <a id="1813" href="Data.Bool.Base.html#1515" class="Function Operator">then</a> <a id="1818" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1799" class="Bound">a</a> <a id="1820" href="Algebra.Bundles.html#9368" class="Field Operator">∙</a> <a id="1822" class="Symbol">(</a><a id="1823" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟦</a> <a id="1825" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1793" class="Bound">v</a> <a id="1827" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟧⇓</a> <a id="1830" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1803" class="Bound">ρ</a><a id="1831" class="Symbol">)</a> <a id="1833" href="Data.Bool.Base.html#1515" class="Function Operator">else</a> <a id="1838" class="Symbol">(</a><a id="1839" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟦</a> <a id="1841" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1793" class="Bound">v</a> <a id="1843" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟧⇓</a> <a id="1846" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1803" class="Bound">ρ</a><a id="1847" class="Symbol">)</a>

<a id="1850" class="Comment">-- We can decide if two normal forms are /syntactically/ equal.</a>

<a id="1915" class="Keyword">infix</a> <a id="1921" class="Number">5</a> <a id="1923" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1928" class="Function Operator">_≟_</a>

<a id="_≟_"></a><a id="1928" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1928" class="Function Operator">_≟_</a> <a id="1932" class="Symbol">:</a> <a id="1934" href="Relation.Binary.Definitions.html#6857" class="Function">DecidableEquality</a> <a id="1952" class="Symbol">(</a><a id="1953" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1660" class="Function">Normal</a> <a id="1960" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1335" class="Generalizable">n</a><a id="1961" class="Symbol">)</a>
<a id="1963" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1963" class="Bound">nf₁</a> <a id="1967" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1928" class="Function Operator">≟</a> <a id="1969" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1969" class="Bound">nf₂</a> <a id="1973" class="Symbol">=</a> <a id="1975" href="Relation.Nullary.Decidable.html#1252" class="Function">Dec.map</a> <a id="1983" href="Data.Vec.Relation.Binary.Pointwise.Inductive.html#11405" class="Function">Pointwise-≡↔≡</a> <a id="1997" class="Symbol">(</a><a id="1998" href="Data.Vec.Relation.Binary.Pointwise.Inductive.html#3854" class="Function">decidable</a> <a id="2008" href="Data.Bool.Properties.html#2608" class="Function Operator">Bool._≟_</a> <a id="2017" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1963" class="Bound">nf₁</a> <a id="2021" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1969" class="Bound">nf₂</a><a id="2024" class="Symbol">)</a>
  <a id="2028" class="Keyword">where</a> <a id="2034" class="Keyword">open</a> <a id="2039" href="Data.Vec.Relation.Binary.Pointwise.Inductive.html" class="Module">Pointwise</a> <a id="2049" class="Keyword">using</a> <a id="2055" class="Symbol">(</a><a id="2056" href="Data.Vec.Relation.Binary.Pointwise.Inductive.html#11405" class="Function">Pointwise-≡↔≡</a><a id="2069" class="Symbol">;</a> <a id="2071" href="Data.Vec.Relation.Binary.Pointwise.Inductive.html#3854" class="Function">decidable</a><a id="2080" class="Symbol">)</a>

<a id="2083" class="Comment">------------------------------------------------------------------------</a>
<a id="2156" class="Comment">-- Constructions on normal forms</a>

<a id="2190" class="Comment">-- The empty set.</a>

<a id="empty"></a><a id="2209" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2209" class="Function">empty</a> <a id="2215" class="Symbol">:</a> <a id="2217" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1660" class="Function">Normal</a> <a id="2224" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1335" class="Generalizable">n</a>
<a id="2226" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2209" class="Function">empty</a> <a id="2232" class="Symbol">=</a> <a id="2234" href="Data.Vec.Base.html#6493" class="Function">replicate</a> <a id="2244" class="Symbol">_</a> <a id="2246" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="2253" class="Comment">-- A singleton set.</a>

<a id="singleton"></a><a id="2274" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2274" class="Function">singleton</a> <a id="2284" class="Symbol">:</a> <a id="2286" class="Symbol">(</a><a id="2287" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2287" class="Bound">i</a> <a id="2289" class="Symbol">:</a> <a id="2291" href="Data.Fin.Base.html#1128" class="Datatype">Fin</a> <a id="2295" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1335" class="Generalizable">n</a><a id="2296" class="Symbol">)</a> <a id="2298" class="Symbol">→</a> <a id="2300" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1660" class="Function">Normal</a> <a id="2307" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1335" class="Generalizable">n</a>
<a id="2309" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2274" class="Function">singleton</a> <a id="2319" href="Data.Fin.Base.html#1150" class="InductiveConstructor">zero</a>    <a id="2327" class="Symbol">=</a> <a id="2329" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="2334" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="2336" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2209" class="Function">empty</a>
<a id="2342" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2274" class="Function">singleton</a> <a id="2352" class="Symbol">(</a><a id="2353" href="Data.Fin.Base.html#1171" class="InductiveConstructor">suc</a> <a id="2357" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2357" class="Bound">i</a><a id="2358" class="Symbol">)</a> <a id="2360" class="Symbol">=</a> <a id="2362" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="2368" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="2370" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2274" class="Function">singleton</a> <a id="2380" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2357" class="Bound">i</a>

<a id="2383" class="Comment">-- The composition of normal forms.</a>
<a id="2419" class="Keyword">infixr</a> <a id="2426" class="Number">10</a> <a id="2429" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2434" class="Function Operator">_•_</a>

<a id="_•_"></a><a id="2434" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2434" class="Function Operator">_•_</a> <a id="2438" class="Symbol">:</a> <a id="2440" class="Symbol">(</a><a id="2441" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2441" class="Bound">v</a> <a id="2443" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2443" class="Bound">w</a> <a id="2445" class="Symbol">:</a> <a id="2447" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1660" class="Function">Normal</a> <a id="2454" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1335" class="Generalizable">n</a><a id="2455" class="Symbol">)</a> <a id="2457" class="Symbol">→</a> <a id="2459" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1660" class="Function">Normal</a> <a id="2466" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1335" class="Generalizable">n</a>
<a id="2468" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2434" class="Function Operator">_•_</a> <a id="2472" class="Symbol">=</a> <a id="2474" href="Data.Vec.Base.html#3745" class="Function">zipWith</a> <a id="2482" href="Data.Bool.Base.html#1063" class="Function Operator">_∨_</a>

<a id="2487" class="Comment">------------------------------------------------------------------------</a>
<a id="2560" class="Comment">-- Correctness of the constructions on normal forms</a>

<a id="2613" class="Comment">-- The empty set stands for the unit ε.</a>

<a id="empty-correct"></a><a id="2654" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2654" class="Function">empty-correct</a> <a id="2668" class="Symbol">:</a> <a id="2670" class="Symbol">(</a><a id="2671" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2671" class="Bound">ρ</a> <a id="2673" class="Symbol">:</a> <a id="2675" href="Algebra.Solver.Monoid.Expression.html#1039" class="Function">Env</a> <a id="2679" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1335" class="Generalizable">n</a><a id="2680" class="Symbol">)</a> <a id="2682" class="Symbol">→</a> <a id="2684" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟦</a> <a id="2686" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2209" class="Function">empty</a> <a id="2692" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟧⇓</a> <a id="2695" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2671" class="Bound">ρ</a> <a id="2697" href="Algebra.Bundles.html#9318" class="Field Operator">≈</a> <a id="2699" href="Algebra.Bundles.html#9416" class="Field">ε</a>
<a id="2701" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2654" class="Function">empty-correct</a> <a id="2715" href="Data.Vec.Base.html#1155" class="InductiveConstructor">[]</a>      <a id="2723" class="Symbol">=</a> <a id="2725" href="Relation.Binary.Structures.html#1641" class="Function">refl</a>
<a id="2730" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2654" class="Function">empty-correct</a> <a id="2744" class="Symbol">(</a><a id="2745" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2745" class="Bound">a</a> <a id="2747" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="2749" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2749" class="Bound">ρ</a><a id="2750" class="Symbol">)</a> <a id="2752" class="Symbol">=</a> <a id="2754" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2654" class="Function">empty-correct</a> <a id="2768" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2749" class="Bound">ρ</a>

<a id="2771" class="Comment">-- The singleton set stands for a single variable.</a>

<a id="singleton-correct"></a><a id="2823" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2823" class="Function">singleton-correct</a> <a id="2841" class="Symbol">:</a> <a id="2843" class="Symbol">(</a><a id="2844" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2844" class="Bound">x</a> <a id="2846" class="Symbol">:</a> <a id="2848" href="Data.Fin.Base.html#1128" class="Datatype">Fin</a> <a id="2852" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1335" class="Generalizable">n</a><a id="2853" class="Symbol">)</a> <a id="2855" class="Symbol">(</a><a id="2856" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2856" class="Bound">ρ</a> <a id="2858" class="Symbol">:</a> <a id="2860" href="Algebra.Solver.Monoid.Expression.html#1039" class="Function">Env</a> <a id="2864" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1335" class="Generalizable">n</a><a id="2865" class="Symbol">)</a> <a id="2867" class="Symbol">→</a>
                    <a id="2889" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟦</a> <a id="2891" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2274" class="Function">singleton</a> <a id="2901" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2844" class="Bound">x</a> <a id="2903" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟧⇓</a> <a id="2906" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2856" class="Bound">ρ</a> <a id="2908" href="Algebra.Bundles.html#9318" class="Field Operator">≈</a> <a id="2910" href="Data.Vec.Base.html#1676" class="Function">lookup</a> <a id="2917" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2856" class="Bound">ρ</a> <a id="2919" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2844" class="Bound">x</a>
<a id="2921" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2823" class="Function">singleton-correct</a> <a id="2939" href="Data.Fin.Base.html#1150" class="InductiveConstructor">zero</a> <a id="2944" class="Symbol">(</a><a id="2945" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2945" class="Bound">x</a> <a id="2947" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="2949" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2949" class="Bound">ρ</a><a id="2950" class="Symbol">)</a> <a id="2952" class="Symbol">=</a> <a id="2954" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="2964" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2945" class="Bound">x</a> <a id="2966" href="Algebra.Bundles.html#9368" class="Field Operator">∙</a> <a id="2968" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟦</a> <a id="2970" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2209" class="Function">empty</a> <a id="2976" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟧⇓</a> <a id="2979" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2949" class="Bound">ρ</a>   <a id="2983" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="2986" href="Algebra.Structures.html#1948" class="Function">∙-congˡ</a> <a id="2994" class="Symbol">(</a><a id="2995" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2654" class="Function">empty-correct</a> <a id="3009" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2949" class="Bound">ρ</a><a id="3010" class="Symbol">)</a> <a id="3012" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="3018" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2945" class="Bound">x</a> <a id="3020" href="Algebra.Bundles.html#9368" class="Field Operator">∙</a> <a id="3022" href="Algebra.Bundles.html#9416" class="Field">ε</a>              <a id="3037" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="3040" href="Algebra.Structures.html#5048" class="Function">identityʳ</a> <a id="3050" class="Symbol">_</a> <a id="3052" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="3058" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2945" class="Bound">x</a>                  <a id="3077" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
<a id="3079" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2823" class="Function">singleton-correct</a> <a id="3097" class="Symbol">(</a><a id="3098" href="Data.Fin.Base.html#1171" class="InductiveConstructor">suc</a> <a id="3102" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3102" class="Bound">x</a><a id="3103" class="Symbol">)</a> <a id="3105" class="Symbol">(</a><a id="3106" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3106" class="Bound">m</a> <a id="3108" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3110" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3110" class="Bound">ρ</a><a id="3111" class="Symbol">)</a> <a id="3113" class="Symbol">=</a> <a id="3115" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2823" class="Function">singleton-correct</a> <a id="3133" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3102" class="Bound">x</a> <a id="3135" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3110" class="Bound">ρ</a>

<a id="3138" class="Comment">-- Normal form composition corresponds to the composition of the monoid.</a>

<a id="comp-correct"></a><a id="3212" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3212" class="Function">comp-correct</a> <a id="3225" class="Symbol">:</a> <a id="3227" class="Symbol">∀</a> <a id="3229" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3229" class="Bound">v</a> <a id="3231" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3231" class="Bound">w</a> <a id="3233" class="Symbol">(</a><a id="3234" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3234" class="Bound">ρ</a> <a id="3236" class="Symbol">:</a> <a id="3238" href="Algebra.Solver.Monoid.Expression.html#1039" class="Function">Env</a> <a id="3242" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1335" class="Generalizable">n</a><a id="3243" class="Symbol">)</a> <a id="3245" class="Symbol">→</a>
               <a id="3262" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟦</a> <a id="3264" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3229" class="Bound">v</a> <a id="3266" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2434" class="Function Operator">•</a> <a id="3268" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3231" class="Bound">w</a> <a id="3270" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟧⇓</a> <a id="3273" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3234" class="Bound">ρ</a> <a id="3275" href="Algebra.Bundles.html#9318" class="Field Operator">≈</a> <a id="3277" class="Symbol">(</a><a id="3278" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟦</a> <a id="3280" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3229" class="Bound">v</a> <a id="3282" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟧⇓</a> <a id="3285" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3234" class="Bound">ρ</a> <a id="3287" href="Algebra.Bundles.html#9368" class="Field Operator">∙</a> <a id="3289" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟦</a> <a id="3291" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3231" class="Bound">w</a> <a id="3293" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟧⇓</a> <a id="3296" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3234" class="Bound">ρ</a><a id="3297" class="Symbol">)</a>
<a id="3299" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3212" class="Function">comp-correct</a> <a id="3312" href="Data.Vec.Base.html#1155" class="InductiveConstructor">[]</a> <a id="3315" href="Data.Vec.Base.html#1155" class="InductiveConstructor">[]</a> <a id="3318" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3318" class="Bound">ρ</a> <a id="3320" class="Symbol">=</a> <a id="3322" href="Relation.Binary.Structures.html#1667" class="Function">sym</a> <a id="3326" class="Symbol">(</a><a id="3327" href="Algebra.Structures.html#4987" class="Function">identityˡ</a> <a id="3337" class="Symbol">_)</a>
<a id="3340" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3212" class="Function">comp-correct</a> <a id="3353" class="Symbol">(</a><a id="3354" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="3359" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3361" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3361" class="Bound">v</a><a id="3362" class="Symbol">)</a> <a id="3364" class="Symbol">(</a><a id="3365" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="3370" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3372" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3372" class="Bound">w</a><a id="3373" class="Symbol">)</a> <a id="3375" class="Symbol">(</a><a id="3376" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3376" class="Bound">a</a> <a id="3378" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3380" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3380" class="Bound">ρ</a><a id="3381" class="Symbol">)</a> <a id="3383" class="Symbol">=</a>
  <a id="3387" href="Relation.Binary.Structures.html#1693" class="Function">trans</a> <a id="3393" class="Symbol">(</a><a id="3394" href="Algebra.Structures.html#1948" class="Function">∙-congˡ</a> <a id="3402" class="Symbol">(</a><a id="3403" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3212" class="Function">comp-correct</a> <a id="3416" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3361" class="Bound">v</a> <a id="3418" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3372" class="Bound">w</a> <a id="3420" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3380" class="Bound">ρ</a><a id="3421" class="Symbol">))</a> <a id="3424" class="Symbol">(</a><a id="3425" href="Algebra.Properties.IdempotentCommutativeMonoid.html#902" class="Function">∙-distrˡ-∙</a> <a id="3436" class="Symbol">_</a> <a id="3438" class="Symbol">_</a> <a id="3440" class="Symbol">_)</a>
<a id="3443" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3212" class="Function">comp-correct</a> <a id="3456" class="Symbol">(</a><a id="3457" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="3462" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3464" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3464" class="Bound">v</a><a id="3465" class="Symbol">)</a> <a id="3467" class="Symbol">(</a><a id="3468" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3474" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3476" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3476" class="Bound">w</a><a id="3477" class="Symbol">)</a> <a id="3479" class="Symbol">(</a><a id="3480" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3480" class="Bound">a</a> <a id="3482" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3484" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3484" class="Bound">ρ</a><a id="3485" class="Symbol">)</a> <a id="3487" class="Symbol">=</a>
  <a id="3491" href="Relation.Binary.Structures.html#1693" class="Function">trans</a> <a id="3497" class="Symbol">(</a><a id="3498" href="Algebra.Structures.html#1948" class="Function">∙-congˡ</a> <a id="3506" class="Symbol">(</a><a id="3507" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3212" class="Function">comp-correct</a> <a id="3520" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3464" class="Bound">v</a> <a id="3522" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3476" class="Bound">w</a> <a id="3524" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3484" class="Bound">ρ</a><a id="3525" class="Symbol">))</a> <a id="3528" class="Symbol">(</a><a id="3529" href="Algebra.Properties.Semigroup.html#458" class="Function">x∙yz≈xy∙z</a> <a id="3539" class="Symbol">_</a> <a id="3541" class="Symbol">_</a> <a id="3543" class="Symbol">_)</a>
<a id="3546" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3212" class="Function">comp-correct</a> <a id="3559" class="Symbol">(</a><a id="3560" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3566" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3568" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3568" class="Bound">v</a><a id="3569" class="Symbol">)</a> <a id="3571" class="Symbol">(</a><a id="3572" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="3577" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3579" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3579" class="Bound">w</a><a id="3580" class="Symbol">)</a> <a id="3582" class="Symbol">(</a><a id="3583" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3583" class="Bound">a</a> <a id="3585" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3587" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3587" class="Bound">ρ</a><a id="3588" class="Symbol">)</a> <a id="3590" class="Symbol">=</a>
  <a id="3594" href="Relation.Binary.Structures.html#1693" class="Function">trans</a> <a id="3600" class="Symbol">(</a><a id="3601" href="Algebra.Structures.html#1948" class="Function">∙-congˡ</a> <a id="3609" class="Symbol">(</a><a id="3610" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3212" class="Function">comp-correct</a> <a id="3623" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3568" class="Bound">v</a> <a id="3625" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3579" class="Bound">w</a> <a id="3627" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3587" class="Bound">ρ</a><a id="3628" class="Symbol">))</a> <a id="3631" class="Symbol">(</a><a id="3632" href="Algebra.Properties.CommutativeSemigroup.html#1431" class="Function">x∙yz≈y∙xz</a> <a id="3642" class="Symbol">_</a> <a id="3644" class="Symbol">_</a> <a id="3646" class="Symbol">_)</a>
<a id="3649" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3212" class="Function">comp-correct</a> <a id="3662" class="Symbol">(</a><a id="3663" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3669" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3671" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3671" class="Bound">v</a><a id="3672" class="Symbol">)</a> <a id="3674" class="Symbol">(</a><a id="3675" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3681" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3683" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3683" class="Bound">w</a><a id="3684" class="Symbol">)</a> <a id="3686" class="Symbol">(</a><a id="3687" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3687" class="Bound">a</a> <a id="3689" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3691" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3691" class="Bound">ρ</a><a id="3692" class="Symbol">)</a> <a id="3694" class="Symbol">=</a>
  <a id="3698" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3212" class="Function">comp-correct</a> <a id="3711" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3671" class="Bound">v</a> <a id="3713" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3683" class="Bound">w</a> <a id="3715" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3691" class="Bound">ρ</a>

<a id="3718" class="Comment">------------------------------------------------------------------------</a>
<a id="3791" class="Comment">-- Normalization</a>

<a id="3809" class="Comment">-- A normaliser.</a>

<a id="normalise"></a><a id="3827" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3827" class="Function">normalise</a> <a id="3837" class="Symbol">:</a> <a id="3839" href="Algebra.Solver.Monoid.Expression.html#884" class="Datatype">Expr</a> <a id="3844" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1335" class="Generalizable">n</a> <a id="3846" class="Symbol">→</a> <a id="3848" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1660" class="Function">Normal</a> <a id="3855" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1335" class="Generalizable">n</a>
<a id="3857" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3827" class="Function">normalise</a> <a id="3867" class="Symbol">(</a><a id="3868" href="Algebra.Solver.Monoid.Expression.html#911" class="InductiveConstructor">var</a> <a id="3872" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3872" class="Bound">x</a><a id="3873" class="Symbol">)</a>   <a id="3877" class="Symbol">=</a> <a id="3879" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2274" class="Function">singleton</a> <a id="3889" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3872" class="Bound">x</a>
<a id="3891" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3827" class="Function">normalise</a> <a id="3901" href="Algebra.Solver.Monoid.Expression.html#934" class="InductiveConstructor">id</a>        <a id="3911" class="Symbol">=</a> <a id="3913" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2209" class="Function">empty</a>
<a id="3919" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3827" class="Function">normalise</a> <a id="3929" class="Symbol">(</a><a id="3930" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3930" class="Bound">e₁</a> <a id="3933" href="Algebra.Solver.Monoid.Expression.html#949" class="InductiveConstructor Operator">⊕</a> <a id="3935" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3935" class="Bound">e₂</a><a id="3937" class="Symbol">)</a> <a id="3939" class="Symbol">=</a> <a id="3941" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3827" class="Function">normalise</a> <a id="3951" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3930" class="Bound">e₁</a> <a id="3954" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2434" class="Function Operator">•</a> <a id="3956" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3827" class="Function">normalise</a> <a id="3966" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3935" class="Bound">e₂</a>

<a id="3970" class="Comment">-- The normaliser preserves the semantics of the expression.</a>

<a id="correct"></a><a id="4032" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4032" class="Function">correct</a> <a id="4040" class="Symbol">:</a> <a id="4042" class="Symbol">∀</a> <a id="4044" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4044" class="Bound">e</a> <a id="4046" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4046" class="Bound">ρ</a> <a id="4048" class="Symbol">→</a> <a id="4050" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟦</a> <a id="4052" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3827" class="Function">normalise</a> <a id="4062" class="Symbol">{</a><a id="4063" class="Argument">n</a> <a id="4065" class="Symbol">=</a> <a id="4067" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1335" class="Generalizable">n</a><a id="4068" class="Symbol">}</a> <a id="4070" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4044" class="Bound">e</a> <a id="4072" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟧⇓</a> <a id="4075" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4046" class="Bound">ρ</a> <a id="4077" href="Algebra.Bundles.html#9318" class="Field Operator">≈</a> <a id="4079" href="Algebra.Solver.Monoid.Expression.html#1162" class="Function Operator">⟦</a> <a id="4081" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4044" class="Bound">e</a> <a id="4083" href="Algebra.Solver.Monoid.Expression.html#1162" class="Function Operator">⟧</a> <a id="4085" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4046" class="Bound">ρ</a>
<a id="4087" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4032" class="Function">correct</a> <a id="4095" class="Symbol">(</a><a id="4096" href="Algebra.Solver.Monoid.Expression.html#911" class="InductiveConstructor">var</a> <a id="4100" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4100" class="Bound">x</a><a id="4101" class="Symbol">)</a>   <a id="4105" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4105" class="Bound">ρ</a> <a id="4107" class="Symbol">=</a> <a id="4109" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2823" class="Function">singleton-correct</a> <a id="4127" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4100" class="Bound">x</a> <a id="4129" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4105" class="Bound">ρ</a>
<a id="4131" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4032" class="Function">correct</a> <a id="4139" href="Algebra.Solver.Monoid.Expression.html#934" class="InductiveConstructor">id</a>        <a id="4149" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4149" class="Bound">ρ</a> <a id="4151" class="Symbol">=</a> <a id="4153" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2654" class="Function">empty-correct</a> <a id="4167" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4149" class="Bound">ρ</a>
<a id="4169" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4032" class="Function">correct</a> <a id="4177" class="Symbol">(</a><a id="4178" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4178" class="Bound">e₁</a> <a id="4181" href="Algebra.Solver.Monoid.Expression.html#949" class="InductiveConstructor Operator">⊕</a> <a id="4183" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4183" class="Bound">e₂</a><a id="4185" class="Symbol">)</a> <a id="4187" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4187" class="Bound">ρ</a> <a id="4189" class="Symbol">=</a> <a id="4191" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
  <a id="4199" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟦</a> <a id="4201" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3827" class="Function">normalise</a> <a id="4211" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4178" class="Bound">e₁</a> <a id="4214" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2434" class="Function Operator">•</a> <a id="4216" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3827" class="Function">normalise</a> <a id="4226" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4183" class="Bound">e₂</a> <a id="4229" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟧⇓</a> <a id="4232" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4187" class="Bound">ρ</a>
    <a id="4238" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="4241" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3212" class="Function">comp-correct</a> <a id="4254" class="Symbol">(</a><a id="4255" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3827" class="Function">normalise</a> <a id="4265" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4178" class="Bound">e₁</a><a id="4267" class="Symbol">)</a> <a id="4269" class="Symbol">(</a><a id="4270" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3827" class="Function">normalise</a> <a id="4280" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4183" class="Bound">e₂</a><a id="4282" class="Symbol">)</a> <a id="4284" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4187" class="Bound">ρ</a> <a id="4286" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
  <a id="4290" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟦</a> <a id="4292" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3827" class="Function">normalise</a> <a id="4302" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4178" class="Bound">e₁</a> <a id="4305" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟧⇓</a> <a id="4308" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4187" class="Bound">ρ</a> <a id="4310" href="Algebra.Bundles.html#9368" class="Field Operator">∙</a> <a id="4312" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟦</a> <a id="4314" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3827" class="Function">normalise</a> <a id="4324" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4183" class="Bound">e₂</a> <a id="4327" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1736" class="Function Operator">⟧⇓</a> <a id="4330" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4187" class="Bound">ρ</a>
    <a id="4336" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="4339" href="Algebra.Structures.html#1798" class="Function">∙-cong</a> <a id="4346" class="Symbol">(</a><a id="4347" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4032" class="Function">correct</a> <a id="4355" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4178" class="Bound">e₁</a> <a id="4358" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4187" class="Bound">ρ</a><a id="4359" class="Symbol">)</a> <a id="4361" class="Symbol">(</a><a id="4362" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4032" class="Function">correct</a> <a id="4370" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4183" class="Bound">e₂</a> <a id="4373" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4187" class="Bound">ρ</a><a id="4374" class="Symbol">)</a> <a id="4376" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
  <a id="4380" href="Algebra.Solver.Monoid.Expression.html#1162" class="Function Operator">⟦</a> <a id="4382" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4178" class="Bound">e₁</a> <a id="4385" href="Algebra.Solver.Monoid.Expression.html#1162" class="Function Operator">⟧</a> <a id="4387" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4187" class="Bound">ρ</a> <a id="4389" href="Algebra.Bundles.html#9368" class="Field Operator">∙</a> <a id="4391" href="Algebra.Solver.Monoid.Expression.html#1162" class="Function Operator">⟦</a> <a id="4393" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4183" class="Bound">e₂</a> <a id="4396" href="Algebra.Solver.Monoid.Expression.html#1162" class="Function Operator">⟧</a> <a id="4398" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4187" class="Bound">ρ</a>
    <a id="4404" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>


<a id="4408" class="Comment">------------------------------------------------------------------------</a>
<a id="4481" class="Comment">-- DEPRECATED NAMES</a>
<a id="4501" class="Comment">------------------------------------------------------------------------</a>
<a id="4574" class="Comment">-- Please use the new names as continuing support for the old names is</a>
<a id="4645" class="Comment">-- not guaranteed.</a>

<a id="4665" class="Comment">-- Version 2.2</a>

<a id="flip12"></a><a id="4681" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4681" class="Function">flip12</a> <a id="4688" class="Symbol">=</a> <a id="4690" href="Algebra.Properties.CommutativeSemigroup.html#1431" class="Function">x∙yz≈y∙xz</a>
<a id="4700" class="Symbol">{-#</a> <a id="4704" class="Keyword">WARNING_ON_USAGE</a> <a id="4721" class="Pragma">flip12</a>
<a id="4728" class="String">&quot;Warning: flip12 was deprecated in v2.2.
Please use Algebra.Properties.CommutativeSemigroup.x∙yz≈y∙xz instead.&quot;</a>
<a id="4840" class="Symbol">#-}</a>
<a id="distr"></a><a id="4844" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4844" class="Function">distr</a> <a id="4850" class="Symbol">=</a> <a id="4852" href="Algebra.Properties.IdempotentCommutativeMonoid.html#902" class="Function">∙-distrˡ-∙</a>
<a id="4863" class="Symbol">{-#</a> <a id="4867" class="Keyword">WARNING_ON_USAGE</a> <a id="4884" class="Pragma">distr</a>
<a id="4890" class="String">&quot;Warning: distr was deprecated in v2.2.
Please use Algebra.Properties.IdempotentCommutativeMonoid.∙-distrˡ-∙ instead.&quot;</a>
<a id="5009" class="Symbol">#-}</a>
<a id="sg"></a><a id="5013" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#5013" class="Function">sg</a> <a id="5016" class="Symbol">=</a> <a id="5018" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2274" class="Function">singleton</a>
<a id="5028" class="Symbol">{-#</a> <a id="5032" class="Keyword">WARNING_ON_USAGE</a> <a id="5049" class="Pragma">sg</a>
<a id="5052" class="String">&quot;Warning: sg was deprecated in v2.2.
Please use singleton instead.&quot;</a>
<a id="5120" class="Symbol">#-}</a>
<a id="sg-correct"></a><a id="5124" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#5124" class="Function">sg-correct</a> <a id="5135" class="Symbol">=</a> <a id="5137" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2823" class="Function">singleton-correct</a>
<a id="5155" class="Symbol">{-#</a> <a id="5159" class="Keyword">WARNING_ON_USAGE</a> <a id="5176" class="Pragma">sg-correct</a>
<a id="5187" class="String">&quot;Warning: sg-correct was deprecated in v2.2.
Please use singleton-correct instead.&quot;</a>
<a id="5271" class="Symbol">#-}</a>
</pre></body></html>