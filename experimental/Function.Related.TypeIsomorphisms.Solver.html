<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Function.Related.TypeIsomorphisms.Solver</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Automatic solver for equations over product and sum types</a>
<a id="167" class="Comment">--</a>
<a id="170" class="Comment">-- See examples at the bottom of the file for how to use this solver</a>
<a id="239" class="Comment">------------------------------------------------------------------------</a>

<a id="313" class="Symbol">{-#</a> <a id="317" class="Keyword">OPTIONS</a> <a id="325" class="Pragma">--without-K</a> <a id="337" class="Pragma">--safe</a> <a id="344" class="Symbol">#-}</a>

<a id="349" class="Keyword">module</a> <a id="356" href="Function.Related.TypeIsomorphisms.Solver.html" class="Module">Function.Related.TypeIsomorphisms.Solver</a> <a id="397" class="Keyword">where</a>

<a id="404" class="Keyword">open</a> <a id="409" class="Keyword">import</a> <a id="416" href="Algebra.html" class="Module">Algebra</a> <a id="424" class="Keyword">using</a> <a id="430" class="Symbol">(</a><a id="431" href="Algebra.Bundles.html#17351" class="Record">CommutativeSemiring</a><a id="450" class="Symbol">)</a>
<a id="452" class="Keyword">import</a> <a id="459" href="Algebra.Solver.Ring.NaturalCoefficients.Default.html" class="Module">Algebra.Solver.Ring.NaturalCoefficients.Default</a>
<a id="507" class="Keyword">open</a> <a id="512" class="Keyword">import</a> <a id="519" href="Data.Empty.Polymorphic.html" class="Module">Data.Empty.Polymorphic</a> <a id="542" class="Keyword">using</a> <a id="548" class="Symbol">(</a><a id="549" href="Data.Empty.Polymorphic.html#331" class="Function">⊥</a><a id="550" class="Symbol">)</a>
<a id="552" class="Keyword">open</a> <a id="557" class="Keyword">import</a> <a id="564" href="Data.Product.html" class="Module">Data.Product</a> <a id="577" class="Keyword">using</a> <a id="583" class="Symbol">(</a><a id="584" href="Data.Product.html#1167" class="Function Operator">_×_</a><a id="587" class="Symbol">)</a>
<a id="589" class="Keyword">open</a> <a id="594" class="Keyword">import</a> <a id="601" href="Data.Sum.Base.html" class="Module">Data.Sum.Base</a> <a id="615" class="Keyword">using</a> <a id="621" class="Symbol">(</a><a id="622" href="Data.Sum.Base.html#734" class="Datatype Operator">_⊎_</a><a id="625" class="Symbol">)</a>
<a id="627" class="Keyword">open</a> <a id="632" class="Keyword">import</a> <a id="639" href="Data.Unit.Polymorphic.html" class="Module">Data.Unit.Polymorphic</a> <a id="661" class="Keyword">using</a> <a id="667" class="Symbol">(</a><a id="668" href="Data.Unit.Polymorphic.Base.html#480" class="Function">⊤</a><a id="669" class="Symbol">)</a>
<a id="671" class="Keyword">open</a> <a id="676" class="Keyword">import</a> <a id="683" href="Level.html" class="Module">Level</a> <a id="689" class="Keyword">using</a> <a id="695" class="Symbol">(</a><a id="696" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="701" class="Symbol">)</a>
<a id="703" class="Keyword">open</a> <a id="708" class="Keyword">import</a> <a id="715" href="Function.Inverse.html" class="Module">Function.Inverse</a> <a id="732" class="Symbol">as</a> <a id="735" class="Module">Inv</a> <a id="739" class="Keyword">using</a> <a id="745" class="Symbol">(</a><a id="746" href="Function.Inverse.html#2457" class="Function Operator">_↔_</a><a id="749" class="Symbol">)</a>
<a id="751" class="Keyword">open</a> <a id="756" class="Keyword">import</a> <a id="763" href="Function.Related.html" class="Module">Function.Related</a> <a id="780" class="Symbol">as</a> <a id="783" class="Module">Related</a>
<a id="791" class="Keyword">open</a> <a id="796" class="Keyword">import</a> <a id="803" href="Function.Related.TypeIsomorphisms.html" class="Module">Function.Related.TypeIsomorphisms</a>

<a id="838" class="Comment">------------------------------------------------------------------------</a>
<a id="911" class="Comment">-- The solver</a>

<a id="926" class="Keyword">module</a> <a id="×-⊎-Solver"></a><a id="933" href="Function.Related.TypeIsomorphisms.Solver.html#933" class="Module">×-⊎-Solver</a> <a id="944" class="Symbol">(</a><a id="945" href="Function.Related.TypeIsomorphisms.Solver.html#945" class="Bound">k</a> <a id="947" class="Symbol">:</a> <a id="949" href="Function.Related.html#3477" class="Datatype">Symmetric-kind</a><a id="963" class="Symbol">)</a> <a id="965" class="Symbol">{</a><a id="966" href="Function.Related.TypeIsomorphisms.Solver.html#966" class="Bound">ℓ</a><a id="967" class="Symbol">}</a> <a id="969" class="Symbol">=</a>
  <a id="973" href="Algebra.Solver.Ring.NaturalCoefficients.Default.html" class="Module">Algebra.Solver.Ring.NaturalCoefficients.Default</a>
    <a id="1025" class="Symbol">(</a><a id="1026" href="Function.Related.TypeIsomorphisms.html#7557" class="Function">×-⊎-commutativeSemiring</a> <a id="1050" href="Function.Related.TypeIsomorphisms.Solver.html#945" class="Bound">k</a> <a id="1052" href="Function.Related.TypeIsomorphisms.Solver.html#966" class="Bound">ℓ</a><a id="1053" class="Symbol">)</a>

<a id="1056" class="Comment">------------------------------------------------------------------------</a>
<a id="1129" class="Comment">-- Tests</a>

<a id="1139" class="Keyword">private</a>

  <a id="1150" class="Comment">-- A test of the solver above.</a>

  <a id="test"></a><a id="1184" href="Function.Related.TypeIsomorphisms.Solver.html#1184" class="Function">test</a> <a id="1189" class="Symbol">:</a> <a id="1191" class="Symbol">{</a><a id="1192" href="Function.Related.TypeIsomorphisms.Solver.html#1192" class="Bound">ℓ</a> <a id="1194" class="Symbol">:</a> <a id="1196" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="1201" class="Symbol">}</a> <a id="1203" class="Symbol">(</a><a id="1204" href="Function.Related.TypeIsomorphisms.Solver.html#1204" class="Bound">A</a> <a id="1206" href="Function.Related.TypeIsomorphisms.Solver.html#1206" class="Bound">B</a> <a id="1208" href="Function.Related.TypeIsomorphisms.Solver.html#1208" class="Bound">C</a> <a id="1210" class="Symbol">:</a> <a id="1212" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1216" href="Function.Related.TypeIsomorphisms.Solver.html#1192" class="Bound">ℓ</a><a id="1217" class="Symbol">)</a> <a id="1219" class="Symbol">→</a>
         <a id="1230" class="Symbol">(</a><a id="1231" href="Data.Unit.Polymorphic.Base.html#480" class="Function">⊤</a> <a id="1233" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1235" href="Function.Related.TypeIsomorphisms.Solver.html#1204" class="Bound">A</a> <a id="1237" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1239" class="Symbol">(</a><a id="1240" href="Function.Related.TypeIsomorphisms.Solver.html#1206" class="Bound">B</a> <a id="1242" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="1244" href="Function.Related.TypeIsomorphisms.Solver.html#1208" class="Bound">C</a><a id="1245" class="Symbol">))</a> <a id="1248" href="Function.Inverse.html#2457" class="Function Operator">↔</a> <a id="1250" class="Symbol">(</a><a id="1251" href="Function.Related.TypeIsomorphisms.Solver.html#1204" class="Bound">A</a> <a id="1253" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1255" href="Function.Related.TypeIsomorphisms.Solver.html#1206" class="Bound">B</a> <a id="1257" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="1259" href="Function.Related.TypeIsomorphisms.Solver.html#1208" class="Bound">C</a> <a id="1261" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1263" class="Symbol">(</a><a id="1264" href="Data.Empty.Polymorphic.html#331" class="Function">⊥</a> <a id="1266" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="1268" href="Function.Related.TypeIsomorphisms.Solver.html#1204" class="Bound">A</a><a id="1269" class="Symbol">))</a>
  <a id="1274" href="Function.Related.TypeIsomorphisms.Solver.html#1184" class="Function">test</a> <a id="1279" class="Symbol">=</a> <a id="1281" href="Relation.Binary.Reflection.html#2443" class="Function">solve</a> <a id="1287" class="Number">3</a> <a id="1289" class="Symbol">(λ</a> <a id="1292" href="Function.Related.TypeIsomorphisms.Solver.html#1292" class="Bound">A</a> <a id="1294" href="Function.Related.TypeIsomorphisms.Solver.html#1294" class="Bound">B</a> <a id="1296" href="Function.Related.TypeIsomorphisms.Solver.html#1296" class="Bound">C</a> <a id="1298" class="Symbol">→</a> <a id="1300" href="Algebra.Solver.Ring.html#2581" class="InductiveConstructor">con</a> <a id="1304" class="Number">1</a> <a id="1306" href="Algebra.Solver.Ring.html#2848" class="Function Operator">:*</a> <a id="1309" class="Symbol">(</a><a id="1310" href="Function.Related.TypeIsomorphisms.Solver.html#1292" class="Bound">A</a> <a id="1312" href="Algebra.Solver.Ring.html#2848" class="Function Operator">:*</a> <a id="1315" class="Symbol">(</a><a id="1316" href="Function.Related.TypeIsomorphisms.Solver.html#1294" class="Bound">B</a> <a id="1318" href="Algebra.Solver.Ring.html#2775" class="Function Operator">:+</a> <a id="1321" href="Function.Related.TypeIsomorphisms.Solver.html#1296" class="Bound">C</a><a id="1322" class="Symbol">))</a> <a id="1325" href="Algebra.Solver.Ring.html#19718" class="Function Operator">:=</a>
                            <a id="1356" href="Function.Related.TypeIsomorphisms.Solver.html#1292" class="Bound">A</a> <a id="1358" href="Algebra.Solver.Ring.html#2848" class="Function Operator">:*</a> <a id="1361" href="Function.Related.TypeIsomorphisms.Solver.html#1294" class="Bound">B</a> <a id="1363" href="Algebra.Solver.Ring.html#2775" class="Function Operator">:+</a> <a id="1366" href="Function.Related.TypeIsomorphisms.Solver.html#1296" class="Bound">C</a> <a id="1368" href="Algebra.Solver.Ring.html#2848" class="Function Operator">:*</a> <a id="1371" class="Symbol">(</a><a id="1372" href="Algebra.Solver.Ring.html#2581" class="InductiveConstructor">con</a> <a id="1376" class="Number">0</a> <a id="1378" href="Algebra.Solver.Ring.html#2775" class="Function Operator">:+</a> <a id="1381" href="Function.Related.TypeIsomorphisms.Solver.html#1292" class="Bound">A</a><a id="1382" class="Symbol">))</a>
                 <a id="1402" href="Function.Inverse.html#3662" class="Function">Inv.id</a>
    <a id="1413" class="Keyword">where</a> <a id="1419" class="Keyword">open</a> <a id="1424" href="Function.Related.TypeIsomorphisms.Solver.html#933" class="Module">×-⊎-Solver</a> <a id="1435" href="Function.Related.html#3537" class="InductiveConstructor">bijection</a>
</pre></body></html>