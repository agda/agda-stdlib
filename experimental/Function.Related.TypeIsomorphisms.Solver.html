<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Function.Related.TypeIsomorphisms.Solver</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Automatic solver for equations over product and sum types</a>
<a id="167" class="Comment">--</a>
<a id="170" class="Comment">-- See examples at the bottom of the file for how to use this solver</a>
<a id="239" class="Comment">------------------------------------------------------------------------</a>

<a id="313" class="Symbol">{-#</a> <a id="317" class="Keyword">OPTIONS</a> <a id="325" class="Pragma">--without-K</a> <a id="337" class="Pragma">--safe</a> <a id="344" class="Symbol">#-}</a>

<a id="349" class="Keyword">module</a> <a id="356" href="Function.Related.TypeIsomorphisms.Solver.html" class="Module">Function.Related.TypeIsomorphisms.Solver</a> <a id="397" class="Keyword">where</a>

<a id="404" class="Keyword">open</a> <a id="409" class="Keyword">import</a> <a id="416" href="Algebra.html" class="Module">Algebra</a> <a id="424" class="Keyword">using</a> <a id="430" class="Symbol">(</a><a id="431" href="Algebra.html#10871" class="Record">CommutativeSemiring</a><a id="450" class="Symbol">)</a>
<a id="452" class="Keyword">import</a> <a id="459" href="Algebra.Solver.Ring.NaturalCoefficients.Default.html" class="Module">Algebra.Solver.Ring.NaturalCoefficients.Default</a>
<a id="507" class="Keyword">open</a> <a id="512" class="Keyword">import</a> <a id="519" href="Data.Empty.html" class="Module">Data.Empty</a> <a id="530" class="Keyword">using</a> <a id="536" class="Symbol">(</a><a id="537" href="Data.Empty.html#279" class="Datatype">⊥</a><a id="538" class="Symbol">)</a>
<a id="540" class="Keyword">open</a> <a id="545" class="Keyword">import</a> <a id="552" href="Data.Product.html" class="Module">Data.Product</a> <a id="565" class="Keyword">using</a> <a id="571" class="Symbol">(</a><a id="572" href="Data.Product.html#1389" class="Function Operator">_×_</a><a id="575" class="Symbol">)</a>
<a id="577" class="Keyword">open</a> <a id="582" class="Keyword">import</a> <a id="589" href="Data.Sum.html" class="Module">Data.Sum</a> <a id="598" class="Keyword">using</a> <a id="604" class="Symbol">(</a><a id="605" href="Data.Sum.Base.html#509" class="Datatype Operator">_⊎_</a><a id="608" class="Symbol">)</a>
<a id="610" class="Keyword">open</a> <a id="615" class="Keyword">import</a> <a id="622" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="632" class="Keyword">using</a> <a id="638" class="Symbol">(</a><a id="639" href="Agda.Builtin.Unit.html#137" class="Record">⊤</a><a id="640" class="Symbol">)</a>
<a id="642" class="Keyword">open</a> <a id="647" class="Keyword">import</a> <a id="654" href="Level.html" class="Module">Level</a> <a id="660" class="Keyword">using</a> <a id="666" class="Symbol">(</a><a id="667" href="Agda.Primitive.html#408" class="Postulate">Level</a><a id="672" class="Symbol">;</a> <a id="674" href="Level.html#394" class="Record">Lift</a><a id="678" class="Symbol">)</a>
<a id="680" class="Keyword">open</a> <a id="685" class="Keyword">import</a> <a id="692" href="Function.Inverse.html" class="Module">Function.Inverse</a> <a id="709" class="Symbol">as</a> <a id="712" class="Module">Inv</a> <a id="716" class="Keyword">using</a> <a id="722" class="Symbol">(</a><a id="723" href="Function.Inverse.html#2229" class="Function Operator">_↔_</a><a id="726" class="Symbol">)</a>
<a id="728" class="Keyword">open</a> <a id="733" class="Keyword">import</a> <a id="740" href="Function.Related.html" class="Module">Function.Related</a> <a id="757" class="Symbol">as</a> <a id="760" class="Module">Related</a>
<a id="768" class="Keyword">open</a> <a id="773" class="Keyword">import</a> <a id="780" href="Function.Related.TypeIsomorphisms.html" class="Module">Function.Related.TypeIsomorphisms</a>

<a id="815" class="Comment">------------------------------------------------------------------------</a>
<a id="888" class="Comment">-- The solver</a>

<a id="903" class="Keyword">module</a> <a id="×-⊎-Solver"></a><a id="910" href="Function.Related.TypeIsomorphisms.Solver.html#910" class="Module">×-⊎-Solver</a> <a id="921" class="Symbol">(</a><a id="922" href="Function.Related.TypeIsomorphisms.Solver.html#922" class="Bound">k</a> <a id="924" class="Symbol">:</a> <a id="926" href="Function.Related.html#3472" class="Datatype">Symmetric-kind</a><a id="940" class="Symbol">)</a> <a id="942" class="Symbol">{</a><a id="943" href="Function.Related.TypeIsomorphisms.Solver.html#943" class="Bound">ℓ</a><a id="944" class="Symbol">}</a> <a id="946" class="Symbol">=</a>
  <a id="950" href="Algebra.Solver.Ring.NaturalCoefficients.Default.html" class="Module">Algebra.Solver.Ring.NaturalCoefficients.Default</a>
    <a id="1002" class="Symbol">(</a><a id="1003" href="Function.Related.TypeIsomorphisms.html#7532" class="Function">×-⊎-commutativeSemiring</a> <a id="1027" href="Function.Related.TypeIsomorphisms.Solver.html#922" class="Bound">k</a> <a id="1029" href="Function.Related.TypeIsomorphisms.Solver.html#943" class="Bound">ℓ</a><a id="1030" class="Symbol">)</a>

<a id="1033" class="Comment">------------------------------------------------------------------------</a>
<a id="1106" class="Comment">-- Tests</a>

<a id="1116" class="Keyword">private</a>

  <a id="1127" class="Comment">-- A test of the solver above.</a>

  <a id="test"></a><a id="1161" href="Function.Related.TypeIsomorphisms.Solver.html#1161" class="Function">test</a> <a id="1166" class="Symbol">:</a> <a id="1168" class="Symbol">{</a><a id="1169" href="Function.Related.TypeIsomorphisms.Solver.html#1169" class="Bound">ℓ</a> <a id="1171" class="Symbol">:</a> <a id="1173" href="Agda.Primitive.html#408" class="Postulate">Level</a><a id="1178" class="Symbol">}</a> <a id="1180" class="Symbol">(</a><a id="1181" href="Function.Related.TypeIsomorphisms.Solver.html#1181" class="Bound">A</a> <a id="1183" href="Function.Related.TypeIsomorphisms.Solver.html#1183" class="Bound">B</a> <a id="1185" href="Function.Related.TypeIsomorphisms.Solver.html#1185" class="Bound">C</a> <a id="1187" class="Symbol">:</a> <a id="1189" class="PrimitiveType">Set</a> <a id="1193" href="Function.Related.TypeIsomorphisms.Solver.html#1169" class="Bound">ℓ</a><a id="1194" class="Symbol">)</a> <a id="1196" class="Symbol">→</a>
         <a id="1207" class="Symbol">(</a><a id="1208" href="Level.html#394" class="Record">Lift</a> <a id="1213" href="Function.Related.TypeIsomorphisms.Solver.html#1169" class="Bound">ℓ</a> <a id="1215" href="Agda.Builtin.Unit.html#137" class="Record">⊤</a> <a id="1217" href="Data.Product.html#1389" class="Function Operator">×</a> <a id="1219" href="Function.Related.TypeIsomorphisms.Solver.html#1181" class="Bound">A</a> <a id="1221" href="Data.Product.html#1389" class="Function Operator">×</a> <a id="1223" class="Symbol">(</a><a id="1224" href="Function.Related.TypeIsomorphisms.Solver.html#1183" class="Bound">B</a> <a id="1226" href="Data.Sum.Base.html#509" class="Datatype Operator">⊎</a> <a id="1228" href="Function.Related.TypeIsomorphisms.Solver.html#1185" class="Bound">C</a><a id="1229" class="Symbol">))</a> <a id="1232" href="Function.Inverse.html#2229" class="Function Operator">↔</a> <a id="1234" class="Symbol">(</a><a id="1235" href="Function.Related.TypeIsomorphisms.Solver.html#1181" class="Bound">A</a> <a id="1237" href="Data.Product.html#1389" class="Function Operator">×</a> <a id="1239" href="Function.Related.TypeIsomorphisms.Solver.html#1183" class="Bound">B</a> <a id="1241" href="Data.Sum.Base.html#509" class="Datatype Operator">⊎</a> <a id="1243" href="Function.Related.TypeIsomorphisms.Solver.html#1185" class="Bound">C</a> <a id="1245" href="Data.Product.html#1389" class="Function Operator">×</a> <a id="1247" class="Symbol">(</a><a id="1248" href="Level.html#394" class="Record">Lift</a> <a id="1253" href="Function.Related.TypeIsomorphisms.Solver.html#1169" class="Bound">ℓ</a> <a id="1255" href="Data.Empty.html#279" class="Datatype">⊥</a> <a id="1257" href="Data.Sum.Base.html#509" class="Datatype Operator">⊎</a> <a id="1259" href="Function.Related.TypeIsomorphisms.Solver.html#1181" class="Bound">A</a><a id="1260" class="Symbol">))</a>
  <a id="1265" href="Function.Related.TypeIsomorphisms.Solver.html#1161" class="Function">test</a> <a id="1270" class="Symbol">=</a> <a id="1272" href="Relation.Binary.Reflection.html#2423" class="Function">solve</a> <a id="1278" class="Number">3</a> <a id="1280" class="Symbol">(λ</a> <a id="1283" href="Function.Related.TypeIsomorphisms.Solver.html#1283" class="Bound">A</a> <a id="1285" href="Function.Related.TypeIsomorphisms.Solver.html#1285" class="Bound">B</a> <a id="1287" href="Function.Related.TypeIsomorphisms.Solver.html#1287" class="Bound">C</a> <a id="1289" class="Symbol">→</a> <a id="1291" href="Algebra.Solver.Ring.html#2527" class="InductiveConstructor">con</a> <a id="1295" class="Number">1</a> <a id="1297" href="Algebra.Solver.Ring.html#2794" class="Function Operator">:*</a> <a id="1300" class="Symbol">(</a><a id="1301" href="Function.Related.TypeIsomorphisms.Solver.html#1283" class="Bound">A</a> <a id="1303" href="Algebra.Solver.Ring.html#2794" class="Function Operator">:*</a> <a id="1306" class="Symbol">(</a><a id="1307" href="Function.Related.TypeIsomorphisms.Solver.html#1285" class="Bound">B</a> <a id="1309" href="Algebra.Solver.Ring.html#2721" class="Function Operator">:+</a> <a id="1312" href="Function.Related.TypeIsomorphisms.Solver.html#1287" class="Bound">C</a><a id="1313" class="Symbol">))</a> <a id="1316" href="Relation.Binary.Reflection.html#3532" class="Function Operator">:=</a>
                            <a id="1347" href="Function.Related.TypeIsomorphisms.Solver.html#1283" class="Bound">A</a> <a id="1349" href="Algebra.Solver.Ring.html#2794" class="Function Operator">:*</a> <a id="1352" href="Function.Related.TypeIsomorphisms.Solver.html#1285" class="Bound">B</a> <a id="1354" href="Algebra.Solver.Ring.html#2721" class="Function Operator">:+</a> <a id="1357" href="Function.Related.TypeIsomorphisms.Solver.html#1287" class="Bound">C</a> <a id="1359" href="Algebra.Solver.Ring.html#2794" class="Function Operator">:*</a> <a id="1362" class="Symbol">(</a><a id="1363" href="Algebra.Solver.Ring.html#2527" class="InductiveConstructor">con</a> <a id="1367" class="Number">0</a> <a id="1369" href="Algebra.Solver.Ring.html#2721" class="Function Operator">:+</a> <a id="1372" href="Function.Related.TypeIsomorphisms.Solver.html#1283" class="Bound">A</a><a id="1373" class="Symbol">))</a>
                 <a id="1393" href="Function.Inverse.html#3434" class="Function">Inv.id</a>
    <a id="1404" class="Keyword">where</a> <a id="1410" class="Keyword">open</a> <a id="1415" href="Function.Related.TypeIsomorphisms.Solver.html#910" class="Module">×-⊎-Solver</a> <a id="1426" href="Function.Related.html#3532" class="InductiveConstructor">bijection</a>
</pre></body></html>