<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Algebra.Solver.Ring.NaturalCoefficients</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Instantiates the ring solver, using the natural numbers as the</a>
<a id="172" class="Comment">-- coefficient &quot;ring&quot;</a>
<a id="194" class="Comment">------------------------------------------------------------------------</a>

<a id="268" class="Symbol">{-#</a> <a id="272" class="Keyword">OPTIONS</a> <a id="280" class="Pragma">--cubical-compatible</a> <a id="301" class="Pragma">--safe</a> <a id="308" class="Symbol">#-}</a>

<a id="313" class="Keyword">open</a> <a id="318" class="Keyword">import</a> <a id="325" href="Algebra.html" class="Module">Algebra</a> <a id="333" class="Keyword">using</a> <a id="339" class="Symbol">(</a><a id="340" href="Algebra.Bundles.Raw.html#5302" class="Record">RawRing</a><a id="347" class="Symbol">;</a> <a id="349" href="Algebra.Bundles.html#19580" class="Record">CommutativeSemiring</a> <a id="369" class="Symbol">)</a>
<a id="371" class="Keyword">import</a> <a id="378" href="Algebra.Properties.Semiring.Mult.html" class="Module">Algebra.Properties.Semiring.Mult</a> <a id="411" class="Symbol">as</a> <a id="414" class="Module">SemiringMultiplication</a>
<a id="437" class="Keyword">open</a> <a id="442" class="Keyword">import</a> <a id="449" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="465" class="Keyword">using</a> <a id="471" class="Symbol">(</a><a id="472" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a><a id="477" class="Symbol">;</a> <a id="479" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a><a id="483" class="Symbol">;</a> <a id="485" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="492" class="Symbol">;</a> <a id="494" href="Data.Maybe.Base.html#1934" class="Function">map</a><a id="497" class="Symbol">)</a>

<a id="500" class="Keyword">module</a> <a id="507" href="Algebra.Solver.Ring.NaturalCoefficients.html" class="Module">Algebra.Solver.Ring.NaturalCoefficients</a>
  <a id="549" class="Symbol">{</a><a id="550" href="Algebra.Solver.Ring.NaturalCoefficients.html#550" class="Bound">r₁</a> <a id="553" href="Algebra.Solver.Ring.NaturalCoefficients.html#553" class="Bound">r₂</a><a id="555" class="Symbol">}</a> <a id="557" class="Symbol">(</a><a id="558" href="Algebra.Solver.Ring.NaturalCoefficients.html#558" class="Bound">R</a> <a id="560" class="Symbol">:</a> <a id="562" href="Algebra.Bundles.html#19580" class="Record">CommutativeSemiring</a> <a id="582" href="Algebra.Solver.Ring.NaturalCoefficients.html#550" class="Bound">r₁</a> <a id="585" href="Algebra.Solver.Ring.NaturalCoefficients.html#553" class="Bound">r₂</a><a id="587" class="Symbol">)</a>
  <a id="591" class="Symbol">(</a><a id="592" class="Keyword">open</a> <a id="597" href="Algebra.Bundles.html#19580" class="Module">CommutativeSemiring</a> <a id="617" href="Algebra.Solver.Ring.NaturalCoefficients.html#558" class="Bound">R</a><a id="618" class="Symbol">)</a>
  <a id="622" class="Symbol">(</a><a id="623" class="Keyword">open</a> <a id="628" href="Algebra.Properties.Semiring.Mult.html" class="Module">SemiringMultiplication</a> <a id="651" href="Algebra.Bundles.html#20041" class="Function">semiring</a> <a id="660" class="Keyword">using</a> <a id="666" class="Symbol">()</a> <a id="669" class="Keyword">renaming</a> <a id="678" class="Symbol">(</a><a id="679" href="Algebra.Definitions.RawMonoid.html#1089" class="Function Operator">_×_</a> <a id="683" class="Symbol">to</a> <a id="686" class="Function Operator">_×ᵤ_</a><a id="690" class="Symbol">))</a>
  <a id="695" class="Symbol">(</a><a id="696" href="Algebra.Solver.Ring.NaturalCoefficients.html#696" class="Bound">dec</a> <a id="700" class="Symbol">:</a> <a id="702" class="Symbol">∀</a> <a id="704" href="Algebra.Solver.Ring.NaturalCoefficients.html#704" class="Bound">m</a> <a id="706" href="Algebra.Solver.Ring.NaturalCoefficients.html#706" class="Bound">n</a> <a id="708" class="Symbol">→</a> <a id="710" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="716" class="Symbol">(</a><a id="717" href="Algebra.Solver.Ring.NaturalCoefficients.html#704" class="Bound">m</a> <a id="719" href="Algebra.Solver.Ring.NaturalCoefficients.html#686" class="Function Operator">×ᵤ</a> <a id="722" href="Algebra.Bundles.html#19879" class="Field">1#</a> <a id="725" href="Algebra.Bundles.html#19721" class="Field Operator">≈</a> <a id="727" href="Algebra.Solver.Ring.NaturalCoefficients.html#706" class="Bound">n</a> <a id="729" href="Algebra.Solver.Ring.NaturalCoefficients.html#686" class="Function Operator">×ᵤ</a> <a id="732" href="Algebra.Bundles.html#19879" class="Field">1#</a><a id="734" class="Symbol">))</a> <a id="737" class="Keyword">where</a>

<a id="744" class="Keyword">open</a> <a id="749" class="Keyword">import</a> <a id="756" href="Algebra.Solver.Ring.AlmostCommutativeRing.html" class="Module">Algebra.Solver.Ring.AlmostCommutativeRing</a>
<a id="798" class="Keyword">open</a> <a id="803" class="Keyword">import</a> <a id="810" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="824" class="Symbol">as</a> <a id="827" class="Module">ℕ</a> <a id="829" class="Keyword">using</a> <a id="835" class="Symbol">(</a><a id="836" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="837" class="Symbol">;</a> <a id="839" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a><a id="842" class="Symbol">;</a> <a id="844" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">_*_</a><a id="847" class="Symbol">)</a>
<a id="849" class="Keyword">open</a> <a id="854" class="Keyword">import</a> <a id="861" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="879" class="Keyword">using</a> <a id="885" class="Symbol">(</a><a id="886" class="Keyword">module</a> <a id="893" href="Data.Product.Base.html#685" class="Module">Σ</a><a id="894" class="Symbol">)</a>
<a id="896" class="Keyword">open</a> <a id="901" class="Keyword">import</a> <a id="908" href="Function.Base.html" class="Module">Function.Base</a> <a id="922" class="Keyword">using</a> <a id="928" class="Symbol">(</a><a id="929" href="Function.Base.html#704" class="Function">id</a><a id="931" class="Symbol">)</a>
<a id="933" class="Keyword">open</a> <a id="938" class="Keyword">import</a> <a id="945" href="Relation.Binary.PropositionalEquality.Core.html" class="Module">Relation.Binary.PropositionalEquality.Core</a> <a id="988" class="Keyword">using</a> <a id="994" class="Symbol">(</a><a id="995" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="998" class="Symbol">)</a>

<a id="1001" class="Keyword">open</a> <a id="1006" class="Keyword">import</a> <a id="1013" href="Algebra.Properties.Semiring.Mult.TCOptimised.html" class="Module">Algebra.Properties.Semiring.Mult.TCOptimised</a> <a id="1058" href="Algebra.Bundles.html#20041" class="Function">semiring</a>
<a id="1067" class="Keyword">open</a> <a id="1072" class="Keyword">import</a> <a id="1079" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1112" href="Algebra.Structures.html#1873" class="Function">setoid</a>

<a id="1120" class="Keyword">private</a>

  <a id="1131" class="Comment">-- The coefficient &quot;ring&quot;.</a>

  <a id="ℕ-ring"></a><a id="1161" href="Algebra.Solver.Ring.NaturalCoefficients.html#1161" class="Function">ℕ-ring</a> <a id="1168" class="Symbol">:</a> <a id="1170" href="Algebra.Bundles.Raw.html#5302" class="Record">RawRing</a> <a id="1178" class="Symbol">_</a> <a id="1180" class="Symbol">_</a>
  <a id="1184" href="Algebra.Solver.Ring.NaturalCoefficients.html#1161" class="Function">ℕ-ring</a> <a id="1191" class="Symbol">=</a> <a id="1193" class="Keyword">record</a>
    <a id="1204" class="Symbol">{</a> <a id="1206" href="Algebra.Bundles.Raw.html#5411" class="Field">Carrier</a> <a id="1214" class="Symbol">=</a> <a id="1216" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="1222" class="Symbol">;</a> <a id="1224" href="Algebra.Bundles.Raw.html#5431" class="Field Operator">_≈_</a>     <a id="1232" class="Symbol">=</a> <a id="1234" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a>
    <a id="1242" class="Symbol">;</a> <a id="1244" href="Algebra.Bundles.Raw.html#5459" class="Field Operator">_+_</a>     <a id="1252" class="Symbol">=</a> <a id="1254" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ._+_</a>
    <a id="1264" class="Symbol">;</a> <a id="1266" href="Algebra.Bundles.Raw.html#5485" class="Field Operator">_*_</a>     <a id="1274" class="Symbol">=</a> <a id="1276" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">ℕ._*_</a>
    <a id="1286" class="Symbol">;</a> <a id="1288" href="Algebra.Bundles.Raw.html#5511" class="Field Operator">-_</a>      <a id="1296" class="Symbol">=</a> <a id="1298" href="Function.Base.html#704" class="Function">id</a>
    <a id="1305" class="Symbol">;</a> <a id="1307" href="Algebra.Bundles.Raw.html#5537" class="Field">0#</a>      <a id="1315" class="Symbol">=</a> <a id="1317" class="Number">0</a>
    <a id="1323" class="Symbol">;</a> <a id="1325" href="Algebra.Bundles.Raw.html#5559" class="Field">1#</a>      <a id="1333" class="Symbol">=</a> <a id="1335" class="Number">1</a>
    <a id="1341" class="Symbol">}</a>

  <a id="1346" class="Comment">-- There is a homomorphism from ℕ to R.</a>
  <a id="1388" class="Comment">--</a>
  <a id="1393" class="Comment">-- Note that the optimised _×_ is used rather than unoptimised _×ᵤ_.</a>
  <a id="1464" class="Comment">-- If _×ᵤ_ were used, then Function.Related.TypeIsomorphisms.test</a>
  <a id="1532" class="Comment">-- would fail to type-check.</a>

  <a id="homomorphism"></a><a id="1564" href="Algebra.Solver.Ring.NaturalCoefficients.html#1564" class="Function">homomorphism</a> <a id="1577" class="Symbol">:</a> <a id="1579" href="Algebra.Solver.Ring.NaturalCoefficients.html#1161" class="Function">ℕ-ring</a> <a id="1586" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2547" class="Record Operator">-Raw-AlmostCommutative⟶</a> <a id="1610" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#4514" class="Function">fromCommutativeSemiring</a> <a id="1634" href="Algebra.Solver.Ring.NaturalCoefficients.html#558" class="Bound">R</a>
  <a id="1638" href="Algebra.Solver.Ring.NaturalCoefficients.html#1564" class="Function">homomorphism</a> <a id="1651" class="Symbol">=</a> <a id="1653" class="Keyword">record</a>
    <a id="1664" class="Symbol">{</a> <a id="1666" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2821" class="Field Operator">⟦_⟧</a>    <a id="1673" class="Symbol">=</a> <a id="1675" class="Symbol">λ</a> <a id="1677" href="Algebra.Solver.Ring.NaturalCoefficients.html#1677" class="Bound">n</a> <a id="1679" class="Symbol">→</a> <a id="1681" href="Algebra.Solver.Ring.NaturalCoefficients.html#1677" class="Bound">n</a> <a id="1683" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1177" class="Function Operator">×</a> <a id="1685" href="Algebra.Bundles.html#19879" class="Field">1#</a>
    <a id="1692" class="Symbol">;</a> <a id="1694" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2843" class="Field">+-homo</a> <a id="1701" class="Symbol">=</a> <a id="1703" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1855" class="Function">×-homo-+</a> <a id="1712" href="Algebra.Bundles.html#19879" class="Field">1#</a>
    <a id="1719" class="Symbol">;</a> <a id="1721" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2885" class="Field">*-homo</a> <a id="1728" class="Symbol">=</a> <a id="1730" href="Algebra.Properties.Semiring.Mult.TCOptimised.html#962" class="Function">×1-homo-*</a>
    <a id="1744" class="Symbol">;</a> <a id="1746" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2927" class="Field">-‿homo</a> <a id="1753" class="Symbol">=</a> <a id="1755" class="Symbol">λ</a> <a id="1757" href="Algebra.Solver.Ring.NaturalCoefficients.html#1757" class="Bound">_</a> <a id="1759" class="Symbol">→</a> <a id="1761" href="Relation.Binary.Structures.html#1641" class="Function">refl</a>
    <a id="1770" class="Symbol">;</a> <a id="1772" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2968" class="Field">0-homo</a> <a id="1779" class="Symbol">=</a> <a id="1781" href="Relation.Binary.Structures.html#1641" class="Function">refl</a>
    <a id="1790" class="Symbol">;</a> <a id="1792" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#3009" class="Field">1-homo</a> <a id="1799" class="Symbol">=</a> <a id="1801" href="Relation.Binary.Structures.html#1641" class="Function">refl</a>
    <a id="1810" class="Symbol">}</a>

  <a id="1815" class="Comment">-- Equality of certain expressions can be decided.</a>

  <a id="dec′"></a><a id="1869" href="Algebra.Solver.Ring.NaturalCoefficients.html#1869" class="Function">dec′</a> <a id="1874" class="Symbol">:</a> <a id="1876" class="Symbol">∀</a> <a id="1878" href="Algebra.Solver.Ring.NaturalCoefficients.html#1878" class="Bound">m</a> <a id="1880" href="Algebra.Solver.Ring.NaturalCoefficients.html#1880" class="Bound">n</a> <a id="1882" class="Symbol">→</a> <a id="1884" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1890" class="Symbol">(</a><a id="1891" href="Algebra.Solver.Ring.NaturalCoefficients.html#1878" class="Bound">m</a> <a id="1893" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1177" class="Function Operator">×</a> <a id="1895" href="Algebra.Bundles.html#19879" class="Field">1#</a> <a id="1898" href="Algebra.Bundles.html#19721" class="Field Operator">≈</a> <a id="1900" href="Algebra.Solver.Ring.NaturalCoefficients.html#1880" class="Bound">n</a> <a id="1902" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1177" class="Function Operator">×</a> <a id="1904" href="Algebra.Bundles.html#19879" class="Field">1#</a><a id="1906" class="Symbol">)</a>
  <a id="1910" href="Algebra.Solver.Ring.NaturalCoefficients.html#1869" class="Function">dec′</a> <a id="1915" href="Algebra.Solver.Ring.NaturalCoefficients.html#1915" class="Bound">m</a> <a id="1917" href="Algebra.Solver.Ring.NaturalCoefficients.html#1917" class="Bound">n</a> <a id="1919" class="Symbol">=</a> <a id="1921" href="Data.Maybe.Base.html#1934" class="Function">map</a> <a id="1925" href="Algebra.Solver.Ring.NaturalCoefficients.html#1952" class="Function">to</a> <a id="1928" class="Symbol">(</a><a id="1929" href="Algebra.Solver.Ring.NaturalCoefficients.html#696" class="Bound">dec</a> <a id="1933" href="Algebra.Solver.Ring.NaturalCoefficients.html#1915" class="Bound">m</a> <a id="1935" href="Algebra.Solver.Ring.NaturalCoefficients.html#1917" class="Bound">n</a><a id="1936" class="Symbol">)</a>
    <a id="1942" class="Keyword">where</a>
    <a id="1952" href="Algebra.Solver.Ring.NaturalCoefficients.html#1952" class="Function">to</a> <a id="1955" class="Symbol">:</a> <a id="1957" href="Algebra.Solver.Ring.NaturalCoefficients.html#1915" class="Bound">m</a> <a id="1959" href="Algebra.Solver.Ring.NaturalCoefficients.html#686" class="Function Operator">×ᵤ</a> <a id="1962" href="Algebra.Bundles.html#19879" class="Field">1#</a> <a id="1965" href="Algebra.Bundles.html#19721" class="Field Operator">≈</a> <a id="1967" href="Algebra.Solver.Ring.NaturalCoefficients.html#1917" class="Bound">n</a> <a id="1969" href="Algebra.Solver.Ring.NaturalCoefficients.html#686" class="Function Operator">×ᵤ</a> <a id="1972" href="Algebra.Bundles.html#19879" class="Field">1#</a> <a id="1975" class="Symbol">→</a> <a id="1977" href="Algebra.Solver.Ring.NaturalCoefficients.html#1915" class="Bound">m</a> <a id="1979" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1177" class="Function Operator">×</a> <a id="1981" href="Algebra.Bundles.html#19879" class="Field">1#</a> <a id="1984" href="Algebra.Bundles.html#19721" class="Field Operator">≈</a> <a id="1986" href="Algebra.Solver.Ring.NaturalCoefficients.html#1917" class="Bound">n</a> <a id="1988" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1177" class="Function Operator">×</a> <a id="1990" href="Algebra.Bundles.html#19879" class="Field">1#</a>
    <a id="1997" href="Algebra.Solver.Ring.NaturalCoefficients.html#1952" class="Function">to</a> <a id="2000" href="Algebra.Solver.Ring.NaturalCoefficients.html#2000" class="Bound">m≈n</a> <a id="2004" class="Symbol">=</a> <a id="2006" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="2018" href="Algebra.Solver.Ring.NaturalCoefficients.html#1915" class="Bound">m</a> <a id="2020" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1177" class="Function Operator">×</a>  <a id="2023" href="Algebra.Bundles.html#19879" class="Field">1#</a>  <a id="2027" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">≈⟨</a> <a id="2030" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1648" class="Function">×ᵤ≈×</a> <a id="2035" href="Algebra.Solver.Ring.NaturalCoefficients.html#1915" class="Bound">m</a> <a id="2037" href="Algebra.Bundles.html#19879" class="Field">1#</a> <a id="2040" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">⟨</a>
      <a id="2048" href="Algebra.Solver.Ring.NaturalCoefficients.html#1915" class="Bound">m</a> <a id="2050" href="Algebra.Solver.Ring.NaturalCoefficients.html#686" class="Function Operator">×ᵤ</a> <a id="2053" href="Algebra.Bundles.html#19879" class="Field">1#</a>  <a id="2057" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a>  <a id="2061" href="Algebra.Solver.Ring.NaturalCoefficients.html#2000" class="Bound">m≈n</a> <a id="2065" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="2073" href="Algebra.Solver.Ring.NaturalCoefficients.html#1917" class="Bound">n</a> <a id="2075" href="Algebra.Solver.Ring.NaturalCoefficients.html#686" class="Function Operator">×ᵤ</a> <a id="2078" href="Algebra.Bundles.html#19879" class="Field">1#</a>  <a id="2082" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a>  <a id="2086" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1648" class="Function">×ᵤ≈×</a> <a id="2091" href="Algebra.Solver.Ring.NaturalCoefficients.html#1917" class="Bound">n</a> <a id="2093" href="Algebra.Bundles.html#19879" class="Field">1#</a> <a id="2096" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="2104" href="Algebra.Solver.Ring.NaturalCoefficients.html#1917" class="Bound">n</a> <a id="2106" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1177" class="Function Operator">×</a>  <a id="2109" href="Algebra.Bundles.html#19879" class="Field">1#</a>  <a id="2113" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

<a id="2116" class="Comment">-- The instantiation.</a>

<a id="2139" class="Keyword">open</a> <a id="2144" class="Keyword">import</a> <a id="2151" href="Algebra.Solver.Ring.html" class="Module">Algebra.Solver.Ring</a> <a id="2171" class="Symbol">_</a> <a id="2173" class="Symbol">_</a> <a id="2175" href="Algebra.Solver.Ring.NaturalCoefficients.html#1564" class="Function">homomorphism</a> <a id="2188" href="Algebra.Solver.Ring.NaturalCoefficients.html#1869" class="Function">dec′</a> <a id="2193" class="Keyword">public</a>
</pre></body></html>