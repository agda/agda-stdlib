<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Refinement.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Refinement type: a value together with a proof irrelevant witness.</a>
<a id="176" class="Comment">------------------------------------------------------------------------</a>

<a id="250" class="Symbol">{-#</a> <a id="254" class="Keyword">OPTIONS</a> <a id="262" class="Pragma">--cubical-compatible</a> <a id="283" class="Pragma">--safe</a> <a id="290" class="Symbol">#-}</a>

<a id="295" class="Keyword">module</a> <a id="302" href="Data.Refinement.Base.html" class="Module">Data.Refinement.Base</a> <a id="323" class="Keyword">where</a>

<a id="330" class="Keyword">open</a> <a id="335" class="Keyword">import</a> <a id="342" href="Data.Irrelevant.html" class="Module">Data.Irrelevant</a> <a id="358" class="Symbol">as</a> <a id="361" class="Module">Irrelevant</a> <a id="372" class="Keyword">using</a> <a id="378" class="Symbol">(</a><a id="379" href="Data.Irrelevant.html#725" class="Record">Irrelevant</a><a id="389" class="Symbol">)</a>
<a id="391" class="Keyword">open</a> <a id="396" class="Keyword">import</a> <a id="403" href="Function.Base.html" class="Module">Function.Base</a> <a id="417" class="Keyword">using</a> <a id="423" class="Symbol">(</a><a id="424" href="Function.Base.html#704" class="Function">id</a><a id="426" class="Symbol">)</a>
<a id="428" class="Keyword">open</a> <a id="433" class="Keyword">import</a> <a id="440" href="Level.html" class="Module">Level</a> <a id="446" class="Keyword">using</a> <a id="452" class="Symbol">(</a><a id="453" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="458" class="Symbol">;</a> <a id="460" href="Agda.Primitive.html#961" class="Primitive Operator">_⊔_</a><a id="463" class="Symbol">)</a>
<a id="465" class="Keyword">open</a> <a id="470" class="Keyword">import</a> <a id="477" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="492" class="Keyword">using</a> <a id="498" class="Symbol">(</a><a id="499" href="Relation.Unary.html#3793" class="Function">IUniversal</a><a id="509" class="Symbol">;</a> <a id="511" href="Relation.Unary.html#5039" class="Function Operator">_⇒_</a><a id="514" class="Symbol">;</a> <a id="516" href="Relation.Unary.html#5784" class="Function Operator">_⊢_</a><a id="519" class="Symbol">)</a>

<a id="522" class="Keyword">private</a>
  <a id="532" class="Keyword">variable</a>
    <a id="545" href="Data.Refinement.Base.html#545" class="Generalizable">a</a> <a id="547" href="Data.Refinement.Base.html#547" class="Generalizable">b</a> <a id="549" href="Data.Refinement.Base.html#549" class="Generalizable">p</a> <a id="551" href="Data.Refinement.Base.html#551" class="Generalizable">q</a> <a id="553" class="Symbol">:</a> <a id="555" href="Agda.Primitive.html#742" class="Postulate">Level</a>
    <a id="565" href="Data.Refinement.Base.html#565" class="Generalizable">A</a> <a id="567" class="Symbol">:</a> <a id="569" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="573" href="Data.Refinement.Base.html#545" class="Generalizable">a</a>
    <a id="579" href="Data.Refinement.Base.html#579" class="Generalizable">B</a> <a id="581" class="Symbol">:</a> <a id="583" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="587" href="Data.Refinement.Base.html#547" class="Generalizable">b</a>
    <a id="593" href="Data.Refinement.Base.html#593" class="Generalizable">P</a> <a id="595" class="Symbol">:</a> <a id="597" href="Data.Refinement.Base.html#565" class="Generalizable">A</a> <a id="599" class="Symbol">→</a> <a id="601" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="605" href="Data.Refinement.Base.html#549" class="Generalizable">p</a>


<a id="609" class="Comment">------------------------------------------------------------------------</a>
<a id="682" class="Comment">-- Definition</a>

<a id="697" class="Keyword">record</a> <a id="Refinement"></a><a id="704" href="Data.Refinement.Base.html#704" class="Record">Refinement</a> <a id="715" class="Symbol">(</a><a id="716" href="Data.Refinement.Base.html#716" class="Bound">A</a> <a id="718" class="Symbol">:</a> <a id="720" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="724" href="Data.Refinement.Base.html#545" class="Generalizable">a</a><a id="725" class="Symbol">)</a> <a id="727" class="Symbol">(</a><a id="728" href="Data.Refinement.Base.html#728" class="Bound">P</a> <a id="730" class="Symbol">:</a> <a id="732" href="Data.Refinement.Base.html#716" class="Bound">A</a> <a id="734" class="Symbol">→</a> <a id="736" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="740" href="Data.Refinement.Base.html#549" class="Generalizable">p</a><a id="741" class="Symbol">)</a> <a id="743" class="Symbol">:</a> <a id="745" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="749" class="Symbol">(</a><a id="750" href="Data.Refinement.Base.html#724" class="Bound">a</a> <a id="752" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="754" href="Data.Refinement.Base.html#740" class="Bound">p</a><a id="755" class="Symbol">)</a> <a id="757" class="Keyword">where</a>
  <a id="765" class="Keyword">constructor</a> <a id="_,_"></a><a id="777" href="Data.Refinement.Base.html#777" class="InductiveConstructor Operator">_,_</a>
  <a id="783" class="Keyword">field</a> <a id="Refinement.value"></a><a id="789" href="Data.Refinement.Base.html#789" class="Field">value</a> <a id="795" class="Symbol">:</a> <a id="797" href="Data.Refinement.Base.html#716" class="Bound">A</a>
        <a id="Refinement.proof"></a><a id="807" href="Data.Refinement.Base.html#807" class="Field">proof</a> <a id="813" class="Symbol">:</a> <a id="815" href="Data.Irrelevant.html#725" class="Record">Irrelevant</a> <a id="826" class="Symbol">(</a><a id="827" href="Data.Refinement.Base.html#728" class="Bound">P</a> <a id="829" href="Data.Refinement.Base.html#789" class="Field">value</a><a id="834" class="Symbol">)</a>
<a id="836" class="Keyword">infixr</a> <a id="843" class="Number">4</a> <a id="845" href="Data.Refinement.Base.html#777" class="InductiveConstructor Operator">_,_</a>
<a id="849" class="Keyword">open</a> <a id="854" href="Data.Refinement.Base.html#704" class="Module">Refinement</a> <a id="865" class="Keyword">public</a>

<a id="873" class="Comment">-- The syntax declaration below is meant to mimic set comprehension.</a>
<a id="942" class="Comment">-- It is attached to Refinement-syntax, to make it easy to import</a>
<a id="1008" class="Comment">-- Data.Refinement without the special syntax.</a>

<a id="1056" class="Keyword">infix</a> <a id="1062" class="Number">2</a> <a id="1064" href="Data.Refinement.Base.html#1082" class="Function">Refinement-syntax</a>
<a id="Refinement-syntax"></a><a id="1082" href="Data.Refinement.Base.html#1082" class="Function">Refinement-syntax</a> <a id="1100" class="Symbol">=</a> <a id="1102" href="Data.Refinement.Base.html#704" class="Record">Refinement</a>
<a id="1113" class="Keyword">syntax</a> <a id="1120" href="Data.Refinement.Base.html#1082" class="Function">Refinement-syntax</a> <a id="1138" class="Bound">A</a> <a id="1140" class="Symbol">(λ</a> <a id="1143" class="Bound">x</a> <a id="1145" class="Symbol">→</a> <a id="1147" class="Bound">P</a><a id="1148" class="Symbol">)</a> <a id="1150" class="Symbol">=</a> <a id="1152" class="Function">[</a> <a id="1154" class="Bound">x</a> <a id="1156" class="Function">∈</a> <a id="1158" class="Bound">A</a> <a id="1160" class="Function">∣</a> <a id="1162" class="Bound">P</a> <a id="1164" class="Function">]</a>

<a id="1167" class="Comment">------------------------------------------------------------------------</a>
<a id="1240" class="Comment">-- Basic operations</a>

<a id="1261" class="Keyword">module</a> <a id="1268" href="Data.Refinement.Base.html#1268" class="Module">_</a> <a id="1270" class="Symbol">{</a><a id="1271" href="Data.Refinement.Base.html#1271" class="Bound">Q</a> <a id="1273" class="Symbol">:</a> <a id="1275" href="Data.Refinement.Base.html#579" class="Generalizable">B</a> <a id="1277" class="Symbol">→</a> <a id="1279" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1283" href="Data.Refinement.Base.html#551" class="Generalizable">q</a><a id="1284" class="Symbol">}</a> <a id="1286" class="Keyword">where</a>

  <a id="1295" href="Data.Refinement.Base.html#1295" class="Function">map</a> <a id="1299" class="Symbol">:</a> <a id="1301" class="Symbol">(</a><a id="1302" href="Data.Refinement.Base.html#1302" class="Bound">f</a> <a id="1304" class="Symbol">:</a> <a id="1306" href="Data.Refinement.Base.html#565" class="Generalizable">A</a> <a id="1308" class="Symbol">→</a> <a id="1310" href="Data.Refinement.Base.html#1275" class="Bound">B</a><a id="1311" class="Symbol">)</a> <a id="1313" class="Symbol">→</a> <a id="1315" href="Relation.Unary.html#3793" class="Function">∀[</a> <a id="1318" href="Data.Refinement.Base.html#593" class="Generalizable">P</a> <a id="1320" href="Relation.Unary.html#5039" class="Function Operator">⇒</a> <a id="1322" href="Data.Refinement.Base.html#1302" class="Bound">f</a> <a id="1324" href="Relation.Unary.html#5784" class="Function Operator">⊢</a> <a id="1326" href="Data.Refinement.Base.html#1271" class="Bound">Q</a> <a id="1328" href="Relation.Unary.html#3793" class="Function">]</a> <a id="1330" class="Symbol">→</a>
        <a id="1340" href="Data.Refinement.Base.html#1082" class="Function">[</a> <a id="1342" href="Data.Refinement.Base.html#1342" class="Bound">a</a> <a id="1344" href="Data.Refinement.Base.html#1082" class="Function">∈</a> <a id="1346" href="Data.Refinement.Base.html#565" class="Generalizable">A</a> <a id="1348" href="Data.Refinement.Base.html#1082" class="Function">∣</a> <a id="1350" href="Data.Refinement.Base.html#593" class="Generalizable">P</a> <a id="1352" href="Data.Refinement.Base.html#1342" class="Bound">a</a> <a id="1354" href="Data.Refinement.Base.html#1082" class="Function">]</a> <a id="1356" class="Symbol">→</a> <a id="1358" href="Data.Refinement.Base.html#1082" class="Function">[</a> <a id="1360" href="Data.Refinement.Base.html#1360" class="Bound">b</a> <a id="1362" href="Data.Refinement.Base.html#1082" class="Function">∈</a> <a id="1364" href="Data.Refinement.Base.html#1275" class="Bound">B</a> <a id="1366" href="Data.Refinement.Base.html#1082" class="Function">∣</a> <a id="1368" href="Data.Refinement.Base.html#1271" class="Bound">Q</a> <a id="1370" href="Data.Refinement.Base.html#1360" class="Bound">b</a> <a id="1372" href="Data.Refinement.Base.html#1082" class="Function">]</a>
  <a id="1376" href="Data.Refinement.Base.html#1295" class="Function">map</a> <a id="1380" href="Data.Refinement.Base.html#1380" class="Bound">f</a> <a id="1382" href="Data.Refinement.Base.html#1382" class="Bound">prf</a> <a id="1386" class="Symbol">(</a><a id="1387" href="Data.Refinement.Base.html#1387" class="Bound">a</a> <a id="1389" href="Data.Refinement.Base.html#777" class="InductiveConstructor Operator">,</a> <a id="1391" href="Data.Refinement.Base.html#1391" class="Bound">p</a><a id="1392" class="Symbol">)</a> <a id="1394" class="Symbol">=</a> <a id="1396" href="Data.Refinement.Base.html#1380" class="Bound">f</a> <a id="1398" href="Data.Refinement.Base.html#1387" class="Bound">a</a> <a id="1400" href="Data.Refinement.Base.html#777" class="InductiveConstructor Operator">,</a> <a id="1402" href="Data.Irrelevant.html#963" class="Function">Irrelevant.map</a> <a id="1417" href="Data.Refinement.Base.html#1382" class="Bound">prf</a> <a id="1421" href="Data.Refinement.Base.html#1391" class="Bound">p</a>

<a id="1424" class="Keyword">module</a> <a id="1431" href="Data.Refinement.Base.html#1431" class="Module">_</a> <a id="1433" class="Symbol">{</a><a id="1434" href="Data.Refinement.Base.html#1434" class="Bound">Q</a> <a id="1436" class="Symbol">:</a> <a id="1438" href="Data.Refinement.Base.html#565" class="Generalizable">A</a> <a id="1440" class="Symbol">→</a> <a id="1442" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1446" href="Data.Refinement.Base.html#551" class="Generalizable">q</a><a id="1447" class="Symbol">}</a> <a id="1449" class="Keyword">where</a>

  <a id="1458" href="Data.Refinement.Base.html#1458" class="Function">refine</a> <a id="1465" class="Symbol">:</a> <a id="1467" href="Relation.Unary.html#3793" class="Function">∀[</a> <a id="1470" href="Data.Refinement.Base.html#593" class="Generalizable">P</a> <a id="1472" href="Relation.Unary.html#5039" class="Function Operator">⇒</a> <a id="1474" href="Data.Refinement.Base.html#1434" class="Bound">Q</a> <a id="1476" href="Relation.Unary.html#3793" class="Function">]</a> <a id="1478" class="Symbol">→</a> <a id="1480" href="Data.Refinement.Base.html#1082" class="Function">[</a> <a id="1482" href="Data.Refinement.Base.html#1482" class="Bound">a</a> <a id="1484" href="Data.Refinement.Base.html#1082" class="Function">∈</a> <a id="1486" href="Data.Refinement.Base.html#1438" class="Bound">A</a> <a id="1488" href="Data.Refinement.Base.html#1082" class="Function">∣</a> <a id="1490" href="Data.Refinement.Base.html#593" class="Generalizable">P</a> <a id="1492" href="Data.Refinement.Base.html#1482" class="Bound">a</a> <a id="1494" href="Data.Refinement.Base.html#1082" class="Function">]</a> <a id="1496" class="Symbol">→</a> <a id="1498" href="Data.Refinement.Base.html#1082" class="Function">[</a> <a id="1500" href="Data.Refinement.Base.html#1500" class="Bound">a</a> <a id="1502" href="Data.Refinement.Base.html#1082" class="Function">∈</a> <a id="1504" href="Data.Refinement.Base.html#1438" class="Bound">A</a> <a id="1506" href="Data.Refinement.Base.html#1082" class="Function">∣</a> <a id="1508" href="Data.Refinement.Base.html#1434" class="Bound">Q</a> <a id="1510" href="Data.Refinement.Base.html#1500" class="Bound">a</a> <a id="1512" href="Data.Refinement.Base.html#1082" class="Function">]</a>
  <a id="1516" href="Data.Refinement.Base.html#1458" class="Function">refine</a> <a id="1523" class="Symbol">=</a> <a id="1525" href="Data.Refinement.Base.html#1295" class="Function">map</a> <a id="1529" href="Function.Base.html#704" class="Function">id</a>
</pre></body></html>