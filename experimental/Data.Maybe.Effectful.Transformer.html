<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Maybe.Effectful.Transformer</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- An effectful view of Maybe</a>
<a id="136" class="Comment">------------------------------------------------------------------------</a>

<a id="210" class="Symbol">{-#</a> <a id="214" class="Keyword">OPTIONS</a> <a id="222" class="Pragma">--cubical-compatible</a> <a id="243" class="Pragma">--safe</a> <a id="250" class="Symbol">#-}</a>

<a id="255" class="Keyword">module</a> <a id="262" href="Data.Maybe.Effectful.Transformer.html" class="Module">Data.Maybe.Effectful.Transformer</a> <a id="295" class="Keyword">where</a>

<a id="302" class="Keyword">open</a> <a id="307" class="Keyword">import</a> <a id="314" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="330" class="Symbol">as</a> <a id="333" class="Module">Maybe</a> <a id="339" class="Keyword">using</a> <a id="345" class="Symbol">(</a><a id="346" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a><a id="351" class="Symbol">;</a> <a id="353" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a><a id="357" class="Symbol">;</a> <a id="359" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="366" class="Symbol">;</a> <a id="368" href="Data.Maybe.Base.html#1276" class="Function">maybe</a><a id="373" class="Symbol">)</a>
<a id="375" class="Keyword">open</a> <a id="380" class="Keyword">import</a> <a id="387" href="Effect.Choice.html" class="Module">Effect.Choice</a> <a id="401" class="Keyword">using</a> <a id="407" class="Symbol">(</a><a id="408" href="Effect.Choice.html#414" class="Record">RawChoice</a><a id="417" class="Symbol">)</a>
<a id="419" class="Keyword">open</a> <a id="424" class="Keyword">import</a> <a id="431" href="Effect.Empty.html" class="Module">Effect.Empty</a> <a id="444" class="Keyword">using</a> <a id="450" class="Symbol">(</a><a id="451" href="Effect.Empty.html#408" class="Record">RawEmpty</a><a id="459" class="Symbol">)</a>
<a id="461" class="Keyword">open</a> <a id="466" class="Keyword">import</a> <a id="473" href="Effect.Functor.html" class="Module">Effect.Functor</a> <a id="488" class="Keyword">using</a> <a id="494" class="Symbol">(</a><a id="495" href="Effect.Functor.html#602" class="Record">RawFunctor</a><a id="505" class="Symbol">)</a>
<a id="507" class="Keyword">open</a> <a id="512" class="Keyword">import</a> <a id="519" href="Effect.Applicative.html" class="Module">Effect.Applicative</a> <a id="538" class="Keyword">using</a> <a id="544" class="Symbol">(</a><a id="545" href="Effect.Applicative.html#977" class="Record">RawApplicative</a><a id="559" class="Symbol">)</a>
<a id="561" class="Keyword">open</a> <a id="566" class="Keyword">import</a> <a id="573" href="Effect.Monad.html" class="Module">Effect.Monad</a> <a id="586" class="Keyword">using</a> <a id="592" class="Symbol">(</a><a id="593" href="Effect.Monad.html#899" class="Record">RawMonad</a><a id="601" class="Symbol">;</a> <a id="603" href="Effect.Monad.html#3339" class="Function">RawMonadT</a><a id="612" class="Symbol">)</a>
<a id="614" class="Keyword">open</a> <a id="619" class="Keyword">import</a> <a id="626" href="Function.Base.html" class="Module">Function.Base</a> <a id="640" class="Keyword">using</a> <a id="646" class="Symbol">(</a><a id="647" href="Function.Base.html#3626" class="Function Operator">_∘′_</a><a id="651" class="Symbol">;</a> <a id="653" href="Function.Base.html#1974" class="Function Operator">_$_</a><a id="656" class="Symbol">)</a>
<a id="658" class="Keyword">open</a> <a id="663" class="Keyword">import</a> <a id="670" href="Level.html" class="Module">Level</a> <a id="676" class="Keyword">using</a> <a id="682" class="Symbol">(</a><a id="683" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="688" class="Symbol">;</a> <a id="690" href="Agda.Primitive.html#961" class="Primitive Operator">_⊔_</a><a id="693" class="Symbol">)</a>


<a id="697" class="Keyword">private</a>
  <a id="707" class="Keyword">variable</a>
    <a id="720" href="Data.Maybe.Effectful.Transformer.html#720" class="Generalizable">f</a> <a id="722" href="Data.Maybe.Effectful.Transformer.html#722" class="Generalizable">g</a> <a id="724" class="Symbol">:</a> <a id="726" href="Agda.Primitive.html#742" class="Postulate">Level</a>
    <a id="736" href="Data.Maybe.Effectful.Transformer.html#736" class="Generalizable">M</a> <a id="738" class="Symbol">:</a> <a id="740" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="744" href="Data.Maybe.Effectful.Transformer.html#720" class="Generalizable">f</a> <a id="746" class="Symbol">→</a> <a id="748" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="752" href="Data.Maybe.Effectful.Transformer.html#722" class="Generalizable">g</a>

<a id="755" class="Comment">------------------------------------------------------------------------</a>
<a id="828" class="Comment">-- Maybe monad transformer</a>

<a id="856" class="Keyword">record</a> <a id="MaybeT"></a><a id="863" href="Data.Maybe.Effectful.Transformer.html#863" class="Record">MaybeT</a> <a id="870" class="Symbol">(</a><a id="871" href="Data.Maybe.Effectful.Transformer.html#871" class="Bound">M</a> <a id="873" class="Symbol">:</a> <a id="875" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="879" href="Data.Maybe.Effectful.Transformer.html#720" class="Generalizable">f</a> <a id="881" class="Symbol">→</a> <a id="883" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="887" href="Data.Maybe.Effectful.Transformer.html#722" class="Generalizable">g</a><a id="888" class="Symbol">)</a> <a id="890" class="Symbol">(</a><a id="891" href="Data.Maybe.Effectful.Transformer.html#891" class="Bound">A</a> <a id="893" class="Symbol">:</a> <a id="895" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="899" href="Data.Maybe.Effectful.Transformer.html#720" class="Generalizable">f</a><a id="900" class="Symbol">)</a> <a id="902" class="Symbol">:</a> <a id="904" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="908" href="Data.Maybe.Effectful.Transformer.html#887" class="Bound">g</a> <a id="910" class="Keyword">where</a>
  <a id="918" class="Keyword">constructor</a> <a id="mkMaybeT"></a><a id="930" href="Data.Maybe.Effectful.Transformer.html#930" class="InductiveConstructor">mkMaybeT</a>
  <a id="941" class="Keyword">field</a> <a id="MaybeT.runMaybeT"></a><a id="947" href="Data.Maybe.Effectful.Transformer.html#947" class="Field">runMaybeT</a> <a id="957" class="Symbol">:</a> <a id="959" href="Data.Maybe.Effectful.Transformer.html#871" class="Bound">M</a> <a id="961" class="Symbol">(</a><a id="962" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="968" href="Data.Maybe.Effectful.Transformer.html#891" class="Bound">A</a><a id="969" class="Symbol">)</a>
<a id="971" class="Keyword">open</a> <a id="976" href="Data.Maybe.Effectful.Transformer.html#863" class="Module">MaybeT</a> <a id="983" class="Keyword">public</a>

<a id="991" class="Comment">------------------------------------------------------------------------</a>
<a id="1064" class="Comment">-- Structure</a>

<a id="functor"></a><a id="1078" href="Data.Maybe.Effectful.Transformer.html#1078" class="Function">functor</a> <a id="1086" class="Symbol">:</a> <a id="1088" href="Effect.Functor.html#602" class="Record">RawFunctor</a> <a id="1099" href="Data.Maybe.Effectful.Transformer.html#736" class="Generalizable">M</a> <a id="1101" class="Symbol">→</a> <a id="1103" href="Effect.Functor.html#602" class="Record">RawFunctor</a> <a id="1114" class="Symbol">{</a><a id="1115" href="Data.Maybe.Effectful.Transformer.html#720" class="Generalizable">f</a><a id="1116" class="Symbol">}</a> <a id="1118" class="Symbol">(</a><a id="1119" href="Data.Maybe.Effectful.Transformer.html#863" class="Record">MaybeT</a> <a id="1126" href="Data.Maybe.Effectful.Transformer.html#736" class="Generalizable">M</a><a id="1127" class="Symbol">)</a>
<a id="1129" href="Data.Maybe.Effectful.Transformer.html#1078" class="Function">functor</a> <a id="1137" href="Data.Maybe.Effectful.Transformer.html#1137" class="Bound">M</a> <a id="1139" class="Symbol">=</a> <a id="1141" class="Keyword">record</a>
  <a id="1150" class="Symbol">{</a> <a id="1152" href="Effect.Functor.html#710" class="Field Operator">_&lt;$&gt;_</a> <a id="1158" class="Symbol">=</a> <a id="1160" class="Symbol">λ</a> <a id="1162" href="Data.Maybe.Effectful.Transformer.html#1162" class="Bound">f</a> <a id="1164" class="Symbol">→</a> <a id="1166" href="Data.Maybe.Effectful.Transformer.html#930" class="InductiveConstructor">mkMaybeT</a> <a id="1175" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="1178" class="Symbol">(</a><a id="1179" href="Data.Maybe.Base.html#1934" class="Function">Maybe.map</a> <a id="1189" href="Data.Maybe.Effectful.Transformer.html#1162" class="Bound">f</a> <a id="1191" href="Effect.Functor.html#710" class="Field Operator">&lt;$&gt;_</a><a id="1195" class="Symbol">)</a> <a id="1197" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="1200" href="Data.Maybe.Effectful.Transformer.html#947" class="Field">runMaybeT</a>
  <a id="1212" class="Symbol">}</a> <a id="1214" class="Keyword">where</a> <a id="1220" class="Keyword">open</a> <a id="1225" href="Effect.Functor.html#602" class="Module">RawFunctor</a> <a id="1236" href="Data.Maybe.Effectful.Transformer.html#1137" class="Bound">M</a>

<a id="applicative"></a><a id="1239" href="Data.Maybe.Effectful.Transformer.html#1239" class="Function">applicative</a> <a id="1251" class="Symbol">:</a> <a id="1253" href="Effect.Applicative.html#977" class="Record">RawApplicative</a> <a id="1268" href="Data.Maybe.Effectful.Transformer.html#736" class="Generalizable">M</a> <a id="1270" class="Symbol">→</a> <a id="1272" href="Effect.Applicative.html#977" class="Record">RawApplicative</a> <a id="1287" class="Symbol">{</a><a id="1288" href="Data.Maybe.Effectful.Transformer.html#720" class="Generalizable">f</a><a id="1289" class="Symbol">}</a> <a id="1291" class="Symbol">(</a><a id="1292" href="Data.Maybe.Effectful.Transformer.html#863" class="Record">MaybeT</a> <a id="1299" href="Data.Maybe.Effectful.Transformer.html#736" class="Generalizable">M</a><a id="1300" class="Symbol">)</a>
<a id="1302" href="Data.Maybe.Effectful.Transformer.html#1239" class="Function">applicative</a> <a id="1314" href="Data.Maybe.Effectful.Transformer.html#1314" class="Bound">M</a> <a id="1316" class="Symbol">=</a> <a id="1318" class="Keyword">record</a>
  <a id="1327" class="Symbol">{</a> <a id="1329" href="Effect.Applicative.html#1115" class="Field">rawFunctor</a> <a id="1340" class="Symbol">=</a> <a id="1342" href="Data.Maybe.Effectful.Transformer.html#1078" class="Function">functor</a> <a id="1350" href="Effect.Applicative.html#1115" class="Field">rawFunctor</a>
  <a id="1363" class="Symbol">;</a> <a id="1365" href="Effect.Applicative.html#1145" class="Field">pure</a>       <a id="1376" class="Symbol">=</a> <a id="1378" href="Data.Maybe.Effectful.Transformer.html#930" class="InductiveConstructor">mkMaybeT</a> <a id="1387" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="1390" href="Effect.Applicative.html#1145" class="Field">pure</a> <a id="1395" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="1398" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a>
  <a id="1405" class="Symbol">;</a> <a id="1407" href="Effect.Applicative.html#1164" class="Field Operator">_&lt;*&gt;_</a>      <a id="1418" class="Symbol">=</a> <a id="1420" class="Symbol">λ</a> <a id="1422" href="Data.Maybe.Effectful.Transformer.html#1422" class="Bound">mf</a> <a id="1425" href="Data.Maybe.Effectful.Transformer.html#1425" class="Bound">ma</a> <a id="1428" class="Symbol">→</a> <a id="1430" href="Data.Maybe.Effectful.Transformer.html#930" class="InductiveConstructor">mkMaybeT</a> <a id="1439" class="Symbol">(</a><a id="1440" href="Data.Maybe.Base.html#2022" class="Function">Maybe.ap</a> <a id="1449" href="Effect.Functor.html#710" class="Function Operator">&lt;$&gt;</a> <a id="1453" href="Data.Maybe.Effectful.Transformer.html#947" class="Field">runMaybeT</a> <a id="1463" href="Data.Maybe.Effectful.Transformer.html#1422" class="Bound">mf</a> <a id="1466" href="Effect.Applicative.html#1164" class="Field Operator">&lt;*&gt;</a> <a id="1470" href="Data.Maybe.Effectful.Transformer.html#947" class="Field">runMaybeT</a> <a id="1480" href="Data.Maybe.Effectful.Transformer.html#1425" class="Bound">ma</a><a id="1482" class="Symbol">)</a>
  <a id="1486" class="Symbol">}</a> <a id="1488" class="Keyword">where</a> <a id="1494" class="Keyword">open</a> <a id="1499" href="Effect.Applicative.html#977" class="Module">RawApplicative</a> <a id="1514" href="Data.Maybe.Effectful.Transformer.html#1314" class="Bound">M</a>

<a id="monad"></a><a id="1517" href="Data.Maybe.Effectful.Transformer.html#1517" class="Function">monad</a> <a id="1523" class="Symbol">:</a> <a id="1525" href="Effect.Monad.html#899" class="Record">RawMonad</a> <a id="1534" href="Data.Maybe.Effectful.Transformer.html#736" class="Generalizable">M</a> <a id="1536" class="Symbol">→</a> <a id="1538" href="Effect.Monad.html#899" class="Record">RawMonad</a> <a id="1547" class="Symbol">{</a><a id="1548" href="Data.Maybe.Effectful.Transformer.html#720" class="Generalizable">f</a><a id="1549" class="Symbol">}</a> <a id="1551" class="Symbol">(</a><a id="1552" href="Data.Maybe.Effectful.Transformer.html#863" class="Record">MaybeT</a> <a id="1559" href="Data.Maybe.Effectful.Transformer.html#736" class="Generalizable">M</a><a id="1560" class="Symbol">)</a>
<a id="1562" href="Data.Maybe.Effectful.Transformer.html#1517" class="Function">monad</a> <a id="1568" href="Data.Maybe.Effectful.Transformer.html#1568" class="Bound">M</a> <a id="1570" class="Symbol">=</a> <a id="1572" class="Keyword">record</a>
  <a id="1581" class="Symbol">{</a> <a id="1583" href="Effect.Monad.html#1015" class="Field">rawApplicative</a> <a id="1598" class="Symbol">=</a> <a id="1600" href="Data.Maybe.Effectful.Transformer.html#1239" class="Function">applicative</a> <a id="1612" href="Effect.Monad.html#1015" class="Field">rawApplicative</a>
  <a id="1629" class="Symbol">;</a> <a id="1631" href="Effect.Monad.html#1053" class="Field Operator">_&gt;&gt;=_</a> <a id="1637" class="Symbol">=</a> <a id="1639" class="Symbol">λ</a> <a id="1641" href="Data.Maybe.Effectful.Transformer.html#1641" class="Bound">ma</a> <a id="1644" href="Data.Maybe.Effectful.Transformer.html#1644" class="Bound">f</a> <a id="1646" class="Symbol">→</a> <a id="1648" href="Data.Maybe.Effectful.Transformer.html#930" class="InductiveConstructor">mkMaybeT</a> <a id="1657" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="1659" class="Keyword">do</a>
              <a id="1676" href="Data.Maybe.Effectful.Transformer.html#1676" class="Bound">a</a> <a id="1678" href="Effect.Monad.html#1053" class="Field Operator">←</a> <a id="1680" href="Data.Maybe.Effectful.Transformer.html#947" class="Field">runMaybeT</a> <a id="1690" href="Data.Maybe.Effectful.Transformer.html#1641" class="Bound">ma</a>
              <a id="1707" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="1713" class="Symbol">(</a><a id="1714" href="Data.Maybe.Effectful.Transformer.html#947" class="Field">runMaybeT</a> <a id="1724" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="1727" href="Data.Maybe.Effectful.Transformer.html#1644" class="Bound">f</a><a id="1728" class="Symbol">)</a> <a id="1730" class="Symbol">(</a><a id="1731" href="Effect.Applicative.html#1145" class="Function">pure</a> <a id="1736" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="1743" class="Symbol">)</a> <a id="1745" href="Data.Maybe.Effectful.Transformer.html#1676" class="Bound">a</a>
  <a id="1749" class="Symbol">}</a> <a id="1751" class="Keyword">where</a> <a id="1757" class="Keyword">open</a> <a id="1762" href="Effect.Monad.html#899" class="Module">RawMonad</a> <a id="1771" href="Data.Maybe.Effectful.Transformer.html#1568" class="Bound">M</a>

<a id="monadT"></a><a id="1774" href="Data.Maybe.Effectful.Transformer.html#1774" class="Function">monadT</a> <a id="1781" class="Symbol">:</a> <a id="1783" href="Effect.Monad.html#3339" class="Function">RawMonadT</a> <a id="1793" class="Symbol">{</a><a id="1794" href="Data.Maybe.Effectful.Transformer.html#720" class="Generalizable">f</a><a id="1795" class="Symbol">}</a> <a id="1797" class="Symbol">{</a><a id="1798" href="Data.Maybe.Effectful.Transformer.html#722" class="Generalizable">g</a><a id="1799" class="Symbol">}</a> <a id="1801" href="Data.Maybe.Effectful.Transformer.html#863" class="Record">MaybeT</a>
<a id="1808" href="Data.Maybe.Effectful.Transformer.html#1774" class="Function">monadT</a> <a id="1815" class="Symbol">{</a><a id="1816" class="Argument">M</a> <a id="1818" class="Symbol">=</a> <a id="1820" href="Data.Maybe.Effectful.Transformer.html#1820" class="Bound">F</a><a id="1821" class="Symbol">}</a> <a id="1823" href="Data.Maybe.Effectful.Transformer.html#1823" class="Bound">M</a> <a id="1825" class="Symbol">=</a> <a id="1827" class="Keyword">record</a>
  <a id="1836" class="Symbol">{</a> <a id="1838" href="Effect.Monad.html#3260" class="Field">lift</a> <a id="1843" class="Symbol">=</a> <a id="1845" href="Data.Maybe.Effectful.Transformer.html#930" class="InductiveConstructor">mkMaybeT</a> <a id="1854" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="1857" class="Symbol">(</a><a id="1858" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1863" href="Effect.Functor.html#710" class="Function Operator">&lt;$&gt;_</a><a id="1867" class="Symbol">)</a>
  <a id="1871" class="Symbol">;</a> <a id="1873" href="Effect.Monad.html#3282" class="Field">rawMonad</a> <a id="1882" class="Symbol">=</a> <a id="1884" href="Data.Maybe.Effectful.Transformer.html#1517" class="Function">monad</a> <a id="1890" href="Data.Maybe.Effectful.Transformer.html#1823" class="Bound">M</a>
  <a id="1894" class="Symbol">}</a> <a id="1896" class="Keyword">where</a> <a id="1902" class="Keyword">open</a> <a id="1907" href="Effect.Monad.html#899" class="Module">RawMonad</a> <a id="1916" href="Data.Maybe.Effectful.Transformer.html#1823" class="Bound">M</a>
</pre></body></html>