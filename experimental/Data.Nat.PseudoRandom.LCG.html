<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Nat.PseudoRandom.LCG</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Linear congruential pseudo random generators for natural numbers</a>
<a id="174" class="Comment">-- /!\ NB: LCGs must not be used for cryptographic applications</a>
<a id="238" class="Comment">------------------------------------------------------------------------</a>

<a id="312" class="Symbol">{-#</a> <a id="316" class="Keyword">OPTIONS</a> <a id="324" class="Pragma">--cubical-compatible</a> <a id="345" class="Pragma">--safe</a> <a id="352" class="Symbol">#-}</a>

<a id="357" class="Keyword">module</a> <a id="364" href="Data.Nat.PseudoRandom.LCG.html" class="Module">Data.Nat.PseudoRandom.LCG</a> <a id="390" class="Keyword">where</a>

<a id="397" class="Keyword">open</a> <a id="402" class="Keyword">import</a> <a id="409" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="423" class="Keyword">using</a> <a id="429" class="Symbol">(</a><a id="430" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="431" class="Symbol">;</a> <a id="433" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a><a id="436" class="Symbol">;</a> <a id="438" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">_*_</a><a id="441" class="Symbol">;</a> <a id="443" href="Data.Nat.Base.html#6567" class="Function Operator">_^_</a><a id="446" class="Symbol">;</a> <a id="448" href="Data.Nat.Base.html#3266" class="Record">NonZero</a><a id="455" class="Symbol">)</a>
<a id="457" class="Keyword">open</a> <a id="462" class="Keyword">import</a> <a id="469" href="Data.Nat.DivMod.html" class="Module">Data.Nat.DivMod</a> <a id="485" class="Keyword">using</a> <a id="491" class="Symbol">(</a><a id="492" href="Data.Nat.Base.html#7285" class="Function Operator">_%_</a><a id="495" class="Symbol">)</a>
<a id="497" class="Keyword">open</a> <a id="502" class="Keyword">import</a> <a id="509" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="524" class="Keyword">using</a> <a id="530" class="Symbol">(</a><a id="531" href="Agda.Builtin.List.html#147" class="Datatype">List</a><a id="535" class="Symbol">;</a> <a id="537" href="Data.List.Base.html#5114" class="Function">iterate</a><a id="544" class="Symbol">)</a>

<a id="547" class="Comment">------------------------------------------------------------------------</a>
<a id="620" class="Comment">-- Type and generator</a>

<a id="643" class="Keyword">record</a> <a id="Generator"></a><a id="650" href="Data.Nat.PseudoRandom.LCG.html#650" class="Record">Generator</a> <a id="660" class="Symbol">:</a> <a id="662" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="666" class="Keyword">where</a>
  <a id="674" class="Keyword">field</a> <a id="Generator.multiplier"></a><a id="680" href="Data.Nat.PseudoRandom.LCG.html#680" class="Field">multiplier</a>     <a id="695" class="Symbol">:</a> <a id="697" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
        <a id="Generator.increment"></a><a id="707" href="Data.Nat.PseudoRandom.LCG.html#707" class="Field">increment</a>      <a id="722" class="Symbol">:</a> <a id="724" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
        <a id="Generator.modulus"></a><a id="734" href="Data.Nat.PseudoRandom.LCG.html#734" class="Field">modulus</a>        <a id="749" class="Symbol">:</a> <a id="751" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
        <a id="761" class="Symbol">.{{</a><a id="Generator.modulus≢0"></a><a id="764" href="Data.Nat.PseudoRandom.LCG.html#764" class="Field">modulus≢0</a><a id="773" class="Symbol">}}</a> <a id="776" class="Symbol">:</a> <a id="778" href="Data.Nat.Base.html#3266" class="Record">NonZero</a> <a id="786" href="Data.Nat.PseudoRandom.LCG.html#734" class="Field">modulus</a>

  <a id="Generator.step"></a><a id="797" href="Data.Nat.PseudoRandom.LCG.html#797" class="Function">step</a> <a id="802" class="Symbol">:</a> <a id="804" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="806" class="Symbol">→</a> <a id="808" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="812" href="Data.Nat.PseudoRandom.LCG.html#797" class="Function">step</a> <a id="817" href="Data.Nat.PseudoRandom.LCG.html#817" class="Bound">x</a> <a id="819" class="Symbol">=</a> <a id="821" class="Symbol">(</a><a id="822" href="Data.Nat.PseudoRandom.LCG.html#680" class="Field">multiplier</a> <a id="833" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="835" href="Data.Nat.PseudoRandom.LCG.html#817" class="Bound">x</a> <a id="837" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="839" href="Data.Nat.PseudoRandom.LCG.html#707" class="Field">increment</a><a id="848" class="Symbol">)</a> <a id="850" href="Data.Nat.Base.html#7285" class="Function Operator">%</a> <a id="852" href="Data.Nat.PseudoRandom.LCG.html#734" class="Field">modulus</a>

<a id="861" class="Keyword">open</a> <a id="866" href="Data.Nat.PseudoRandom.LCG.html#650" class="Module">Generator</a> <a id="876" class="Keyword">public</a> <a id="883" class="Keyword">using</a> <a id="889" class="Symbol">(</a><a id="890" href="Data.Nat.PseudoRandom.LCG.html#797" class="Function">step</a><a id="894" class="Symbol">)</a>

<a id="list"></a><a id="897" href="Data.Nat.PseudoRandom.LCG.html#897" class="Function">list</a> <a id="902" class="Symbol">:</a> <a id="904" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="906" class="Symbol">→</a> <a id="908" href="Data.Nat.PseudoRandom.LCG.html#650" class="Record">Generator</a> <a id="918" class="Symbol">→</a> <a id="920" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="922" class="Symbol">→</a> <a id="924" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="929" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="931" href="Data.Nat.PseudoRandom.LCG.html#897" class="Function">list</a> <a id="936" href="Data.Nat.PseudoRandom.LCG.html#936" class="Bound">k</a> <a id="938" href="Data.Nat.PseudoRandom.LCG.html#938" class="Bound">gen</a> <a id="942" href="Data.Nat.PseudoRandom.LCG.html#942" class="Bound">x</a> <a id="944" class="Symbol">=</a> <a id="946" href="Data.List.Base.html#5114" class="Function">iterate</a> <a id="954" class="Symbol">(</a><a id="955" href="Data.Nat.PseudoRandom.LCG.html#797" class="Function">step</a> <a id="960" href="Data.Nat.PseudoRandom.LCG.html#938" class="Bound">gen</a><a id="963" class="Symbol">)</a> <a id="965" href="Data.Nat.PseudoRandom.LCG.html#942" class="Bound">x</a> <a id="967" href="Data.Nat.PseudoRandom.LCG.html#936" class="Bound">k</a>

<a id="970" class="Comment">------------------------------------------------------------------------</a>
<a id="1043" class="Comment">-- Examples of parameters</a>
<a id="1069" class="Comment">-- Taken from https://en.wikipedia.org/wiki/Linear_congruential_generator</a>

<a id="1144" class="Comment">-- /!\ As explained in that wikipedia entry, none of these are claimed</a>
<a id="1215" class="Comment">-- to be good parameters.</a>

<a id="1242" class="Comment">-- Note also that if you need your output to have good properties you</a>
<a id="1312" class="Comment">-- may need to postprocess the stream of values to only use some of the</a>
<a id="1384" class="Comment">-- bits of the output!</a>

<a id="glibc"></a><a id="1408" href="Data.Nat.PseudoRandom.LCG.html#1408" class="Function">glibc</a> <a id="1414" class="Symbol">:</a> <a id="1416" href="Data.Nat.PseudoRandom.LCG.html#650" class="Record">Generator</a>
<a id="1426" href="Data.Nat.PseudoRandom.LCG.html#1408" class="Function">glibc</a> <a id="1432" class="Symbol">=</a> <a id="1434" class="Keyword">record</a>
  <a id="1443" class="Symbol">{</a> <a id="1445" href="Data.Nat.PseudoRandom.LCG.html#680" class="Field">multiplier</a> <a id="1456" class="Symbol">=</a> <a id="1458" class="Number">1103515245</a>
  <a id="1471" class="Symbol">;</a> <a id="1473" href="Data.Nat.PseudoRandom.LCG.html#707" class="Field">increment</a>  <a id="1484" class="Symbol">=</a> <a id="1486" class="Number">12345</a>
  <a id="1494" class="Symbol">;</a> <a id="1496" href="Data.Nat.PseudoRandom.LCG.html#734" class="Field">modulus</a>    <a id="1507" class="Symbol">=</a> <a id="1509" class="Number">2</a> <a id="1511" href="Data.Nat.Base.html#6567" class="Function Operator">^</a> <a id="1513" class="Number">31</a>
  <a id="1518" class="Symbol">}</a>

<a id="random0"></a><a id="1521" href="Data.Nat.PseudoRandom.LCG.html#1521" class="Function">random0</a> <a id="1529" class="Symbol">:</a> <a id="1531" href="Data.Nat.PseudoRandom.LCG.html#650" class="Record">Generator</a>
<a id="1541" href="Data.Nat.PseudoRandom.LCG.html#1521" class="Function">random0</a> <a id="1549" class="Symbol">=</a> <a id="1551" class="Keyword">record</a>
  <a id="1560" class="Symbol">{</a> <a id="1562" href="Data.Nat.PseudoRandom.LCG.html#680" class="Field">multiplier</a> <a id="1573" class="Symbol">=</a> <a id="1575" class="Number">8121</a>
  <a id="1582" class="Symbol">;</a> <a id="1584" href="Data.Nat.PseudoRandom.LCG.html#707" class="Field">increment</a>  <a id="1595" class="Symbol">=</a> <a id="1597" class="Number">28411</a>
  <a id="1605" class="Symbol">;</a> <a id="1607" href="Data.Nat.PseudoRandom.LCG.html#734" class="Field">modulus</a>    <a id="1618" class="Symbol">=</a> <a id="1620" class="Number">134456</a>
  <a id="1629" class="Symbol">}</a>
</pre></body></html>