<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Function.Metric.Structures</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Some metric structures (not packed up with sets, operations, etc.)</a>
<a id="176" class="Comment">------------------------------------------------------------------------</a>

<a id="250" class="Comment">-- The contents of this module should usually be accessed via</a>
<a id="312" class="Comment">-- `Function.Metric`.</a>

<a id="335" class="Symbol">{-#</a> <a id="339" class="Keyword">OPTIONS</a> <a id="347" class="Pragma">--without-K</a> <a id="359" class="Pragma">--safe</a> <a id="366" class="Symbol">#-}</a>

<a id="371" class="Keyword">open</a> <a id="376" class="Keyword">import</a> <a id="383" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="399" class="Keyword">hiding</a> <a id="406" class="Symbol">(</a><a id="407" href="Relation.Binary.Definitions.html#1498" class="Function">Symmetric</a><a id="416" class="Symbol">)</a>

<a id="419" class="Keyword">module</a> <a id="426" href="Function.Metric.Structures.html" class="Module">Function.Metric.Structures</a>
  <a id="455" class="Symbol">{</a><a id="456" href="Function.Metric.Structures.html#456" class="Bound">a</a> <a id="458" href="Function.Metric.Structures.html#458" class="Bound">i</a> <a id="460" href="Function.Metric.Structures.html#460" class="Bound">ℓ₁</a> <a id="463" href="Function.Metric.Structures.html#463" class="Bound">ℓ₂</a> <a id="466" href="Function.Metric.Structures.html#466" class="Bound">ℓ₃</a><a id="468" class="Symbol">}</a> <a id="470" class="Symbol">{</a><a id="471" href="Function.Metric.Structures.html#471" class="Bound">A</a> <a id="473" class="Symbol">:</a> <a id="475" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="479" href="Function.Metric.Structures.html#456" class="Bound">a</a><a id="480" class="Symbol">}</a> <a id="482" class="Symbol">{</a><a id="483" href="Function.Metric.Structures.html#483" class="Bound">I</a> <a id="485" class="Symbol">:</a> <a id="487" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="491" href="Function.Metric.Structures.html#458" class="Bound">i</a><a id="492" class="Symbol">}</a>
  <a id="496" class="Symbol">(</a><a id="497" href="Function.Metric.Structures.html#497" class="Bound Operator">_≈ₐ_</a> <a id="502" class="Symbol">:</a> <a id="504" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="508" href="Function.Metric.Structures.html#471" class="Bound">A</a> <a id="510" href="Function.Metric.Structures.html#460" class="Bound">ℓ₁</a><a id="512" class="Symbol">)</a> <a id="514" class="Symbol">(</a><a id="515" href="Function.Metric.Structures.html#515" class="Bound Operator">_≈ᵢ_</a> <a id="520" class="Symbol">:</a> <a id="522" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="526" href="Function.Metric.Structures.html#483" class="Bound">I</a> <a id="528" href="Function.Metric.Structures.html#463" class="Bound">ℓ₂</a><a id="530" class="Symbol">)</a> <a id="532" class="Symbol">(</a><a id="533" href="Function.Metric.Structures.html#533" class="Bound Operator">_≤_</a> <a id="537" class="Symbol">:</a> <a id="539" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="543" href="Function.Metric.Structures.html#483" class="Bound">I</a> <a id="545" href="Function.Metric.Structures.html#466" class="Bound">ℓ₃</a><a id="547" class="Symbol">)</a> <a id="549" class="Symbol">(</a><a id="550" href="Function.Metric.Structures.html#550" class="Bound">0#</a> <a id="553" class="Symbol">:</a> <a id="555" href="Function.Metric.Structures.html#483" class="Bound">I</a><a id="556" class="Symbol">)</a> <a id="558" class="Keyword">where</a>

<a id="565" class="Keyword">open</a> <a id="570" class="Keyword">import</a> <a id="577" href="Algebra.Core.html" class="Module">Algebra.Core</a> <a id="590" class="Keyword">using</a> <a id="596" class="Symbol">(</a><a id="597" href="Algebra.Core.html#518" class="Function">Op₂</a><a id="600" class="Symbol">)</a>
<a id="602" class="Keyword">open</a> <a id="607" class="Keyword">import</a> <a id="614" href="Function.Metric.Core.html" class="Module">Function.Metric.Core</a>
<a id="635" class="Keyword">open</a> <a id="640" class="Keyword">import</a> <a id="647" href="Function.Metric.Definitions.html" class="Module">Function.Metric.Definitions</a>
<a id="675" class="Keyword">open</a> <a id="680" class="Keyword">import</a> <a id="687" href="Level.html" class="Module">Level</a> <a id="693" class="Keyword">using</a> <a id="699" class="Symbol">(</a><a id="700" href="Agda.Primitive.html#810" class="Primitive Operator">_⊔_</a><a id="703" class="Symbol">)</a>

<a id="706" class="Comment">------------------------------------------------------------------------</a>
<a id="779" class="Comment">-- Proto-metrics</a>

<a id="797" class="Comment">-- We do not insist that the ordering relation is total as otherwise</a>
<a id="866" class="Comment">-- we would exclude the real numbers.</a>

<a id="905" class="Keyword">record</a> <a id="IsProtoMetric"></a><a id="912" href="Function.Metric.Structures.html#912" class="Record">IsProtoMetric</a> <a id="926" class="Symbol">(</a><a id="927" href="Function.Metric.Structures.html#927" class="Bound">d</a> <a id="929" class="Symbol">:</a> <a id="931" href="Function.Metric.Core.html#442" class="Function">DistanceFunction</a> <a id="948" href="Function.Metric.Structures.html#471" class="Bound">A</a> <a id="950" href="Function.Metric.Structures.html#483" class="Bound">I</a><a id="951" class="Symbol">)</a>
                   <a id="972" class="Symbol">:</a> <a id="974" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="978" class="Symbol">(</a><a id="979" href="Function.Metric.Structures.html#456" class="Bound">a</a> <a id="981" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="983" href="Function.Metric.Structures.html#458" class="Bound">i</a> <a id="985" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="987" href="Function.Metric.Structures.html#460" class="Bound">ℓ₁</a> <a id="990" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="992" href="Function.Metric.Structures.html#463" class="Bound">ℓ₂</a> <a id="995" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="997" href="Function.Metric.Structures.html#466" class="Bound">ℓ₃</a><a id="999" class="Symbol">)</a> <a id="1001" class="Keyword">where</a>
  <a id="1009" class="Keyword">field</a>
    <a id="IsProtoMetric.isPartialOrder"></a><a id="1019" href="Function.Metric.Structures.html#1019" class="Field">isPartialOrder</a>   <a id="1036" class="Symbol">:</a> <a id="1038" href="Relation.Binary.Structures.html#2897" class="Record">IsPartialOrder</a> <a id="1053" href="Function.Metric.Structures.html#515" class="Bound Operator">_≈ᵢ_</a> <a id="1058" href="Function.Metric.Structures.html#533" class="Bound Operator">_≤_</a>
    <a id="IsProtoMetric.≈-isEquivalence"></a><a id="1066" href="Function.Metric.Structures.html#1066" class="Field">≈-isEquivalence</a>  <a id="1083" class="Symbol">:</a> <a id="1085" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="1099" href="Function.Metric.Structures.html#497" class="Bound Operator">_≈ₐ_</a>
    <a id="IsProtoMetric.cong"></a><a id="1108" href="Function.Metric.Structures.html#1108" class="Field">cong</a>             <a id="1125" class="Symbol">:</a> <a id="1127" href="Function.Metric.Definitions.html#810" class="Function">Congruent</a> <a id="1137" href="Function.Metric.Structures.html#497" class="Bound Operator">_≈ₐ_</a> <a id="1142" href="Function.Metric.Structures.html#515" class="Bound Operator">_≈ᵢ_</a> <a id="1147" href="Function.Metric.Structures.html#927" class="Bound">d</a>
    <a id="IsProtoMetric.nonNegative"></a><a id="1153" href="Function.Metric.Structures.html#1153" class="Field">nonNegative</a>      <a id="1170" class="Symbol">:</a> <a id="1172" href="Function.Metric.Definitions.html#1188" class="Function">NonNegative</a> <a id="1184" href="Function.Metric.Structures.html#533" class="Bound Operator">_≤_</a> <a id="1188" href="Function.Metric.Structures.html#927" class="Bound">d</a> <a id="1190" href="Function.Metric.Structures.html#550" class="Bound">0#</a>

  <a id="1196" class="Keyword">open</a> <a id="1201" href="Relation.Binary.Structures.html#2897" class="Module">IsPartialOrder</a> <a id="1216" href="Function.Metric.Structures.html#1019" class="Field">isPartialOrder</a> <a id="1231" class="Keyword">public</a>
    <a id="1242" class="Keyword">renaming</a> <a id="1251" class="Symbol">(</a><a id="1252" class="Keyword">module</a> <a id="1259" href="Relation.Binary.Structures.html#2402" class="Module">Eq</a> <a id="1262" class="Symbol">to</a> <a id="Eq"></a><a id="1265" href="Function.Metric.Structures.html#1265" class="Module">EqI</a><a id="1268" class="Symbol">)</a>

  <a id="1273" class="Keyword">module</a> <a id="EqC"></a><a id="1280" href="Function.Metric.Structures.html#1280" class="Module">EqC</a> <a id="1284" class="Symbol">=</a> <a id="1286" href="Relation.Binary.Structures.html#1522" class="Module">IsEquivalence</a> <a id="1300" href="Function.Metric.Structures.html#1066" class="Field">≈-isEquivalence</a>

<a id="1317" class="Comment">------------------------------------------------------------------------</a>
<a id="1390" class="Comment">-- Pre-metrics</a>

<a id="1406" class="Keyword">record</a> <a id="IsPreMetric"></a><a id="1413" href="Function.Metric.Structures.html#1413" class="Record">IsPreMetric</a> <a id="1425" class="Symbol">(</a><a id="1426" href="Function.Metric.Structures.html#1426" class="Bound">d</a> <a id="1428" class="Symbol">:</a> <a id="1430" href="Function.Metric.Core.html#442" class="Function">DistanceFunction</a> <a id="1447" href="Function.Metric.Structures.html#471" class="Bound">A</a> <a id="1449" href="Function.Metric.Structures.html#483" class="Bound">I</a><a id="1450" class="Symbol">)</a>
                 <a id="1469" class="Symbol">:</a> <a id="1471" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1475" class="Symbol">(</a><a id="1476" href="Function.Metric.Structures.html#456" class="Bound">a</a> <a id="1478" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="1480" href="Function.Metric.Structures.html#458" class="Bound">i</a> <a id="1482" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="1484" href="Function.Metric.Structures.html#460" class="Bound">ℓ₁</a> <a id="1487" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="1489" href="Function.Metric.Structures.html#463" class="Bound">ℓ₂</a> <a id="1492" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="1494" href="Function.Metric.Structures.html#466" class="Bound">ℓ₃</a><a id="1496" class="Symbol">)</a> <a id="1498" class="Keyword">where</a>
  <a id="1506" class="Keyword">field</a>
    <a id="IsPreMetric.isProtoMetric"></a><a id="1516" href="Function.Metric.Structures.html#1516" class="Field">isProtoMetric</a> <a id="1530" class="Symbol">:</a> <a id="1532" href="Function.Metric.Structures.html#912" class="Record">IsProtoMetric</a> <a id="1546" href="Function.Metric.Structures.html#1426" class="Bound">d</a>
    <a id="IsPreMetric.≈⇒0"></a><a id="1552" href="Function.Metric.Structures.html#1552" class="Field">≈⇒0</a>           <a id="1566" class="Symbol">:</a> <a id="1568" href="Function.Metric.Definitions.html#1064" class="Function">Definite</a> <a id="1577" href="Function.Metric.Structures.html#497" class="Bound Operator">_≈ₐ_</a> <a id="1582" href="Function.Metric.Structures.html#515" class="Bound Operator">_≈ᵢ_</a> <a id="1587" href="Function.Metric.Structures.html#1426" class="Bound">d</a> <a id="1589" href="Function.Metric.Structures.html#550" class="Bound">0#</a>

  <a id="1595" class="Keyword">open</a> <a id="1600" href="Function.Metric.Structures.html#912" class="Module">IsProtoMetric</a> <a id="1614" href="Function.Metric.Structures.html#1516" class="Field">isProtoMetric</a> <a id="1628" class="Keyword">public</a>

<a id="1636" class="Comment">------------------------------------------------------------------------</a>
<a id="1709" class="Comment">-- Quasi-semi-metrics</a>

<a id="1732" class="Keyword">record</a> <a id="IsQuasiSemiMetric"></a><a id="1739" href="Function.Metric.Structures.html#1739" class="Record">IsQuasiSemiMetric</a> <a id="1757" class="Symbol">(</a><a id="1758" href="Function.Metric.Structures.html#1758" class="Bound">d</a> <a id="1760" class="Symbol">:</a> <a id="1762" href="Function.Metric.Core.html#442" class="Function">DistanceFunction</a> <a id="1779" href="Function.Metric.Structures.html#471" class="Bound">A</a> <a id="1781" href="Function.Metric.Structures.html#483" class="Bound">I</a><a id="1782" class="Symbol">)</a>
                       <a id="1807" class="Symbol">:</a> <a id="1809" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1813" class="Symbol">(</a><a id="1814" href="Function.Metric.Structures.html#456" class="Bound">a</a> <a id="1816" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="1818" href="Function.Metric.Structures.html#458" class="Bound">i</a> <a id="1820" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="1822" href="Function.Metric.Structures.html#460" class="Bound">ℓ₁</a> <a id="1825" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="1827" href="Function.Metric.Structures.html#463" class="Bound">ℓ₂</a> <a id="1830" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="1832" href="Function.Metric.Structures.html#466" class="Bound">ℓ₃</a><a id="1834" class="Symbol">)</a> <a id="1836" class="Keyword">where</a>
  <a id="1844" class="Keyword">field</a>
    <a id="IsQuasiSemiMetric.isPreMetric"></a><a id="1854" href="Function.Metric.Structures.html#1854" class="Field">isPreMetric</a> <a id="1866" class="Symbol">:</a> <a id="1868" href="Function.Metric.Structures.html#1413" class="Record">IsPreMetric</a> <a id="1880" href="Function.Metric.Structures.html#1758" class="Bound">d</a>
    <a id="IsQuasiSemiMetric.0⇒≈"></a><a id="1886" href="Function.Metric.Structures.html#1886" class="Field">0⇒≈</a>         <a id="1898" class="Symbol">:</a> <a id="1900" href="Function.Metric.Definitions.html#930" class="Function">Indiscernable</a> <a id="1914" href="Function.Metric.Structures.html#497" class="Bound Operator">_≈ₐ_</a> <a id="1919" href="Function.Metric.Structures.html#515" class="Bound Operator">_≈ᵢ_</a> <a id="1924" href="Function.Metric.Structures.html#1758" class="Bound">d</a> <a id="1926" href="Function.Metric.Structures.html#550" class="Bound">0#</a>

  <a id="1932" class="Keyword">open</a> <a id="1937" href="Function.Metric.Structures.html#1413" class="Module">IsPreMetric</a> <a id="1949" href="Function.Metric.Structures.html#1854" class="Field">isPreMetric</a> <a id="1961" class="Keyword">public</a>

<a id="1969" class="Comment">------------------------------------------------------------------------</a>
<a id="2042" class="Comment">-- Semi-metrics</a>

<a id="2059" class="Keyword">record</a> <a id="IsSemiMetric"></a><a id="2066" href="Function.Metric.Structures.html#2066" class="Record">IsSemiMetric</a> <a id="2079" class="Symbol">(</a><a id="2080" href="Function.Metric.Structures.html#2080" class="Bound">d</a> <a id="2082" class="Symbol">:</a> <a id="2084" href="Function.Metric.Core.html#442" class="Function">DistanceFunction</a> <a id="2101" href="Function.Metric.Structures.html#471" class="Bound">A</a> <a id="2103" href="Function.Metric.Structures.html#483" class="Bound">I</a><a id="2104" class="Symbol">)</a>
                  <a id="2124" class="Symbol">:</a> <a id="2126" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2130" class="Symbol">(</a><a id="2131" href="Function.Metric.Structures.html#456" class="Bound">a</a> <a id="2133" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="2135" href="Function.Metric.Structures.html#458" class="Bound">i</a> <a id="2137" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="2139" href="Function.Metric.Structures.html#460" class="Bound">ℓ₁</a> <a id="2142" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="2144" href="Function.Metric.Structures.html#463" class="Bound">ℓ₂</a> <a id="2147" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="2149" href="Function.Metric.Structures.html#466" class="Bound">ℓ₃</a><a id="2151" class="Symbol">)</a> <a id="2153" class="Keyword">where</a>
  <a id="2161" class="Keyword">field</a>
    <a id="IsSemiMetric.isQuasiSemiMetric"></a><a id="2171" href="Function.Metric.Structures.html#2171" class="Field">isQuasiSemiMetric</a> <a id="2189" class="Symbol">:</a> <a id="2191" href="Function.Metric.Structures.html#1739" class="Record">IsQuasiSemiMetric</a> <a id="2209" href="Function.Metric.Structures.html#2080" class="Bound">d</a>
    <a id="IsSemiMetric.sym"></a><a id="2215" href="Function.Metric.Structures.html#2215" class="Field">sym</a>               <a id="2233" class="Symbol">:</a> <a id="2235" href="Function.Metric.Definitions.html#1291" class="Function">Symmetric</a> <a id="2245" href="Function.Metric.Structures.html#515" class="Bound Operator">_≈ᵢ_</a> <a id="2250" href="Function.Metric.Structures.html#2080" class="Bound">d</a>

  <a id="2255" class="Keyword">open</a> <a id="2260" href="Function.Metric.Structures.html#1739" class="Module">IsQuasiSemiMetric</a> <a id="2278" href="Function.Metric.Structures.html#2171" class="Field">isQuasiSemiMetric</a> <a id="2296" class="Keyword">public</a>

<a id="2304" class="Comment">------------------------------------------------------------------------</a>
<a id="2377" class="Comment">-- General metrics</a>

<a id="2397" class="Comment">-- A general metric obeys a generalised form of the triangle inequality.</a>
<a id="2470" class="Comment">-- It can be specialised to a standard metric/ultrametric/inframetric</a>
<a id="2540" class="Comment">-- etc. by providing the correct operator.</a>
<a id="2583" class="Comment">--</a>
<a id="2586" class="Comment">-- Furthermore we do not assume that _∙_ &amp; 0# form a monoid as</a>
<a id="2649" class="Comment">-- associativity does not hold for p-relaxed metrics/p-inframetrics and</a>
<a id="2721" class="Comment">-- the identity laws do not hold for ultrametrics over negative</a>
<a id="2785" class="Comment">-- codomains.</a>
<a id="2799" class="Comment">--</a>
<a id="2802" class="Comment">-- See &quot;Properties of distance spaces with power triangle inequalities&quot;</a>
<a id="2874" class="Comment">-- by Daniel J. Greenhoe, 2016 (arXiv)</a>

<a id="2914" class="Keyword">record</a> <a id="IsGeneralMetric"></a><a id="2921" href="Function.Metric.Structures.html#2921" class="Record">IsGeneralMetric</a> <a id="2937" class="Symbol">(</a><a id="2938" href="Function.Metric.Structures.html#2938" class="Bound Operator">_∙_</a> <a id="2942" class="Symbol">:</a> <a id="2944" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="2948" href="Function.Metric.Structures.html#483" class="Bound">I</a><a id="2949" class="Symbol">)</a> <a id="2951" class="Symbol">(</a><a id="2952" href="Function.Metric.Structures.html#2952" class="Bound">d</a> <a id="2954" class="Symbol">:</a> <a id="2956" href="Function.Metric.Core.html#442" class="Function">DistanceFunction</a> <a id="2973" href="Function.Metric.Structures.html#471" class="Bound">A</a> <a id="2975" href="Function.Metric.Structures.html#483" class="Bound">I</a><a id="2976" class="Symbol">)</a>
                     <a id="2999" class="Symbol">:</a> <a id="3001" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="3005" class="Symbol">(</a><a id="3006" href="Function.Metric.Structures.html#456" class="Bound">a</a> <a id="3008" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="3010" href="Function.Metric.Structures.html#458" class="Bound">i</a> <a id="3012" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="3014" href="Function.Metric.Structures.html#460" class="Bound">ℓ₁</a> <a id="3017" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="3019" href="Function.Metric.Structures.html#463" class="Bound">ℓ₂</a> <a id="3022" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="3024" href="Function.Metric.Structures.html#466" class="Bound">ℓ₃</a><a id="3026" class="Symbol">)</a> <a id="3028" class="Keyword">where</a>
  <a id="3036" class="Keyword">field</a>
    <a id="IsGeneralMetric.isSemiMetric"></a><a id="3046" href="Function.Metric.Structures.html#3046" class="Field">isSemiMetric</a> <a id="3059" class="Symbol">:</a> <a id="3061" href="Function.Metric.Structures.html#2066" class="Record">IsSemiMetric</a> <a id="3074" href="Function.Metric.Structures.html#2952" class="Bound">d</a>
    <a id="IsGeneralMetric.triangle"></a><a id="3080" href="Function.Metric.Structures.html#3080" class="Field">triangle</a>     <a id="3093" class="Symbol">:</a> <a id="3095" href="Function.Metric.Definitions.html#1383" class="Function">TriangleInequality</a> <a id="3114" href="Function.Metric.Structures.html#533" class="Bound Operator">_≤_</a> <a id="3118" href="Function.Metric.Structures.html#2938" class="Bound Operator">_∙_</a> <a id="3122" href="Function.Metric.Structures.html#2952" class="Bound">d</a>

  <a id="3127" class="Keyword">open</a> <a id="3132" href="Function.Metric.Structures.html#2066" class="Module">IsSemiMetric</a> <a id="3145" href="Function.Metric.Structures.html#3046" class="Field">isSemiMetric</a> <a id="3158" class="Keyword">public</a>
</pre></body></html>