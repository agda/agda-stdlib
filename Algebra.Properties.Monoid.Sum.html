<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Algebra.Properties.Monoid.Sum</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Finite summations over a monoid</a>
<a id="141" class="Comment">------------------------------------------------------------------------</a>

<a id="215" class="Symbol">{-#</a> <a id="219" class="Keyword">OPTIONS</a> <a id="227" class="Pragma">--cubical-compatible</a> <a id="248" class="Pragma">--safe</a> <a id="255" class="Symbol">#-}</a>

<a id="260" class="Keyword">open</a> <a id="265" class="Keyword">import</a> <a id="272" href="Algebra.Bundles.html" class="Module">Algebra.Bundles</a> <a id="288" class="Keyword">using</a> <a id="294" class="Symbol">(</a><a id="295" href="Algebra.Bundles.html#6016" class="Record">Monoid</a><a id="301" class="Symbol">)</a>
<a id="303" class="Keyword">open</a> <a id="308" class="Keyword">import</a> <a id="315" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="329" class="Symbol">as</a> <a id="332" class="Module">ℕ</a> <a id="334" class="Keyword">using</a> <a id="340" class="Symbol">(</a><a id="341" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="342" class="Symbol">;</a> <a id="344" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="348" class="Symbol">;</a> <a id="350" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a><a id="353" class="Symbol">;</a> <a id="355" href="Data.Nat.Base.html#2570" class="Record">NonZero</a><a id="362" class="Symbol">)</a>
<a id="364" class="Keyword">open</a> <a id="369" class="Keyword">import</a> <a id="376" href="Data.Vec.Functional.html" class="Module">Data.Vec.Functional</a> <a id="396" class="Symbol">as</a> <a id="399" class="Module">Vector</a>
<a id="406" class="Keyword">open</a> <a id="411" class="Keyword">import</a> <a id="418" href="Data.Fin.Base.html" class="Module">Data.Fin.Base</a> <a id="432" class="Keyword">using</a> <a id="438" class="Symbol">(</a><a id="439" href="Data.Fin.Base.html#1329" class="InductiveConstructor">zero</a><a id="443" class="Symbol">;</a> <a id="445" href="Data.Fin.Base.html#1350" class="InductiveConstructor">suc</a><a id="448" class="Symbol">)</a>
<a id="450" class="Keyword">open</a> <a id="455" class="Keyword">import</a> <a id="462" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="472" class="Keyword">using</a> <a id="478" class="Symbol">(</a><a id="479" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a><a id="481" class="Symbol">)</a>
<a id="483" class="Keyword">open</a> <a id="488" class="Keyword">import</a> <a id="495" href="Function.Base.html" class="Module">Function.Base</a> <a id="509" class="Keyword">using</a> <a id="515" class="Symbol">(</a><a id="516" href="Function.Base.html#1115" class="Function Operator">_∘_</a><a id="519" class="Symbol">)</a>
<a id="521" class="Keyword">open</a> <a id="526" class="Keyword">import</a> <a id="533" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="549" class="Symbol">as</a> <a id="552" class="Module">B</a> <a id="554" class="Keyword">using</a> <a id="560" class="Symbol">(</a><a id="561" href="Relation.Binary.Core.html#1572" class="Function Operator">_Preserves_⟶_</a><a id="574" class="Symbol">)</a>
<a id="576" class="Keyword">open</a> <a id="581" class="Keyword">import</a> <a id="588" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="626" class="Symbol">as</a> <a id="629" class="Module">P</a> <a id="631" class="Keyword">using</a> <a id="637" class="Symbol">(</a><a id="638" href="Relation.Binary.PropositionalEquality.html#1484" class="Function Operator">_≗_</a><a id="641" class="Symbol">;</a> <a id="643" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="646" class="Symbol">)</a>

<a id="649" class="Keyword">module</a> <a id="656" href="Algebra.Properties.Monoid.Sum.html" class="Module">Algebra.Properties.Monoid.Sum</a> <a id="686" class="Symbol">{</a><a id="687" href="Algebra.Properties.Monoid.Sum.html#687" class="Bound">a</a> <a id="689" href="Algebra.Properties.Monoid.Sum.html#689" class="Bound">ℓ</a><a id="690" class="Symbol">}</a> <a id="692" class="Symbol">(</a><a id="693" href="Algebra.Properties.Monoid.Sum.html#693" class="Bound">M</a> <a id="695" class="Symbol">:</a> <a id="697" href="Algebra.Bundles.html#6016" class="Record">Monoid</a> <a id="704" href="Algebra.Properties.Monoid.Sum.html#687" class="Bound">a</a> <a id="706" href="Algebra.Properties.Monoid.Sum.html#689" class="Bound">ℓ</a><a id="707" class="Symbol">)</a> <a id="709" class="Keyword">where</a>

<a id="716" class="Keyword">open</a> <a id="721" href="Algebra.Bundles.html#6016" class="Module">Monoid</a> <a id="728" href="Algebra.Properties.Monoid.Sum.html#693" class="Bound">M</a>
  <a id="732" class="Keyword">renaming</a>
  <a id="743" class="Symbol">(</a> <a id="745" href="Algebra.Bundles.html#6145" class="Field Operator">_∙_</a>       <a id="755" class="Symbol">to</a> <a id="758" class="Field Operator">_+_</a>
  <a id="764" class="Symbol">;</a> <a id="766" href="Algebra.Structures.html#1216" class="Function">∙-cong</a>    <a id="776" class="Symbol">to</a> <a id="779" class="Function">+-cong</a>
  <a id="788" class="Symbol">;</a> <a id="790" href="Algebra.Structures.html#1366" class="Function">∙-congˡ</a>   <a id="800" class="Symbol">to</a> <a id="803" class="Function">+-congˡ</a>
  <a id="813" class="Symbol">;</a> <a id="815" href="Algebra.Structures.html#4037" class="Function">identityˡ</a> <a id="825" class="Symbol">to</a> <a id="828" class="Function">+-identityˡ</a>
  <a id="842" class="Symbol">;</a> <a id="844" href="Algebra.Structures.html#4098" class="Function">identityʳ</a> <a id="854" class="Symbol">to</a> <a id="857" class="Function">+-identityʳ</a>
  <a id="871" class="Symbol">;</a> <a id="873" href="Algebra.Structures.html#2878" class="Function">assoc</a>     <a id="883" class="Symbol">to</a> <a id="886" class="Function">+-assoc</a>
  <a id="896" class="Symbol">;</a> <a id="898" href="Algebra.Bundles.html#6172" class="Field">ε</a>         <a id="908" class="Symbol">to</a> <a id="911" class="Field">0#</a>
  <a id="916" class="Symbol">)</a>

<a id="919" class="Keyword">open</a> <a id="924" class="Keyword">import</a> <a id="931" href="Data.Vec.Functional.Relation.Binary.Equality.Setoid.html" class="Module">Data.Vec.Functional.Relation.Binary.Equality.Setoid</a> <a id="983" href="Algebra.Structures.html#1291" class="Function">setoid</a>
<a id="990" class="Keyword">open</a> <a id="995" class="Keyword">import</a> <a id="1002" href="Algebra.Properties.Monoid.Mult.html" class="Module">Algebra.Properties.Monoid.Mult</a> <a id="1033" href="Algebra.Properties.Monoid.Sum.html#693" class="Bound">M</a>
<a id="1035" class="Keyword">open</a> <a id="1040" class="Keyword">import</a> <a id="1047" href="Algebra.Definitions.html" class="Module">Algebra.Definitions</a> <a id="1067" href="Algebra.Bundles.html#6116" class="Field Operator">_≈_</a>
<a id="1071" class="Keyword">open</a> <a id="1076" class="Keyword">import</a> <a id="1083" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1116" href="Algebra.Structures.html#1291" class="Function">setoid</a>

<a id="1124" class="Comment">------------------------------------------------------------------------</a>
<a id="1197" class="Comment">-- Definition</a>

<a id="1212" class="Keyword">open</a> <a id="1217" class="Keyword">import</a> <a id="1224" href="Algebra.Definitions.RawMonoid.html" class="Module">Algebra.Definitions.RawMonoid</a> <a id="1254" href="Algebra.Bundles.html#6409" class="Function">rawMonoid</a> <a id="1264" class="Keyword">public</a>
  <a id="1273" class="Keyword">using</a> <a id="1279" class="Symbol">(</a><a id="1280" href="Algebra.Definitions.RawMonoid.html#2111" class="Function">sum</a><a id="1283" class="Symbol">)</a>

<a id="1286" class="Comment">------------------------------------------------------------------------</a>
<a id="1359" class="Comment">-- An alternative mathematical-style syntax for sumₜ</a>

<a id="1413" class="Keyword">infixl</a> <a id="1420" class="Number">10</a> <a id="1423" href="Algebra.Properties.Monoid.Sum.html#1435" class="Function">sum-syntax</a>

<a id="sum-syntax"></a><a id="1435" href="Algebra.Properties.Monoid.Sum.html#1435" class="Function">sum-syntax</a> <a id="1446" class="Symbol">:</a> <a id="1448" class="Symbol">∀</a> <a id="1450" href="Algebra.Properties.Monoid.Sum.html#1450" class="Bound">n</a> <a id="1452" class="Symbol">→</a> <a id="1454" href="Data.Vec.Functional.html#1205" class="Function">Vector</a> <a id="1461" href="Algebra.Bundles.html#6095" class="Field">Carrier</a> <a id="1469" href="Algebra.Properties.Monoid.Sum.html#1450" class="Bound">n</a> <a id="1471" class="Symbol">→</a> <a id="1473" href="Algebra.Bundles.html#6095" class="Field">Carrier</a>
<a id="1481" href="Algebra.Properties.Monoid.Sum.html#1435" class="Function">sum-syntax</a> <a id="1492" class="Symbol">_</a> <a id="1494" class="Symbol">=</a> <a id="1496" href="Algebra.Definitions.RawMonoid.html#2111" class="Function">sum</a>

<a id="1501" class="Keyword">syntax</a> <a id="1508" href="Algebra.Properties.Monoid.Sum.html#1435" class="Function">sum-syntax</a> <a id="1519" class="Bound">n</a> <a id="1521" class="Symbol">(λ</a> <a id="1524" class="Bound">i</a> <a id="1526" class="Symbol">→</a> <a id="1528" class="Bound">x</a><a id="1529" class="Symbol">)</a> <a id="1531" class="Symbol">=</a> <a id="1533" class="Function">∑[</a> <a id="1536" class="Bound">i</a> <a id="1538" class="Function">&lt;</a> <a id="1540" class="Bound">n</a> <a id="1542" class="Function">]</a> <a id="1544" class="Bound">x</a>

<a id="1547" class="Comment">------------------------------------------------------------------------</a>
<a id="1620" class="Comment">-- Properties</a>

<a id="sum-cong-≋"></a><a id="1635" href="Algebra.Properties.Monoid.Sum.html#1635" class="Function">sum-cong-≋</a> <a id="1646" class="Symbol">:</a> <a id="1648" class="Symbol">∀</a> <a id="1650" class="Symbol">{</a><a id="1651" href="Algebra.Properties.Monoid.Sum.html#1651" class="Bound">n</a><a id="1652" class="Symbol">}</a> <a id="1654" class="Symbol">→</a> <a id="1656" href="Algebra.Definitions.RawMonoid.html#2111" class="Function">sum</a> <a id="1660" class="Symbol">{</a><a id="1661" href="Algebra.Properties.Monoid.Sum.html#1651" class="Bound">n</a><a id="1662" class="Symbol">}</a> <a id="1664" href="Relation.Binary.Core.html#1572" class="Function Operator">Preserves</a> <a id="1674" href="Data.Vec.Functional.Relation.Binary.Equality.Setoid.html#925" class="Function Operator">_≋_</a> <a id="1678" href="Relation.Binary.Core.html#1572" class="Function Operator">⟶</a> <a id="1680" href="Algebra.Bundles.html#6116" class="Field Operator">_≈_</a>
<a id="1684" href="Algebra.Properties.Monoid.Sum.html#1635" class="Function">sum-cong-≋</a> <a id="1695" class="Symbol">{</a><a id="1696" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="1700" class="Symbol">}</a>  <a id="1703" href="Algebra.Properties.Monoid.Sum.html#1703" class="Bound">xs≋ys</a> <a id="1709" class="Symbol">=</a> <a id="1711" href="Relation.Binary.Structures.html#1591" class="Function">refl</a>
<a id="1716" href="Algebra.Properties.Monoid.Sum.html#1635" class="Function">sum-cong-≋</a> <a id="1727" class="Symbol">{</a><a id="1728" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1732" href="Algebra.Properties.Monoid.Sum.html#1732" class="Bound">n</a><a id="1733" class="Symbol">}</a> <a id="1735" href="Algebra.Properties.Monoid.Sum.html#1735" class="Bound">xs≋ys</a> <a id="1741" class="Symbol">=</a> <a id="1743" href="Algebra.Properties.Monoid.Sum.html#779" class="Function">+-cong</a> <a id="1750" class="Symbol">(</a><a id="1751" href="Algebra.Properties.Monoid.Sum.html#1735" class="Bound">xs≋ys</a> <a id="1757" href="Data.Fin.Base.html#1329" class="InductiveConstructor">zero</a><a id="1761" class="Symbol">)</a> <a id="1763" class="Symbol">(</a><a id="1764" href="Algebra.Properties.Monoid.Sum.html#1635" class="Function">sum-cong-≋</a> <a id="1775" class="Symbol">(</a><a id="1776" href="Algebra.Properties.Monoid.Sum.html#1735" class="Bound">xs≋ys</a> <a id="1782" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1784" href="Data.Fin.Base.html#1350" class="InductiveConstructor">suc</a><a id="1787" class="Symbol">))</a>

<a id="sum-cong-≗"></a><a id="1791" href="Algebra.Properties.Monoid.Sum.html#1791" class="Function">sum-cong-≗</a> <a id="1802" class="Symbol">:</a> <a id="1804" class="Symbol">∀</a> <a id="1806" class="Symbol">{</a><a id="1807" href="Algebra.Properties.Monoid.Sum.html#1807" class="Bound">n</a><a id="1808" class="Symbol">}</a> <a id="1810" class="Symbol">→</a> <a id="1812" href="Algebra.Definitions.RawMonoid.html#2111" class="Function">sum</a> <a id="1816" class="Symbol">{</a><a id="1817" href="Algebra.Properties.Monoid.Sum.html#1807" class="Bound">n</a><a id="1818" class="Symbol">}</a> <a id="1820" href="Relation.Binary.Core.html#1572" class="Function Operator">Preserves</a> <a id="1830" href="Relation.Binary.PropositionalEquality.html#1484" class="Function Operator">_≗_</a> <a id="1834" href="Relation.Binary.Core.html#1572" class="Function Operator">⟶</a> <a id="1836" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a>
<a id="1840" href="Algebra.Properties.Monoid.Sum.html#1791" class="Function">sum-cong-≗</a> <a id="1851" class="Symbol">{</a><a id="1852" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="1856" class="Symbol">}</a>  <a id="1859" href="Algebra.Properties.Monoid.Sum.html#1859" class="Bound">xs≗ys</a> <a id="1865" class="Symbol">=</a> <a id="1867" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">P.refl</a>
<a id="1874" href="Algebra.Properties.Monoid.Sum.html#1791" class="Function">sum-cong-≗</a> <a id="1885" class="Symbol">{</a><a id="1886" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1890" href="Algebra.Properties.Monoid.Sum.html#1890" class="Bound">n</a><a id="1891" class="Symbol">}</a> <a id="1893" href="Algebra.Properties.Monoid.Sum.html#1893" class="Bound">xs≗ys</a> <a id="1899" class="Symbol">=</a> <a id="1901" href="Relation.Binary.PropositionalEquality.Core.html#1390" class="Function">P.cong₂</a> <a id="1909" href="Algebra.Properties.Monoid.Sum.html#758" class="Field Operator">_+_</a> <a id="1913" class="Symbol">(</a><a id="1914" href="Algebra.Properties.Monoid.Sum.html#1893" class="Bound">xs≗ys</a> <a id="1920" href="Data.Fin.Base.html#1329" class="InductiveConstructor">zero</a><a id="1924" class="Symbol">)</a> <a id="1926" class="Symbol">(</a><a id="1927" href="Algebra.Properties.Monoid.Sum.html#1791" class="Function">sum-cong-≗</a> <a id="1938" class="Symbol">(</a><a id="1939" href="Algebra.Properties.Monoid.Sum.html#1893" class="Bound">xs≗ys</a> <a id="1945" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1947" href="Data.Fin.Base.html#1350" class="InductiveConstructor">suc</a><a id="1950" class="Symbol">))</a>

<a id="sum-replicate"></a><a id="1954" href="Algebra.Properties.Monoid.Sum.html#1954" class="Function">sum-replicate</a> <a id="1968" class="Symbol">:</a> <a id="1970" class="Symbol">∀</a> <a id="1972" href="Algebra.Properties.Monoid.Sum.html#1972" class="Bound">n</a> <a id="1974" class="Symbol">{</a><a id="1975" href="Algebra.Properties.Monoid.Sum.html#1975" class="Bound">x</a><a id="1976" class="Symbol">}</a> <a id="1978" class="Symbol">→</a> <a id="1980" href="Algebra.Definitions.RawMonoid.html#2111" class="Function">sum</a> <a id="1984" class="Symbol">{</a><a id="1985" href="Algebra.Properties.Monoid.Sum.html#1972" class="Bound">n</a><a id="1986" class="Symbol">}</a> <a id="1988" class="Symbol">(</a><a id="1989" href="Data.Vec.Functional.html#2061" class="Function">replicate</a> <a id="1999" href="Algebra.Properties.Monoid.Sum.html#1975" class="Bound">x</a><a id="2000" class="Symbol">)</a> <a id="2002" href="Algebra.Bundles.html#6116" class="Field Operator">≈</a> <a id="2004" href="Algebra.Properties.Monoid.Sum.html#1972" class="Bound">n</a> <a id="2006" href="Algebra.Definitions.RawMonoid.html#1089" class="Function Operator">×</a> <a id="2008" href="Algebra.Properties.Monoid.Sum.html#1975" class="Bound">x</a>
<a id="2010" href="Algebra.Properties.Monoid.Sum.html#1954" class="Function">sum-replicate</a> <a id="2024" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a>    <a id="2032" class="Symbol">=</a> <a id="2034" href="Relation.Binary.Structures.html#1591" class="Function">refl</a>
<a id="2039" href="Algebra.Properties.Monoid.Sum.html#1954" class="Function">sum-replicate</a> <a id="2053" class="Symbol">(</a><a id="2054" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2058" href="Algebra.Properties.Monoid.Sum.html#2058" class="Bound">n</a><a id="2059" class="Symbol">)</a> <a id="2061" class="Symbol">=</a> <a id="2063" href="Algebra.Properties.Monoid.Sum.html#803" class="Function">+-congˡ</a> <a id="2071" class="Symbol">(</a><a id="2072" href="Algebra.Properties.Monoid.Sum.html#1954" class="Function">sum-replicate</a> <a id="2086" href="Algebra.Properties.Monoid.Sum.html#2058" class="Bound">n</a><a id="2087" class="Symbol">)</a>

<a id="sum-replicate-idem"></a><a id="2090" href="Algebra.Properties.Monoid.Sum.html#2090" class="Function">sum-replicate-idem</a> <a id="2109" class="Symbol">:</a> <a id="2111" class="Symbol">∀</a> <a id="2113" class="Symbol">{</a><a id="2114" href="Algebra.Properties.Monoid.Sum.html#2114" class="Bound">x</a><a id="2115" class="Symbol">}</a> <a id="2117" class="Symbol">→</a> <a id="2119" href="Algebra.Properties.Monoid.Sum.html#758" class="Field Operator">_+_</a> <a id="2123" href="Algebra.Definitions.html#3400" class="Function Operator">IdempotentOn</a> <a id="2136" href="Algebra.Properties.Monoid.Sum.html#2114" class="Bound">x</a> <a id="2138" class="Symbol">→</a>
                     <a id="2161" class="Symbol">∀</a> <a id="2163" href="Algebra.Properties.Monoid.Sum.html#2163" class="Bound">n</a> <a id="2165" class="Symbol">→</a> <a id="2167" class="Symbol">.{{</a><a id="2170" href="Algebra.Properties.Monoid.Sum.html#2170" class="Bound">_</a> <a id="2172" class="Symbol">:</a> <a id="2174" href="Data.Nat.Base.html#2570" class="Record">NonZero</a> <a id="2182" href="Algebra.Properties.Monoid.Sum.html#2163" class="Bound">n</a><a id="2183" class="Symbol">}}</a> <a id="2186" class="Symbol">→</a> <a id="2188" href="Algebra.Definitions.RawMonoid.html#2111" class="Function">sum</a> <a id="2192" class="Symbol">{</a><a id="2193" href="Algebra.Properties.Monoid.Sum.html#2163" class="Bound">n</a><a id="2194" class="Symbol">}</a> <a id="2196" class="Symbol">(</a><a id="2197" href="Data.Vec.Functional.html#2061" class="Function">replicate</a> <a id="2207" href="Algebra.Properties.Monoid.Sum.html#2114" class="Bound">x</a><a id="2208" class="Symbol">)</a> <a id="2210" href="Algebra.Bundles.html#6116" class="Field Operator">≈</a> <a id="2212" href="Algebra.Properties.Monoid.Sum.html#2114" class="Bound">x</a>
<a id="2214" href="Algebra.Properties.Monoid.Sum.html#2090" class="Function">sum-replicate-idem</a> <a id="2233" href="Algebra.Properties.Monoid.Sum.html#2233" class="Bound">idem</a> <a id="2238" href="Algebra.Properties.Monoid.Sum.html#2238" class="Bound">n</a> <a id="2240" class="Symbol">=</a> <a id="2242" href="Relation.Binary.Structures.html#1643" class="Function">trans</a> <a id="2248" class="Symbol">(</a><a id="2249" href="Algebra.Properties.Monoid.Sum.html#1954" class="Function">sum-replicate</a> <a id="2263" href="Algebra.Properties.Monoid.Sum.html#2238" class="Bound">n</a><a id="2264" class="Symbol">)</a> <a id="2266" class="Symbol">(</a><a id="2267" href="Algebra.Properties.Monoid.Mult.html#1770" class="Function">×-idem</a> <a id="2274" href="Algebra.Properties.Monoid.Sum.html#2233" class="Bound">idem</a> <a id="2279" href="Algebra.Properties.Monoid.Sum.html#2238" class="Bound">n</a><a id="2280" class="Symbol">)</a>

<a id="sum-replicate-zero"></a><a id="2283" href="Algebra.Properties.Monoid.Sum.html#2283" class="Function">sum-replicate-zero</a> <a id="2302" class="Symbol">:</a> <a id="2304" class="Symbol">∀</a> <a id="2306" href="Algebra.Properties.Monoid.Sum.html#2306" class="Bound">n</a> <a id="2308" class="Symbol">→</a> <a id="2310" href="Algebra.Definitions.RawMonoid.html#2111" class="Function">sum</a> <a id="2314" class="Symbol">{</a><a id="2315" href="Algebra.Properties.Monoid.Sum.html#2306" class="Bound">n</a><a id="2316" class="Symbol">}</a> <a id="2318" class="Symbol">(</a><a id="2319" href="Data.Vec.Functional.html#2061" class="Function">replicate</a> <a id="2329" href="Algebra.Properties.Monoid.Sum.html#911" class="Field">0#</a><a id="2331" class="Symbol">)</a> <a id="2333" href="Algebra.Bundles.html#6116" class="Field Operator">≈</a> <a id="2335" href="Algebra.Properties.Monoid.Sum.html#911" class="Field">0#</a>
<a id="2338" href="Algebra.Properties.Monoid.Sum.html#2283" class="Function">sum-replicate-zero</a> <a id="2357" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a>    <a id="2365" class="Symbol">=</a> <a id="2367" href="Relation.Binary.Structures.html#1591" class="Function">refl</a>
<a id="2372" href="Algebra.Properties.Monoid.Sum.html#2283" class="Function">sum-replicate-zero</a> <a id="2391" class="Symbol">(</a><a id="2392" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2396" href="Algebra.Properties.Monoid.Sum.html#2396" class="Bound">n</a><a id="2397" class="Symbol">)</a> <a id="2399" class="Symbol">=</a> <a id="2401" href="Algebra.Properties.Monoid.Sum.html#2090" class="Function">sum-replicate-idem</a> <a id="2420" class="Symbol">(</a><a id="2421" href="Algebra.Properties.Monoid.Sum.html#828" class="Function">+-identityˡ</a> <a id="2433" href="Algebra.Properties.Monoid.Sum.html#911" class="Field">0#</a><a id="2435" class="Symbol">)</a> <a id="2437" class="Symbol">(</a><a id="2438" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2442" href="Algebra.Properties.Monoid.Sum.html#2396" class="Bound">n</a><a id="2443" class="Symbol">)</a>

<a id="2446" class="Comment">-- When summing over a `Vector`, we can pull out last element</a>

<a id="sum-init-last"></a><a id="2509" href="Algebra.Properties.Monoid.Sum.html#2509" class="Function">sum-init-last</a> <a id="2523" class="Symbol">:</a> <a id="2525" class="Symbol">∀</a> <a id="2527" class="Symbol">{</a><a id="2528" href="Algebra.Properties.Monoid.Sum.html#2528" class="Bound">n</a><a id="2529" class="Symbol">}</a> <a id="2531" class="Symbol">(</a><a id="2532" href="Algebra.Properties.Monoid.Sum.html#2532" class="Bound">t</a> <a id="2534" class="Symbol">:</a> <a id="2536" href="Data.Vec.Functional.html#1205" class="Function">Vector</a> <a id="2543" href="Algebra.Bundles.html#6095" class="Field">Carrier</a> <a id="2551" class="Symbol">(</a><a id="2552" class="InductiveConstructor">suc</a> <a id="2556" href="Algebra.Properties.Monoid.Sum.html#2528" class="Bound">n</a><a id="2557" class="Symbol">))</a> <a id="2560" class="Symbol">→</a> <a id="2562" href="Algebra.Definitions.RawMonoid.html#2111" class="Function">sum</a> <a id="2566" href="Algebra.Properties.Monoid.Sum.html#2532" class="Bound">t</a> <a id="2568" href="Algebra.Bundles.html#6116" class="Field Operator">≈</a> <a id="2570" href="Algebra.Definitions.RawMonoid.html#2111" class="Function">sum</a> <a id="2574" class="Symbol">(</a><a id="2575" href="Data.Vec.Functional.html#4309" class="Function">init</a> <a id="2580" href="Algebra.Properties.Monoid.Sum.html#2532" class="Bound">t</a><a id="2581" class="Symbol">)</a> <a id="2583" href="Algebra.Properties.Monoid.Sum.html#758" class="Field Operator">+</a> <a id="2585" href="Data.Vec.Functional.html#4378" class="Function">last</a> <a id="2590" href="Algebra.Properties.Monoid.Sum.html#2532" class="Bound">t</a>
<a id="2592" href="Algebra.Properties.Monoid.Sum.html#2509" class="Function">sum-init-last</a> <a id="2606" class="Symbol">{</a><a id="2607" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="2611" class="Symbol">}</a> <a id="2613" href="Algebra.Properties.Monoid.Sum.html#2613" class="Bound">t</a>  <a id="2616" class="Symbol">=</a> <a id="2618" href="Relation.Binary.Reasoning.Base.Single.html#1925" class="Function Operator">begin</a>
  <a id="2626" href="Algebra.Properties.Monoid.Sum.html#2703" class="Function">t₀</a> <a id="2629" href="Algebra.Properties.Monoid.Sum.html#758" class="Field Operator">+</a> <a id="2631" href="Algebra.Properties.Monoid.Sum.html#911" class="Field">0#</a> <a id="2634" href="Relation.Binary.Reasoning.Setoid.html#1061" class="Function">≈⟨</a> <a id="2637" href="Algebra.Properties.Monoid.Sum.html#857" class="Function">+-identityʳ</a> <a id="2649" href="Algebra.Properties.Monoid.Sum.html#2703" class="Function">t₀</a> <a id="2652" href="Relation.Binary.Reasoning.Setoid.html#1061" class="Function">⟩</a>
  <a id="2656" href="Algebra.Properties.Monoid.Sum.html#2703" class="Function">t₀</a>      <a id="2664" href="Relation.Binary.Reasoning.Setoid.html#1162" class="Function">≈˘⟨</a> <a id="2668" href="Algebra.Properties.Monoid.Sum.html#828" class="Function">+-identityˡ</a> <a id="2680" href="Algebra.Properties.Monoid.Sum.html#2703" class="Function">t₀</a> <a id="2683" href="Relation.Binary.Reasoning.Setoid.html#1162" class="Function">⟩</a>
  <a id="2687" href="Algebra.Properties.Monoid.Sum.html#911" class="Field">0#</a> <a id="2690" href="Algebra.Properties.Monoid.Sum.html#758" class="Field Operator">+</a> <a id="2692" href="Algebra.Properties.Monoid.Sum.html#2703" class="Function">t₀</a> <a id="2695" href="Relation.Binary.Reasoning.Base.Single.html#2564" class="Function Operator">∎</a> <a id="2697" class="Keyword">where</a> <a id="2703" href="Algebra.Properties.Monoid.Sum.html#2703" class="Function">t₀</a> <a id="2706" class="Symbol">=</a> <a id="2708" href="Algebra.Properties.Monoid.Sum.html#2613" class="Bound">t</a> <a id="2710" href="Data.Fin.Base.html#1329" class="InductiveConstructor">zero</a>
<a id="2715" href="Algebra.Properties.Monoid.Sum.html#2509" class="Function">sum-init-last</a> <a id="2729" class="Symbol">{</a><a id="2730" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2734" href="Algebra.Properties.Monoid.Sum.html#2734" class="Bound">n</a><a id="2735" class="Symbol">}</a> <a id="2737" href="Algebra.Properties.Monoid.Sum.html#2737" class="Bound">t</a> <a id="2739" class="Symbol">=</a> <a id="2741" href="Relation.Binary.Reasoning.Base.Single.html#1925" class="Function Operator">begin</a>
  <a id="2749" href="Algebra.Properties.Monoid.Sum.html#2885" class="Function">t₀</a> <a id="2752" href="Algebra.Properties.Monoid.Sum.html#758" class="Field Operator">+</a> <a id="2754" href="Algebra.Properties.Monoid.Sum.html#2917" class="Function">∑t</a>             <a id="2769" href="Relation.Binary.Reasoning.Setoid.html#1061" class="Function">≈⟨</a> <a id="2772" href="Algebra.Properties.Monoid.Sum.html#803" class="Function">+-congˡ</a> <a id="2780" class="Symbol">(</a><a id="2781" href="Algebra.Properties.Monoid.Sum.html#2509" class="Function">sum-init-last</a> <a id="2795" class="Symbol">(</a><a id="2796" href="Data.Vec.Functional.html#1914" class="Function">tail</a> <a id="2801" href="Algebra.Properties.Monoid.Sum.html#2737" class="Bound">t</a><a id="2802" class="Symbol">))</a> <a id="2805" href="Relation.Binary.Reasoning.Setoid.html#1061" class="Function">⟩</a>
  <a id="2809" href="Algebra.Properties.Monoid.Sum.html#2885" class="Function">t₀</a> <a id="2812" href="Algebra.Properties.Monoid.Sum.html#758" class="Field Operator">+</a> <a id="2814" class="Symbol">(</a><a id="2815" href="Algebra.Properties.Monoid.Sum.html#2939" class="Function">∑t′</a> <a id="2819" href="Algebra.Properties.Monoid.Sum.html#758" class="Field Operator">+</a> <a id="2821" href="Algebra.Properties.Monoid.Sum.html#2901" class="Function">tₗ</a><a id="2823" class="Symbol">)</a>     <a id="2829" href="Relation.Binary.Reasoning.Setoid.html#1162" class="Function">≈˘⟨</a> <a id="2833" href="Algebra.Properties.Monoid.Sum.html#886" class="Function">+-assoc</a> <a id="2841" class="Symbol">_</a> <a id="2843" class="Symbol">_</a> <a id="2845" class="Symbol">_</a> <a id="2847" href="Relation.Binary.Reasoning.Setoid.html#1162" class="Function">⟩</a>
  <a id="2851" class="Symbol">(</a><a id="2852" href="Algebra.Properties.Monoid.Sum.html#2885" class="Function">t₀</a> <a id="2855" href="Algebra.Properties.Monoid.Sum.html#758" class="Field Operator">+</a> <a id="2857" href="Algebra.Properties.Monoid.Sum.html#2939" class="Function">∑t′</a><a id="2860" class="Symbol">)</a> <a id="2862" href="Algebra.Properties.Monoid.Sum.html#758" class="Field Operator">+</a> <a id="2864" href="Algebra.Properties.Monoid.Sum.html#2901" class="Function">tₗ</a>     <a id="2871" href="Relation.Binary.Reasoning.Base.Single.html#2564" class="Function Operator">∎</a>
  <a id="2875" class="Keyword">where</a>
    <a id="2885" href="Algebra.Properties.Monoid.Sum.html#2885" class="Function">t₀</a> <a id="2888" class="Symbol">=</a> <a id="2890" href="Data.Vec.Functional.html#1859" class="Function">head</a> <a id="2895" href="Algebra.Properties.Monoid.Sum.html#2737" class="Bound">t</a>
    <a id="2901" href="Algebra.Properties.Monoid.Sum.html#2901" class="Function">tₗ</a> <a id="2904" class="Symbol">=</a> <a id="2906" href="Data.Vec.Functional.html#4378" class="Function">last</a> <a id="2911" href="Algebra.Properties.Monoid.Sum.html#2737" class="Bound">t</a>
    <a id="2917" href="Algebra.Properties.Monoid.Sum.html#2917" class="Function">∑t</a> <a id="2920" class="Symbol">=</a> <a id="2922" href="Algebra.Definitions.RawMonoid.html#2111" class="Function">sum</a> <a id="2926" class="Symbol">(</a><a id="2927" href="Data.Vec.Functional.html#1914" class="Function">tail</a> <a id="2932" href="Algebra.Properties.Monoid.Sum.html#2737" class="Bound">t</a><a id="2933" class="Symbol">)</a>
    <a id="2939" href="Algebra.Properties.Monoid.Sum.html#2939" class="Function">∑t′</a> <a id="2943" class="Symbol">=</a> <a id="2945" href="Algebra.Definitions.RawMonoid.html#2111" class="Function">sum</a> <a id="2949" class="Symbol">(</a><a id="2950" href="Data.Vec.Functional.html#1914" class="Function">tail</a> <a id="2955" class="Symbol">(</a><a id="2956" href="Data.Vec.Functional.html#4309" class="Function">init</a> <a id="2961" href="Algebra.Properties.Monoid.Sum.html#2737" class="Bound">t</a><a id="2962" class="Symbol">))</a>
</pre></body></html>