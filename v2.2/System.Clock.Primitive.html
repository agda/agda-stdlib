<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>System.Clock.Primitive</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Primitive System.Clock simple bindings to Haskell functions</a>
<a id="169" class="Comment">------------------------------------------------------------------------</a>

<a id="243" class="Symbol">{-#</a> <a id="247" class="Keyword">OPTIONS</a> <a id="255" class="Pragma">--cubical-compatible</a> <a id="276" class="Symbol">#-}</a>

<a id="281" class="Keyword">module</a> <a id="288" href="System.Clock.Primitive.html" class="Module">System.Clock.Primitive</a> <a id="311" class="Keyword">where</a>

<a id="318" class="Keyword">open</a> <a id="323" class="Keyword">import</a> <a id="330" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="347" class="Keyword">using</a> <a id="353" class="Symbol">(</a><a id="354" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a><a id="357" class="Symbol">)</a>
<a id="359" class="Keyword">open</a> <a id="364" class="Keyword">import</a> <a id="371" href="IO.Primitive.Core.html" class="Module">IO.Primitive.Core</a> <a id="389" class="Keyword">using</a> <a id="395" class="Symbol">(</a><a id="396" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a><a id="398" class="Symbol">)</a>
<a id="400" class="Keyword">open</a> <a id="405" class="Keyword">import</a> <a id="412" href="Foreign.Haskell.html" class="Module">Foreign.Haskell</a> <a id="428" class="Keyword">using</a> <a id="434" class="Symbol">(</a><a id="435" href="Foreign.Haskell.Pair.html#534" class="Record">Pair</a><a id="439" class="Symbol">)</a>

<a id="442" class="Keyword">data</a> <a id="Clock"></a><a id="447" href="System.Clock.Primitive.html#447" class="Datatype">Clock</a> <a id="453" class="Symbol">:</a> <a id="455" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="459" class="Keyword">where</a>
  <a id="Clock.monotonic"></a><a id="467" href="System.Clock.Primitive.html#467" class="InductiveConstructor">monotonic</a> <a id="Clock.realTime"></a><a id="477" href="System.Clock.Primitive.html#477" class="InductiveConstructor">realTime</a> <a id="Clock.processCPUTime"></a><a id="486" href="System.Clock.Primitive.html#486" class="InductiveConstructor">processCPUTime</a> <a id="501" class="Symbol">:</a> <a id="503" href="System.Clock.Primitive.html#447" class="Datatype">Clock</a>
  <a id="Clock.threadCPUTime"></a><a id="511" href="System.Clock.Primitive.html#511" class="InductiveConstructor">threadCPUTime</a> <a id="Clock.monotonicRaw"></a><a id="525" href="System.Clock.Primitive.html#525" class="InductiveConstructor">monotonicRaw</a> <a id="Clock.bootTime"></a><a id="538" href="System.Clock.Primitive.html#538" class="InductiveConstructor">bootTime</a> <a id="547" class="Symbol">:</a> <a id="549" href="System.Clock.Primitive.html#447" class="Datatype">Clock</a>
  <a id="Clock.monotonicCoarse"></a><a id="557" href="System.Clock.Primitive.html#557" class="InductiveConstructor">monotonicCoarse</a> <a id="Clock.realTimeCoarse"></a><a id="573" href="System.Clock.Primitive.html#573" class="InductiveConstructor">realTimeCoarse</a> <a id="588" class="Symbol">:</a> <a id="590" href="System.Clock.Primitive.html#447" class="Datatype">Clock</a>

<a id="597" class="Symbol">{-#</a> <a id="601" class="Keyword">COMPILE</a> <a id="609" class="Keyword">GHC</a> <a id="613" href="System.Clock.Primitive.html#447" class="Datatype">Clock</a> <a id="619" class="Pragma">=</a> <a id="621" class="Pragma">data</a> <a id="626" class="Pragma">Clock</a> <a id="632" class="Pragma">(Monotonic</a> <a id="643" class="Pragma">|</a> <a id="645" class="Pragma">Realtime</a> <a id="654" class="Pragma">|</a> <a id="656" class="Pragma">ProcessCPUTime</a>
                                   <a id="706" class="Pragma">|</a> <a id="708" class="Pragma">ThreadCPUTime</a> <a id="722" class="Pragma">|</a> <a id="724" class="Pragma">MonotonicRaw</a> <a id="737" class="Pragma">|</a> <a id="739" class="Pragma">Boottime</a>
                                   <a id="783" class="Pragma">|</a> <a id="785" class="Pragma">MonotonicCoarse</a> <a id="801" class="Pragma">|</a> <a id="803" class="Pragma">RealtimeCoarse</a> <a id="818" class="Pragma">)</a>
<a id="820" class="Symbol">#-}</a>

<a id="825" class="Keyword">postulate</a> <a id="getTime"></a><a id="835" href="System.Clock.Primitive.html#835" class="Postulate">getTime</a> <a id="843" class="Symbol">:</a> <a id="845" href="System.Clock.Primitive.html#447" class="Datatype">Clock</a> <a id="851" class="Symbol">â†’</a> <a id="853" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="856" class="Symbol">(</a><a id="857" href="Foreign.Haskell.Pair.html#534" class="Record">Pair</a> <a id="862" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a> <a id="866" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a><a id="869" class="Symbol">)</a>

<a id="872" class="Symbol">{-#</a> <a id="876" class="Keyword">FOREIGN</a> <a id="884" class="Pragma">GHC</a> <a id="888" class="Pragma">import</a> <a id="895" class="Pragma">System.Clock</a>  <a id="909" class="Symbol">#-}</a>
<a id="913" class="Symbol">{-#</a> <a id="917" class="Keyword">FOREIGN</a> <a id="925" class="Pragma">GHC</a> <a id="929" class="Pragma">import</a> <a id="936" class="Pragma">Data.Function</a> <a id="950" class="Symbol">#-}</a>
<a id="954" class="Symbol">{-#</a> <a id="958" class="Keyword">COMPILE</a> <a id="966" class="Keyword">GHC</a> <a id="970" href="System.Clock.Primitive.html#835" class="Postulate">getTime</a> <a id="978" class="Pragma">=</a> <a id="980" class="Pragma">fmap</a> <a id="985" class="Pragma">(\</a> <a id="988" class="Pragma">(TimeSpec</a> <a id="998" class="Pragma">a</a> <a id="1000" class="Pragma">b)</a> <a id="1003" class="Pragma">-&gt;</a> <a id="1006" class="Pragma">((,)</a> <a id="1011" class="Pragma">`on`</a> <a id="1016" class="Pragma">fromIntegral)</a> <a id="1030" class="Pragma">a</a> <a id="1032" class="Pragma">b)</a> <a id="1035" class="Pragma">.</a> <a id="1037" class="Pragma">getTime</a> <a id="1045" class="Symbol">#-}</a>
</pre></body></html>