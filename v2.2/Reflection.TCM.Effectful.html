<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Reflection.TCM.Effectful</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Typeclass instances for TC</a>
<a id="136" class="Comment">------------------------------------------------------------------------</a>

<a id="210" class="Symbol">{-#</a> <a id="214" class="Keyword">OPTIONS</a> <a id="222" class="Pragma">--cubical-compatible</a> <a id="243" class="Pragma">--safe</a> <a id="250" class="Symbol">#-}</a>

<a id="255" class="Keyword">module</a> <a id="262" href="Reflection.TCM.Effectful.html" class="Module">Reflection.TCM.Effectful</a> <a id="287" class="Keyword">where</a>

<a id="294" class="Keyword">open</a> <a id="299" class="Keyword">import</a> <a id="306" href="Effect.Choice.html" class="Module">Effect.Choice</a>
<a id="320" class="Keyword">open</a> <a id="325" class="Keyword">import</a> <a id="332" href="Effect.Empty.html" class="Module">Effect.Empty</a>
<a id="345" class="Keyword">open</a> <a id="350" class="Keyword">import</a> <a id="357" href="Effect.Functor.html" class="Module">Effect.Functor</a>
<a id="372" class="Keyword">open</a> <a id="377" class="Keyword">import</a> <a id="384" href="Effect.Applicative.html" class="Module">Effect.Applicative</a>
<a id="403" class="Keyword">open</a> <a id="408" class="Keyword">import</a> <a id="415" href="Effect.Monad.html" class="Module">Effect.Monad</a>
<a id="428" class="Keyword">open</a> <a id="433" class="Keyword">import</a> <a id="440" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="455" class="Keyword">using</a> <a id="461" class="Symbol">(</a><a id="462" href="Data.List.Base.html#7599" class="InductiveConstructor">[]</a><a id="464" class="Symbol">)</a>
<a id="466" class="Keyword">open</a> <a id="471" class="Keyword">import</a> <a id="478" href="Function.Base.html" class="Module">Function.Base</a> <a id="492" class="Keyword">using</a> <a id="498" class="Symbol">(</a><a id="499" href="Function.Base.html#1115" class="Function Operator">_∘_</a><a id="502" class="Symbol">)</a>
<a id="504" class="Keyword">open</a> <a id="509" class="Keyword">import</a> <a id="516" href="Level.html" class="Module">Level</a>

<a id="523" class="Keyword">open</a> <a id="528" class="Keyword">import</a> <a id="535" href="Reflection.TCM.html" class="Module">Reflection.TCM</a>

<a id="551" class="Keyword">private</a>
  <a id="561" class="Keyword">variable</a>
    <a id="574" href="Reflection.TCM.Effectful.html#574" class="Generalizable">ℓ</a> <a id="576" class="Symbol">:</a> <a id="578" href="Agda.Primitive.html#742" class="Postulate">Level</a>

<a id="functor"></a><a id="585" href="Reflection.TCM.Effectful.html#585" class="Function">functor</a> <a id="593" class="Symbol">:</a> <a id="595" href="Effect.Functor.html#579" class="Record">RawFunctor</a> <a id="606" class="Symbol">{</a><a id="607" href="Reflection.TCM.Effectful.html#574" class="Generalizable">ℓ</a><a id="608" class="Symbol">}</a> <a id="610" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a>
<a id="613" href="Reflection.TCM.Effectful.html#585" class="Function">functor</a> <a id="621" class="Symbol">=</a> <a id="623" class="Keyword">record</a>
  <a id="632" class="Symbol">{</a> <a id="634" href="Effect.Functor.html#687" class="Field Operator">_&lt;$&gt;_</a> <a id="640" class="Symbol">=</a> <a id="642" class="Symbol">λ</a> <a id="644" href="Reflection.TCM.Effectful.html#644" class="Bound">f</a> <a id="646" href="Reflection.TCM.Effectful.html#646" class="Bound">mx</a> <a id="649" class="Symbol">→</a> <a id="651" href="Agda.Builtin.Reflection.html#8710" class="Postulate">bindTC</a> <a id="658" href="Reflection.TCM.Effectful.html#646" class="Bound">mx</a> <a id="661" class="Symbol">(</a><a id="662" href="Reflection.TCM.html#1087" class="Postulate">pure</a> <a id="667" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="669" href="Reflection.TCM.Effectful.html#644" class="Bound">f</a><a id="670" class="Symbol">)</a>
  <a id="674" class="Symbol">}</a>

<a id="applicative"></a><a id="677" href="Reflection.TCM.Effectful.html#677" class="Function">applicative</a> <a id="689" class="Symbol">:</a> <a id="691" href="Effect.Applicative.html#979" class="Record">RawApplicative</a> <a id="706" class="Symbol">{</a><a id="707" href="Reflection.TCM.Effectful.html#574" class="Generalizable">ℓ</a><a id="708" class="Symbol">}</a> <a id="710" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a>
<a id="713" href="Reflection.TCM.Effectful.html#677" class="Function">applicative</a> <a id="725" class="Symbol">=</a> <a id="727" class="Keyword">record</a>
  <a id="736" class="Symbol">{</a> <a id="738" href="Effect.Applicative.html#1117" class="Field">rawFunctor</a> <a id="749" class="Symbol">=</a> <a id="751" href="Reflection.TCM.Effectful.html#585" class="Function">functor</a>
  <a id="761" class="Symbol">;</a> <a id="763" href="Effect.Applicative.html#1147" class="Field">pure</a> <a id="768" class="Symbol">=</a> <a id="770" href="Reflection.TCM.html#1087" class="Postulate">pure</a>
  <a id="777" class="Symbol">;</a> <a id="779" href="Effect.Applicative.html#1166" class="Field Operator">_&lt;*&gt;_</a>  <a id="786" class="Symbol">=</a> <a id="788" class="Symbol">λ</a> <a id="790" href="Reflection.TCM.Effectful.html#790" class="Bound">mf</a> <a id="793" href="Reflection.TCM.Effectful.html#793" class="Bound">mx</a> <a id="796" class="Symbol">→</a> <a id="798" href="Agda.Builtin.Reflection.html#8710" class="Postulate">bindTC</a> <a id="805" href="Reflection.TCM.Effectful.html#790" class="Bound">mf</a> <a id="808" class="Symbol">λ</a> <a id="810" href="Reflection.TCM.Effectful.html#810" class="Bound">f</a> <a id="812" class="Symbol">→</a> <a id="814" href="Agda.Builtin.Reflection.html#8710" class="Postulate">bindTC</a> <a id="821" href="Reflection.TCM.Effectful.html#793" class="Bound">mx</a> <a id="824" class="Symbol">(</a><a id="825" href="Reflection.TCM.html#1087" class="Postulate">pure</a> <a id="830" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="832" href="Reflection.TCM.Effectful.html#810" class="Bound">f</a><a id="833" class="Symbol">)</a>
  <a id="837" class="Symbol">}</a>

<a id="empty"></a><a id="840" href="Reflection.TCM.Effectful.html#840" class="Function">empty</a> <a id="846" class="Symbol">:</a> <a id="848" href="Effect.Empty.html#384" class="Record">RawEmpty</a> <a id="857" class="Symbol">{</a><a id="858" href="Reflection.TCM.Effectful.html#574" class="Generalizable">ℓ</a><a id="859" class="Symbol">}</a> <a id="861" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a>
<a id="864" href="Reflection.TCM.Effectful.html#840" class="Function">empty</a> <a id="870" class="Symbol">=</a> <a id="872" class="Keyword">record</a> <a id="879" class="Symbol">{</a> <a id="881" href="Effect.Empty.html#451" class="Field">empty</a> <a id="887" class="Symbol">=</a> <a id="889" href="Agda.Builtin.Reflection.html#8830" class="Postulate">typeError</a> <a id="899" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="902" class="Symbol">}</a>

<a id="applicativeZero"></a><a id="905" href="Reflection.TCM.Effectful.html#905" class="Function">applicativeZero</a> <a id="921" class="Symbol">:</a> <a id="923" href="Effect.Applicative.html#2271" class="Record">RawApplicativeZero</a> <a id="942" class="Symbol">{</a><a id="943" href="Reflection.TCM.Effectful.html#574" class="Generalizable">ℓ</a><a id="944" class="Symbol">}</a> <a id="946" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a>
<a id="949" href="Reflection.TCM.Effectful.html#905" class="Function">applicativeZero</a> <a id="965" class="Symbol">=</a> <a id="967" class="Keyword">record</a>
  <a id="976" class="Symbol">{</a> <a id="978" href="Effect.Applicative.html#2346" class="Field">rawApplicative</a> <a id="993" class="Symbol">=</a> <a id="995" href="Reflection.TCM.Effectful.html#677" class="Function">applicative</a>
  <a id="1009" class="Symbol">;</a> <a id="1011" href="Effect.Applicative.html#2384" class="Field">rawEmpty</a> <a id="1020" class="Symbol">=</a> <a id="1022" href="Reflection.TCM.Effectful.html#840" class="Function">empty</a>
  <a id="1030" class="Symbol">}</a>

<a id="choice"></a><a id="1033" href="Reflection.TCM.Effectful.html#1033" class="Function">choice</a> <a id="1040" class="Symbol">:</a> <a id="1042" href="Effect.Choice.html#414" class="Record">RawChoice</a> <a id="1052" class="Symbol">{</a><a id="1053" href="Reflection.TCM.Effectful.html#574" class="Generalizable">ℓ</a><a id="1054" class="Symbol">}</a> <a id="1056" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a>
<a id="1059" href="Reflection.TCM.Effectful.html#1033" class="Function">choice</a> <a id="1066" class="Symbol">=</a> <a id="1068" class="Keyword">record</a> <a id="1075" class="Symbol">{</a> <a id="1077" href="Effect.Choice.html#503" class="Field Operator">_&lt;|&gt;_</a> <a id="1083" class="Symbol">=</a> <a id="1085" href="Agda.Builtin.Reflection.html#9044" class="Postulate">catchTC</a> <a id="1093" class="Symbol">}</a>

<a id="alternative"></a><a id="1096" href="Reflection.TCM.Effectful.html#1096" class="Function">alternative</a> <a id="1108" class="Symbol">:</a> <a id="1110" href="Effect.Applicative.html#2675" class="Record">RawAlternative</a> <a id="1125" class="Symbol">{</a><a id="1126" href="Reflection.TCM.Effectful.html#574" class="Generalizable">ℓ</a><a id="1127" class="Symbol">}</a> <a id="1129" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a>
<a id="1132" href="Reflection.TCM.Effectful.html#1096" class="Function">alternative</a> <a id="1144" class="Symbol">=</a> <a id="1146" class="Keyword">record</a>
  <a id="1155" class="Symbol">{</a> <a id="1157" href="Effect.Applicative.html#2746" class="Field">rawApplicativeZero</a> <a id="1176" class="Symbol">=</a> <a id="1178" href="Reflection.TCM.Effectful.html#905" class="Function">applicativeZero</a>
  <a id="1196" class="Symbol">;</a> <a id="1198" href="Effect.Applicative.html#2792" class="Field">rawChoice</a> <a id="1208" class="Symbol">=</a> <a id="1210" href="Reflection.TCM.Effectful.html#1033" class="Function">choice</a>
  <a id="1219" class="Symbol">}</a>

<a id="monad"></a><a id="1222" href="Reflection.TCM.Effectful.html#1222" class="Function">monad</a> <a id="1228" class="Symbol">:</a> <a id="1230" href="Effect.Monad.html#779" class="Record">RawMonad</a> <a id="1239" class="Symbol">{</a><a id="1240" href="Reflection.TCM.Effectful.html#574" class="Generalizable">ℓ</a><a id="1241" class="Symbol">}</a> <a id="1243" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a>
<a id="1246" href="Reflection.TCM.Effectful.html#1222" class="Function">monad</a> <a id="1252" class="Symbol">=</a> <a id="1254" class="Keyword">record</a>
  <a id="1263" class="Symbol">{</a> <a id="1265" href="Effect.Monad.html#895" class="Field">rawApplicative</a> <a id="1280" class="Symbol">=</a> <a id="1282" href="Reflection.TCM.Effectful.html#677" class="Function">applicative</a>
  <a id="1296" class="Symbol">;</a> <a id="1298" href="Effect.Monad.html#933" class="Field Operator">_&gt;&gt;=_</a>  <a id="1305" class="Symbol">=</a> <a id="1307" href="Agda.Builtin.Reflection.html#8710" class="Postulate">bindTC</a>
  <a id="1316" class="Symbol">}</a>

<a id="monadZero"></a><a id="1319" href="Reflection.TCM.Effectful.html#1319" class="Function">monadZero</a> <a id="1329" class="Symbol">:</a> <a id="1331" href="Effect.Monad.html#2107" class="Record">RawMonadZero</a> <a id="1344" class="Symbol">{</a><a id="1345" href="Reflection.TCM.Effectful.html#574" class="Generalizable">ℓ</a><a id="1346" class="Symbol">}</a> <a id="1348" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a>
<a id="1351" href="Reflection.TCM.Effectful.html#1319" class="Function">monadZero</a> <a id="1361" class="Symbol">=</a> <a id="1363" class="Keyword">record</a>
  <a id="1372" class="Symbol">{</a> <a id="1374" href="Effect.Monad.html#2176" class="Field">rawMonad</a> <a id="1383" class="Symbol">=</a> <a id="1385" href="Reflection.TCM.Effectful.html#1222" class="Function">monad</a>
  <a id="1393" class="Symbol">;</a> <a id="1395" href="Effect.Monad.html#2202" class="Field">rawEmpty</a> <a id="1404" class="Symbol">=</a> <a id="1406" href="Reflection.TCM.Effectful.html#840" class="Function">empty</a>
  <a id="1414" class="Symbol">}</a>

<a id="monadPlus"></a><a id="1417" href="Reflection.TCM.Effectful.html#1417" class="Function">monadPlus</a> <a id="1427" class="Symbol">:</a> <a id="1429" href="Effect.Monad.html#2545" class="Record">RawMonadPlus</a> <a id="1442" class="Symbol">{</a><a id="1443" href="Reflection.TCM.Effectful.html#574" class="Generalizable">ℓ</a><a id="1444" class="Symbol">}</a> <a id="1446" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a>
<a id="1449" href="Reflection.TCM.Effectful.html#1417" class="Function">monadPlus</a> <a id="1459" class="Symbol">=</a> <a id="1461" class="Keyword">record</a>
  <a id="1470" class="Symbol">{</a> <a id="1472" href="Effect.Monad.html#2614" class="Field">rawMonadZero</a> <a id="1485" class="Symbol">=</a> <a id="1487" href="Reflection.TCM.Effectful.html#1319" class="Function">monadZero</a>
  <a id="1499" class="Symbol">;</a> <a id="1501" href="Effect.Monad.html#2648" class="Field">rawChoice</a> <a id="1511" class="Symbol">=</a> <a id="1513" href="Reflection.TCM.Effectful.html#1033" class="Function">choice</a>
  <a id="1522" class="Symbol">}</a>
</pre></body></html>