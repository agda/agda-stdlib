<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Fin.Substitution</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Substitutions</a>
<a id="123" class="Comment">------------------------------------------------------------------------</a>

<a id="197" class="Comment">-- Uses a variant of Conor McBride&#39;s technique from his paper</a>
<a id="259" class="Comment">-- &quot;Type-Preserving Renaming and Substitution&quot;.</a>

<a id="308" class="Comment">-- See README.Data.Fin.Substitution.UntypedLambda for an example</a>
<a id="373" class="Comment">-- of how this module can be used: a definition of substitution for</a>
<a id="441" class="Comment">-- the untyped λ-calculus.</a>

<a id="469" class="Symbol">{-#</a> <a id="473" class="Keyword">OPTIONS</a> <a id="481" class="Pragma">--cubical-compatible</a> <a id="502" class="Pragma">--safe</a> <a id="509" class="Symbol">#-}</a>

<a id="514" class="Keyword">module</a> <a id="521" href="Data.Fin.Substitution.html" class="Module">Data.Fin.Substitution</a> <a id="543" class="Keyword">where</a>

<a id="550" class="Keyword">open</a> <a id="555" class="Keyword">import</a> <a id="562" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="576" class="Keyword">hiding</a> <a id="583" class="Symbol">(</a><a id="584" href="Data.Nat.Base.html#5485" class="Function Operator">_⊔_</a><a id="587" class="Symbol">;</a> <a id="589" href="Data.Nat.Base.html#7102" class="Function Operator">_/_</a><a id="592" class="Symbol">)</a>
<a id="594" class="Keyword">open</a> <a id="599" class="Keyword">import</a> <a id="606" href="Data.Fin.Base.html" class="Module">Data.Fin.Base</a> <a id="620" class="Keyword">using</a> <a id="626" class="Symbol">(</a><a id="627" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a><a id="630" class="Symbol">;</a> <a id="632" href="Data.Fin.Base.html#1181" class="InductiveConstructor">zero</a><a id="636" class="Symbol">;</a> <a id="638" href="Data.Fin.Base.html#1202" class="InductiveConstructor">suc</a><a id="641" class="Symbol">)</a>
<a id="643" class="Keyword">open</a> <a id="648" class="Keyword">import</a> <a id="655" href="Data.Vec.Base.html" class="Module">Data.Vec.Base</a>
<a id="669" class="Keyword">open</a> <a id="674" class="Keyword">import</a> <a id="681" href="Function.Base.html" class="Module">Function.Base</a> <a id="695" class="Symbol">as</a> <a id="698" class="Module">Fun</a> <a id="702" class="Keyword">using</a> <a id="708" class="Symbol">(</a><a id="709" href="Function.Base.html#1638" class="Function">flip</a><a id="713" class="Symbol">)</a>
<a id="715" class="Keyword">open</a> <a id="720" class="Keyword">import</a> <a id="727" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html" class="Module">Relation.Binary.Construct.Closure.ReflexiveTransitive</a>
  <a id="783" class="Symbol">as</a> <a id="786" class="Module">Star</a> <a id="791" class="Keyword">using</a> <a id="797" class="Symbol">(</a><a id="798" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#625" class="Datatype">Star</a><a id="802" class="Symbol">;</a> <a id="804" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#686" class="InductiveConstructor">ε</a><a id="805" class="Symbol">;</a> <a id="807" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#713" class="InductiveConstructor Operator">_◅_</a><a id="810" class="Symbol">)</a>
<a id="812" class="Keyword">open</a> <a id="817" class="Keyword">import</a> <a id="824" href="Level.html" class="Module">Level</a> <a id="830" class="Keyword">using</a> <a id="836" class="Symbol">(</a><a id="837" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="842" class="Symbol">;</a> <a id="844" href="Agda.Primitive.html#961" class="Primitive Operator">_⊔_</a><a id="847" class="Symbol">;</a> <a id="849" href="Level.html#521" class="Function">0ℓ</a><a id="851" class="Symbol">)</a>
<a id="853" class="Keyword">open</a> <a id="858" class="Keyword">import</a> <a id="865" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="880" class="Keyword">using</a> <a id="886" class="Symbol">(</a><a id="887" href="Relation.Unary.html#1178" class="Function">Pred</a><a id="891" class="Symbol">)</a>

<a id="894" class="Keyword">private</a>
  <a id="904" class="Keyword">variable</a>
    <a id="917" href="Data.Fin.Substitution.html#917" class="Generalizable">ℓ</a> <a id="919" href="Data.Fin.Substitution.html#919" class="Generalizable">ℓ₁</a> <a id="922" href="Data.Fin.Substitution.html#922" class="Generalizable">ℓ₂</a> <a id="925" class="Symbol">:</a> <a id="927" href="Agda.Primitive.html#742" class="Postulate">Level</a>
    <a id="937" href="Data.Fin.Substitution.html#937" class="Generalizable">k</a> <a id="939" href="Data.Fin.Substitution.html#939" class="Generalizable">m</a> <a id="941" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a> <a id="943" href="Data.Fin.Substitution.html#943" class="Generalizable">o</a> <a id="945" class="Symbol">:</a> <a id="947" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>


<a id="951" class="Comment">------------------------------------------------------------------------</a>
<a id="1024" class="Comment">-- General functionality</a>

<a id="1050" class="Comment">-- A Sub T m n is a substitution which, when applied to something with</a>
<a id="1121" class="Comment">-- at most m variables, yields something with at most n variables.</a>

<a id="Sub"></a><a id="1189" href="Data.Fin.Substitution.html#1189" class="Function">Sub</a> <a id="1193" class="Symbol">:</a> <a id="1195" href="Relation.Unary.html#1178" class="Function">Pred</a> <a id="1200" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1202" href="Data.Fin.Substitution.html#917" class="Generalizable">ℓ</a> <a id="1204" class="Symbol">→</a> <a id="1206" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1208" class="Symbol">→</a> <a id="1210" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1212" class="Symbol">→</a> <a id="1214" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1218" href="Data.Fin.Substitution.html#917" class="Generalizable">ℓ</a>
<a id="1220" href="Data.Fin.Substitution.html#1189" class="Function">Sub</a> <a id="1224" href="Data.Fin.Substitution.html#1224" class="Bound">T</a> <a id="1226" href="Data.Fin.Substitution.html#1226" class="Bound">m</a> <a id="1228" href="Data.Fin.Substitution.html#1228" class="Bound">n</a> <a id="1230" class="Symbol">=</a> <a id="1232" href="Data.Vec.Base.html#1119" class="Datatype">Vec</a> <a id="1236" class="Symbol">(</a><a id="1237" href="Data.Fin.Substitution.html#1224" class="Bound">T</a> <a id="1239" href="Data.Fin.Substitution.html#1228" class="Bound">n</a><a id="1240" class="Symbol">)</a> <a id="1242" href="Data.Fin.Substitution.html#1226" class="Bound">m</a>

<a id="1245" class="Comment">-- A /reversed/ sequence of matching substitutions.</a>

<a id="Subs"></a><a id="1298" href="Data.Fin.Substitution.html#1298" class="Function">Subs</a> <a id="1303" class="Symbol">:</a> <a id="1305" href="Relation.Unary.html#1178" class="Function">Pred</a> <a id="1310" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1312" href="Data.Fin.Substitution.html#917" class="Generalizable">ℓ</a> <a id="1314" class="Symbol">→</a> <a id="1316" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1318" class="Symbol">→</a> <a id="1320" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1322" class="Symbol">→</a> <a id="1324" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1328" href="Data.Fin.Substitution.html#917" class="Generalizable">ℓ</a>
<a id="1330" href="Data.Fin.Substitution.html#1298" class="Function">Subs</a> <a id="1335" href="Data.Fin.Substitution.html#1335" class="Bound">T</a> <a id="1337" class="Symbol">=</a> <a id="1339" href="Function.Base.html#1638" class="Function">flip</a> <a id="1344" class="Symbol">(</a><a id="1345" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#625" class="Datatype">Star</a> <a id="1350" class="Symbol">(</a><a id="1351" href="Function.Base.html#1638" class="Function">flip</a> <a id="1356" class="Symbol">(</a><a id="1357" href="Data.Fin.Substitution.html#1189" class="Function">Sub</a> <a id="1361" href="Data.Fin.Substitution.html#1335" class="Bound">T</a><a id="1362" class="Symbol">)))</a>

<a id="1367" class="Comment">-- Some simple substitutions.</a>

<a id="1398" class="Keyword">record</a> <a id="Simple"></a><a id="1405" href="Data.Fin.Substitution.html#1405" class="Record">Simple</a> <a id="1412" class="Symbol">(</a><a id="1413" href="Data.Fin.Substitution.html#1413" class="Bound">T</a> <a id="1415" class="Symbol">:</a> <a id="1417" href="Relation.Unary.html#1178" class="Function">Pred</a> <a id="1422" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1424" href="Data.Fin.Substitution.html#917" class="Generalizable">ℓ</a><a id="1425" class="Symbol">)</a> <a id="1427" class="Symbol">:</a> <a id="1429" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1433" href="Data.Fin.Substitution.html#1424" class="Bound">ℓ</a> <a id="1435" class="Keyword">where</a>
  <a id="1443" class="Keyword">infix</a>  <a id="1450" class="Number">10</a> <a id="1453" href="Data.Fin.Substitution.html#1622" class="Function Operator">_↑</a>
  <a id="1458" class="Keyword">infixl</a> <a id="1465" class="Number">10</a> <a id="1468" href="Data.Fin.Substitution.html#1696" class="Function Operator">_↑⋆_</a> <a id="1473" href="Data.Fin.Substitution.html#1789" class="Function Operator">_↑✶_</a>

  <a id="1481" class="Keyword">field</a>
    <a id="Simple.var"></a><a id="1491" href="Data.Fin.Substitution.html#1491" class="Field">var</a>    <a id="1498" class="Symbol">:</a> <a id="1500" class="Symbol">∀</a> <a id="1502" class="Symbol">{</a><a id="1503" href="Data.Fin.Substitution.html#1503" class="Bound">n</a><a id="1504" class="Symbol">}</a> <a id="1506" class="Symbol">→</a> <a id="1508" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="1512" href="Data.Fin.Substitution.html#1503" class="Bound">n</a> <a id="1514" class="Symbol">→</a> <a id="1516" href="Data.Fin.Substitution.html#1413" class="Bound">T</a> <a id="1518" href="Data.Fin.Substitution.html#1503" class="Bound">n</a>      <a id="1525" class="Comment">-- Takes variables to Ts.</a>
    <a id="Simple.weaken"></a><a id="1555" href="Data.Fin.Substitution.html#1555" class="Field">weaken</a> <a id="1562" class="Symbol">:</a> <a id="1564" class="Symbol">∀</a> <a id="1566" class="Symbol">{</a><a id="1567" href="Data.Fin.Substitution.html#1567" class="Bound">n</a><a id="1568" class="Symbol">}</a> <a id="1570" class="Symbol">→</a> <a id="1572" href="Data.Fin.Substitution.html#1413" class="Bound">T</a> <a id="1574" href="Data.Fin.Substitution.html#1567" class="Bound">n</a> <a id="1576" class="Symbol">→</a> <a id="1578" href="Data.Fin.Substitution.html#1413" class="Bound">T</a> <a id="1580" class="Symbol">(</a><a id="1581" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1585" href="Data.Fin.Substitution.html#1567" class="Bound">n</a><a id="1586" class="Symbol">)</a>  <a id="1589" class="Comment">-- Weakens Ts.</a>

  <a id="1607" class="Comment">-- Lifting.</a>

  <a id="Simple._↑"></a><a id="1622" href="Data.Fin.Substitution.html#1622" class="Function Operator">_↑</a> <a id="1625" class="Symbol">:</a> <a id="1627" href="Data.Fin.Substitution.html#1189" class="Function">Sub</a> <a id="1631" href="Data.Fin.Substitution.html#1413" class="Bound">T</a> <a id="1633" href="Data.Fin.Substitution.html#939" class="Generalizable">m</a> <a id="1635" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a> <a id="1637" class="Symbol">→</a> <a id="1639" href="Data.Fin.Substitution.html#1189" class="Function">Sub</a> <a id="1643" href="Data.Fin.Substitution.html#1413" class="Bound">T</a> <a id="1645" class="Symbol">(</a><a id="1646" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1650" href="Data.Fin.Substitution.html#939" class="Generalizable">m</a><a id="1651" class="Symbol">)</a> <a id="1653" class="Symbol">(</a><a id="1654" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1658" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a><a id="1659" class="Symbol">)</a>
  <a id="1663" href="Data.Fin.Substitution.html#1663" class="Bound">ρ</a> <a id="1665" href="Data.Fin.Substitution.html#1622" class="Function Operator">↑</a> <a id="1667" class="Symbol">=</a> <a id="1669" href="Data.Fin.Substitution.html#1491" class="Field">var</a> <a id="1673" href="Data.Fin.Base.html#1181" class="InductiveConstructor">zero</a> <a id="1678" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="1680" href="Data.Vec.Base.html#2955" class="Function">map</a> <a id="1684" href="Data.Fin.Substitution.html#1555" class="Field">weaken</a> <a id="1691" href="Data.Fin.Substitution.html#1663" class="Bound">ρ</a>

  <a id="Simple._↑⋆_"></a><a id="1696" href="Data.Fin.Substitution.html#1696" class="Function Operator">_↑⋆_</a> <a id="1701" class="Symbol">:</a> <a id="1703" href="Data.Fin.Substitution.html#1189" class="Function">Sub</a> <a id="1707" href="Data.Fin.Substitution.html#1413" class="Bound">T</a> <a id="1709" href="Data.Fin.Substitution.html#939" class="Generalizable">m</a> <a id="1711" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a> <a id="1713" class="Symbol">→</a> <a id="1715" class="Symbol">∀</a> <a id="1717" href="Data.Fin.Substitution.html#1717" class="Bound">k</a> <a id="1719" class="Symbol">→</a> <a id="1721" href="Data.Fin.Substitution.html#1189" class="Function">Sub</a> <a id="1725" href="Data.Fin.Substitution.html#1413" class="Bound">T</a> <a id="1727" class="Symbol">(</a><a id="1728" href="Data.Fin.Substitution.html#1717" class="Bound">k</a> <a id="1730" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="1732" href="Data.Fin.Substitution.html#939" class="Generalizable">m</a><a id="1733" class="Symbol">)</a> <a id="1735" class="Symbol">(</a><a id="1736" href="Data.Fin.Substitution.html#1717" class="Bound">k</a> <a id="1738" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="1740" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a><a id="1741" class="Symbol">)</a>
  <a id="1745" href="Data.Fin.Substitution.html#1745" class="Bound">ρ</a> <a id="1747" href="Data.Fin.Substitution.html#1696" class="Function Operator">↑⋆</a> <a id="1750" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>  <a id="1756" class="Symbol">=</a> <a id="1758" href="Data.Fin.Substitution.html#1745" class="Bound">ρ</a>
  <a id="1762" href="Data.Fin.Substitution.html#1762" class="Bound">ρ</a> <a id="1764" href="Data.Fin.Substitution.html#1696" class="Function Operator">↑⋆</a> <a id="1767" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1771" href="Data.Fin.Substitution.html#1771" class="Bound">k</a> <a id="1773" class="Symbol">=</a> <a id="1775" class="Symbol">(</a><a id="1776" href="Data.Fin.Substitution.html#1762" class="Bound">ρ</a> <a id="1778" href="Data.Fin.Substitution.html#1696" class="Function Operator">↑⋆</a> <a id="1781" href="Data.Fin.Substitution.html#1771" class="Bound">k</a><a id="1782" class="Symbol">)</a> <a id="1784" href="Data.Fin.Substitution.html#1622" class="Function Operator">↑</a>

  <a id="Simple._↑✶_"></a><a id="1789" href="Data.Fin.Substitution.html#1789" class="Function Operator">_↑✶_</a> <a id="1794" class="Symbol">:</a> <a id="1796" href="Data.Fin.Substitution.html#1298" class="Function">Subs</a> <a id="1801" href="Data.Fin.Substitution.html#1413" class="Bound">T</a> <a id="1803" href="Data.Fin.Substitution.html#939" class="Generalizable">m</a> <a id="1805" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a> <a id="1807" class="Symbol">→</a> <a id="1809" class="Symbol">∀</a> <a id="1811" href="Data.Fin.Substitution.html#1811" class="Bound">k</a> <a id="1813" class="Symbol">→</a> <a id="1815" href="Data.Fin.Substitution.html#1298" class="Function">Subs</a> <a id="1820" href="Data.Fin.Substitution.html#1413" class="Bound">T</a> <a id="1822" class="Symbol">(</a><a id="1823" href="Data.Fin.Substitution.html#1811" class="Bound">k</a> <a id="1825" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="1827" href="Data.Fin.Substitution.html#939" class="Generalizable">m</a><a id="1828" class="Symbol">)</a> <a id="1830" class="Symbol">(</a><a id="1831" href="Data.Fin.Substitution.html#1811" class="Bound">k</a> <a id="1833" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="1835" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a><a id="1836" class="Symbol">)</a>
  <a id="1840" href="Data.Fin.Substitution.html#1840" class="Bound">ρs</a> <a id="1843" href="Data.Fin.Substitution.html#1789" class="Function Operator">↑✶</a> <a id="1846" href="Data.Fin.Substitution.html#1846" class="Bound">k</a> <a id="1848" class="Symbol">=</a> <a id="1850" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#1665" class="Function">Star.gmap</a> <a id="1860" class="Symbol">(</a><a id="1861" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a> <a id="1865" href="Data.Fin.Substitution.html#1846" class="Bound">k</a><a id="1866" class="Symbol">)</a> <a id="1868" class="Symbol">(λ</a> <a id="1871" href="Data.Fin.Substitution.html#1871" class="Bound">ρ</a> <a id="1873" class="Symbol">→</a> <a id="1875" href="Data.Fin.Substitution.html#1871" class="Bound">ρ</a> <a id="1877" href="Data.Fin.Substitution.html#1696" class="Function Operator">↑⋆</a> <a id="1880" href="Data.Fin.Substitution.html#1846" class="Bound">k</a><a id="1881" class="Symbol">)</a> <a id="1883" href="Data.Fin.Substitution.html#1840" class="Bound">ρs</a>

  <a id="1889" class="Comment">-- The identity substitution.</a>

  <a id="Simple.id"></a><a id="1922" href="Data.Fin.Substitution.html#1922" class="Function">id</a> <a id="1925" class="Symbol">:</a> <a id="1927" href="Data.Fin.Substitution.html#1189" class="Function">Sub</a> <a id="1931" href="Data.Fin.Substitution.html#1413" class="Bound">T</a> <a id="1933" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a> <a id="1935" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a>
  <a id="1939" href="Data.Fin.Substitution.html#1922" class="Function">id</a> <a id="1942" class="Symbol">{</a><a id="1943" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="1947" class="Symbol">}</a>  <a id="1950" class="Symbol">=</a> <a id="1952" href="Data.Vec.Base.html#1155" class="InductiveConstructor">[]</a>
  <a id="1957" href="Data.Fin.Substitution.html#1922" class="Function">id</a> <a id="1960" class="Symbol">{</a><a id="1961" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1965" href="Data.Fin.Substitution.html#1965" class="Bound">n</a><a id="1966" class="Symbol">}</a> <a id="1968" class="Symbol">=</a> <a id="1970" href="Data.Fin.Substitution.html#1922" class="Function">id</a> <a id="1973" href="Data.Fin.Substitution.html#1622" class="Function Operator">↑</a>

  <a id="1978" class="Comment">-- Weakening.</a>

  <a id="Simple.wk⋆"></a><a id="1995" href="Data.Fin.Substitution.html#1995" class="Function">wk⋆</a> <a id="1999" class="Symbol">:</a> <a id="2001" class="Symbol">∀</a> <a id="2003" href="Data.Fin.Substitution.html#2003" class="Bound">k</a> <a id="2005" class="Symbol">→</a> <a id="2007" href="Data.Fin.Substitution.html#1189" class="Function">Sub</a> <a id="2011" href="Data.Fin.Substitution.html#1413" class="Bound">T</a> <a id="2013" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a> <a id="2015" class="Symbol">(</a><a id="2016" href="Data.Fin.Substitution.html#2003" class="Bound">k</a> <a id="2018" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="2020" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a><a id="2021" class="Symbol">)</a>
  <a id="2025" href="Data.Fin.Substitution.html#1995" class="Function">wk⋆</a> <a id="2029" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>    <a id="2037" class="Symbol">=</a> <a id="2039" href="Data.Fin.Substitution.html#1922" class="Function">id</a>
  <a id="2044" href="Data.Fin.Substitution.html#1995" class="Function">wk⋆</a> <a id="2048" class="Symbol">(</a><a id="2049" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2053" href="Data.Fin.Substitution.html#2053" class="Bound">k</a><a id="2054" class="Symbol">)</a> <a id="2056" class="Symbol">=</a> <a id="2058" href="Data.Vec.Base.html#2955" class="Function">map</a> <a id="2062" href="Data.Fin.Substitution.html#1555" class="Field">weaken</a> <a id="2069" class="Symbol">(</a><a id="2070" href="Data.Fin.Substitution.html#1995" class="Function">wk⋆</a> <a id="2074" href="Data.Fin.Substitution.html#2053" class="Bound">k</a><a id="2075" class="Symbol">)</a>

  <a id="Simple.wk"></a><a id="2080" href="Data.Fin.Substitution.html#2080" class="Function">wk</a> <a id="2083" class="Symbol">:</a> <a id="2085" href="Data.Fin.Substitution.html#1189" class="Function">Sub</a> <a id="2089" href="Data.Fin.Substitution.html#1413" class="Bound">T</a> <a id="2091" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a> <a id="2093" class="Symbol">(</a><a id="2094" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2098" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a><a id="2099" class="Symbol">)</a>
  <a id="2103" href="Data.Fin.Substitution.html#2080" class="Function">wk</a> <a id="2106" class="Symbol">=</a> <a id="2108" href="Data.Fin.Substitution.html#1995" class="Function">wk⋆</a> <a id="2112" class="Number">1</a>

  <a id="2117" class="Comment">-- A substitution which only replaces the first variable.</a>

  <a id="Simple.sub"></a><a id="2178" href="Data.Fin.Substitution.html#2178" class="Function">sub</a> <a id="2182" class="Symbol">:</a> <a id="2184" href="Data.Fin.Substitution.html#1413" class="Bound">T</a> <a id="2186" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a> <a id="2188" class="Symbol">→</a> <a id="2190" href="Data.Fin.Substitution.html#1189" class="Function">Sub</a> <a id="2194" href="Data.Fin.Substitution.html#1413" class="Bound">T</a> <a id="2196" class="Symbol">(</a><a id="2197" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2201" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a><a id="2202" class="Symbol">)</a> <a id="2204" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a>
  <a id="2208" href="Data.Fin.Substitution.html#2178" class="Function">sub</a> <a id="2212" href="Data.Fin.Substitution.html#2212" class="Bound">t</a> <a id="2214" class="Symbol">=</a> <a id="2216" href="Data.Fin.Substitution.html#2212" class="Bound">t</a> <a id="2218" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="2220" href="Data.Fin.Substitution.html#1922" class="Function">id</a>

<a id="2224" class="Comment">-- Application of substitutions.</a>

<a id="2258" class="Keyword">record</a> <a id="Application"></a><a id="2265" href="Data.Fin.Substitution.html#2265" class="Record">Application</a> <a id="2277" class="Symbol">(</a><a id="2278" href="Data.Fin.Substitution.html#2278" class="Bound">T₁</a> <a id="2281" class="Symbol">:</a> <a id="2283" href="Relation.Unary.html#1178" class="Function">Pred</a> <a id="2288" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2290" href="Data.Fin.Substitution.html#919" class="Generalizable">ℓ₁</a><a id="2292" class="Symbol">)</a> <a id="2294" class="Symbol">(</a><a id="2295" href="Data.Fin.Substitution.html#2295" class="Bound">T₂</a> <a id="2298" class="Symbol">:</a> <a id="2300" href="Relation.Unary.html#1178" class="Function">Pred</a> <a id="2305" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2307" href="Data.Fin.Substitution.html#922" class="Generalizable">ℓ₂</a><a id="2309" class="Symbol">)</a> <a id="2311" class="Symbol">:</a> <a id="2313" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2317" class="Symbol">(</a><a id="2318" href="Data.Fin.Substitution.html#2290" class="Bound">ℓ₁</a> <a id="2321" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="2323" href="Data.Fin.Substitution.html#2307" class="Bound">ℓ₂</a><a id="2325" class="Symbol">)</a> <a id="2327" class="Keyword">where</a>
  <a id="2335" class="Keyword">infixl</a> <a id="2342" class="Number">8</a> <a id="2344" href="Data.Fin.Substitution.html#2428" class="Field Operator">_/_</a> <a id="2348" href="Data.Fin.Substitution.html#2652" class="Function Operator">_/✶_</a>
  <a id="2355" class="Keyword">infixl</a> <a id="2362" class="Number">9</a> <a id="2364" href="Data.Fin.Substitution.html#2534" class="Function Operator">_⊙_</a>

  <a id="2371" class="Comment">-- Post-application of substitutions to things.</a>

  <a id="2422" class="Keyword">field</a> <a id="Application._/_"></a><a id="2428" href="Data.Fin.Substitution.html#2428" class="Field Operator">_/_</a> <a id="2432" class="Symbol">:</a> <a id="2434" class="Symbol">∀</a> <a id="2436" class="Symbol">{</a><a id="2437" href="Data.Fin.Substitution.html#2437" class="Bound">m</a> <a id="2439" href="Data.Fin.Substitution.html#2439" class="Bound">n</a><a id="2440" class="Symbol">}</a> <a id="2442" class="Symbol">→</a> <a id="2444" href="Data.Fin.Substitution.html#2278" class="Bound">T₁</a> <a id="2447" href="Data.Fin.Substitution.html#2437" class="Bound">m</a> <a id="2449" class="Symbol">→</a> <a id="2451" href="Data.Fin.Substitution.html#1189" class="Function">Sub</a> <a id="2455" href="Data.Fin.Substitution.html#2295" class="Bound">T₂</a> <a id="2458" href="Data.Fin.Substitution.html#2437" class="Bound">m</a> <a id="2460" href="Data.Fin.Substitution.html#2439" class="Bound">n</a> <a id="2462" class="Symbol">→</a> <a id="2464" href="Data.Fin.Substitution.html#2278" class="Bound">T₁</a> <a id="2467" href="Data.Fin.Substitution.html#2439" class="Bound">n</a>

  <a id="2472" class="Comment">-- Reverse composition. (Fits well with post-application.)</a>

  <a id="Application._⊙_"></a><a id="2534" href="Data.Fin.Substitution.html#2534" class="Function Operator">_⊙_</a> <a id="2538" class="Symbol">:</a> <a id="2540" href="Data.Fin.Substitution.html#1189" class="Function">Sub</a> <a id="2544" href="Data.Fin.Substitution.html#2278" class="Bound">T₁</a> <a id="2547" href="Data.Fin.Substitution.html#939" class="Generalizable">m</a> <a id="2549" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a> <a id="2551" class="Symbol">→</a> <a id="2553" href="Data.Fin.Substitution.html#1189" class="Function">Sub</a> <a id="2557" href="Data.Fin.Substitution.html#2295" class="Bound">T₂</a> <a id="2560" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a> <a id="2562" href="Data.Fin.Substitution.html#943" class="Generalizable">o</a> <a id="2564" class="Symbol">→</a> <a id="2566" href="Data.Fin.Substitution.html#1189" class="Function">Sub</a> <a id="2570" href="Data.Fin.Substitution.html#2278" class="Bound">T₁</a> <a id="2573" href="Data.Fin.Substitution.html#939" class="Generalizable">m</a> <a id="2575" href="Data.Fin.Substitution.html#943" class="Generalizable">o</a>
  <a id="2579" href="Data.Fin.Substitution.html#2579" class="Bound">ρ₁</a> <a id="2582" href="Data.Fin.Substitution.html#2534" class="Function Operator">⊙</a> <a id="2584" href="Data.Fin.Substitution.html#2584" class="Bound">ρ₂</a> <a id="2587" class="Symbol">=</a> <a id="2589" href="Data.Vec.Base.html#2955" class="Function">map</a> <a id="2593" class="Symbol">(</a><a id="2594" href="Data.Fin.Substitution.html#2428" class="Field Operator">_/</a> <a id="2597" href="Data.Fin.Substitution.html#2584" class="Bound">ρ₂</a><a id="2599" class="Symbol">)</a> <a id="2601" href="Data.Fin.Substitution.html#2579" class="Bound">ρ₁</a>

  <a id="2607" class="Comment">-- Application of multiple substitutions.</a>

  <a id="Application._/✶_"></a><a id="2652" href="Data.Fin.Substitution.html#2652" class="Function Operator">_/✶_</a> <a id="2657" class="Symbol">:</a> <a id="2659" href="Data.Fin.Substitution.html#2278" class="Bound">T₁</a> <a id="2662" href="Data.Fin.Substitution.html#939" class="Generalizable">m</a> <a id="2664" class="Symbol">→</a> <a id="2666" href="Data.Fin.Substitution.html#1298" class="Function">Subs</a> <a id="2671" href="Data.Fin.Substitution.html#2295" class="Bound">T₂</a> <a id="2674" href="Data.Fin.Substitution.html#939" class="Generalizable">m</a> <a id="2676" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a> <a id="2678" class="Symbol">→</a> <a id="2680" href="Data.Fin.Substitution.html#2278" class="Bound">T₁</a> <a id="2683" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a>
  <a id="2687" href="Data.Fin.Substitution.html#2652" class="Function Operator">_/✶_</a> <a id="2692" class="Symbol">=</a> <a id="2694" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#1994" class="Function">Star.gfold</a> <a id="2705" href="Function.Base.html#704" class="Function">Fun.id</a> <a id="2712" class="Symbol">_</a> <a id="2714" class="Symbol">(</a><a id="2715" href="Function.Base.html#1638" class="Function">flip</a> <a id="2720" href="Data.Fin.Substitution.html#2428" class="Field Operator">_/_</a><a id="2723" class="Symbol">)</a> <a id="2725" class="Symbol">{</a><a id="2726" class="Argument">k</a> <a id="2728" class="Symbol">=</a> <a id="2730" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="2734" class="Symbol">}</a>

<a id="2737" class="Comment">-- A combination of the two records above.</a>

<a id="2781" class="Keyword">record</a> <a id="Subst"></a><a id="2788" href="Data.Fin.Substitution.html#2788" class="Record">Subst</a> <a id="2794" class="Symbol">(</a><a id="2795" href="Data.Fin.Substitution.html#2795" class="Bound">T</a> <a id="2797" class="Symbol">:</a> <a id="2799" href="Relation.Unary.html#1178" class="Function">Pred</a> <a id="2804" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2806" href="Data.Fin.Substitution.html#917" class="Generalizable">ℓ</a><a id="2807" class="Symbol">)</a> <a id="2809" class="Symbol">:</a> <a id="2811" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2815" href="Data.Fin.Substitution.html#2806" class="Bound">ℓ</a> <a id="2817" class="Keyword">where</a>
  <a id="2825" class="Keyword">field</a>
    <a id="Subst.simple"></a><a id="2835" href="Data.Fin.Substitution.html#2835" class="Field">simple</a>      <a id="2847" class="Symbol">:</a> <a id="2849" href="Data.Fin.Substitution.html#1405" class="Record">Simple</a>      <a id="2861" href="Data.Fin.Substitution.html#2795" class="Bound">T</a>
    <a id="Subst.application"></a><a id="2867" href="Data.Fin.Substitution.html#2867" class="Field">application</a> <a id="2879" class="Symbol">:</a> <a id="2881" href="Data.Fin.Substitution.html#2265" class="Record">Application</a> <a id="2893" href="Data.Fin.Substitution.html#2795" class="Bound">T</a> <a id="2895" href="Data.Fin.Substitution.html#2795" class="Bound">T</a>

  <a id="2900" class="Keyword">open</a> <a id="2905" href="Data.Fin.Substitution.html#1405" class="Module">Simple</a>      <a id="2917" href="Data.Fin.Substitution.html#2835" class="Field">simple</a>      <a id="2929" class="Keyword">public</a>
  <a id="2938" class="Keyword">open</a> <a id="2943" href="Data.Fin.Substitution.html#2265" class="Module">Application</a> <a id="2955" href="Data.Fin.Substitution.html#2867" class="Field">application</a> <a id="2967" class="Keyword">public</a>

  <a id="2977" class="Comment">-- Composition of multiple substitutions.</a>

  <a id="Subst.⨀"></a><a id="3022" href="Data.Fin.Substitution.html#3022" class="Function">⨀</a> <a id="3024" class="Symbol">:</a> <a id="3026" href="Data.Fin.Substitution.html#1298" class="Function">Subs</a> <a id="3031" href="Data.Fin.Substitution.html#2795" class="Bound">T</a> <a id="3033" href="Data.Fin.Substitution.html#939" class="Generalizable">m</a> <a id="3035" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a> <a id="3037" class="Symbol">→</a> <a id="3039" href="Data.Fin.Substitution.html#1189" class="Function">Sub</a> <a id="3043" href="Data.Fin.Substitution.html#2795" class="Bound">T</a> <a id="3045" href="Data.Fin.Substitution.html#939" class="Generalizable">m</a> <a id="3047" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a>
  <a id="3051" href="Data.Fin.Substitution.html#3022" class="Function">⨀</a> <a id="3053" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#686" class="InductiveConstructor">ε</a>        <a id="3062" class="Symbol">=</a> <a id="3064" href="Data.Fin.Substitution.html#1922" class="Function">id</a>
  <a id="3069" href="Data.Fin.Substitution.html#3022" class="Function">⨀</a> <a id="3071" class="Symbol">(</a><a id="3072" href="Data.Fin.Substitution.html#3072" class="Bound">ρ</a> <a id="3074" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#713" class="InductiveConstructor Operator">◅</a> <a id="3076" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#686" class="InductiveConstructor">ε</a><a id="3077" class="Symbol">)</a>  <a id="3080" class="Symbol">=</a> <a id="3082" href="Data.Fin.Substitution.html#3072" class="Bound">ρ</a>  <a id="3085" class="Comment">-- Convenient optimisation; simplifies some proofs.</a>
  <a id="3139" href="Data.Fin.Substitution.html#3022" class="CatchallClause Function">⨀</a><a id="3140" class="CatchallClause"> </a><a id="3141" class="CatchallClause Symbol">(</a><a id="3142" href="Data.Fin.Substitution.html#3142" class="CatchallClause Bound">ρ</a><a id="3143" class="CatchallClause"> </a><a id="3144" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#713" class="CatchallClause InductiveConstructor Operator">◅</a><a id="3145" class="CatchallClause"> </a><a id="3146" href="Data.Fin.Substitution.html#3146" class="CatchallClause Bound">ρs</a><a id="3148" class="CatchallClause Symbol">)</a> <a id="3150" class="Symbol">=</a> <a id="3152" href="Data.Fin.Substitution.html#3022" class="Function">⨀</a> <a id="3154" href="Data.Fin.Substitution.html#3146" class="Bound">ρs</a> <a id="3157" href="Data.Fin.Substitution.html#2534" class="Function Operator">⊙</a> <a id="3159" href="Data.Fin.Substitution.html#3142" class="Bound">ρ</a>

<a id="3162" class="Comment">------------------------------------------------------------------------</a>
<a id="3235" class="Comment">-- Instantiations and code for facilitating instantiations</a>

<a id="3295" class="Comment">-- Liftings from T₁ to T₂.</a>

<a id="3323" class="Keyword">record</a> <a id="Lift"></a><a id="3330" href="Data.Fin.Substitution.html#3330" class="Record">Lift</a> <a id="3335" class="Symbol">(</a><a id="3336" href="Data.Fin.Substitution.html#3336" class="Bound">T₁</a> <a id="3339" class="Symbol">:</a> <a id="3341" href="Relation.Unary.html#1178" class="Function">Pred</a> <a id="3346" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3348" href="Data.Fin.Substitution.html#919" class="Generalizable">ℓ₁</a><a id="3350" class="Symbol">)</a> <a id="3352" class="Symbol">(</a><a id="3353" href="Data.Fin.Substitution.html#3353" class="Bound">T₂</a> <a id="3356" class="Symbol">:</a> <a id="3358" href="Relation.Unary.html#1178" class="Function">Pred</a> <a id="3363" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3365" href="Data.Fin.Substitution.html#922" class="Generalizable">ℓ₂</a><a id="3367" class="Symbol">)</a> <a id="3369" class="Symbol">:</a> <a id="3371" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3375" class="Symbol">(</a><a id="3376" href="Data.Fin.Substitution.html#3348" class="Bound">ℓ₁</a> <a id="3379" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="3381" href="Data.Fin.Substitution.html#3365" class="Bound">ℓ₂</a><a id="3383" class="Symbol">)</a> <a id="3385" class="Keyword">where</a>
  <a id="3393" class="Keyword">field</a>
    <a id="Lift.simple"></a><a id="3403" href="Data.Fin.Substitution.html#3403" class="Field">simple</a> <a id="3410" class="Symbol">:</a> <a id="3412" href="Data.Fin.Substitution.html#1405" class="Record">Simple</a> <a id="3419" href="Data.Fin.Substitution.html#3336" class="Bound">T₁</a>
    <a id="Lift.lift"></a><a id="3426" href="Data.Fin.Substitution.html#3426" class="Field">lift</a>   <a id="3433" class="Symbol">:</a> <a id="3435" class="Symbol">∀</a> <a id="3437" class="Symbol">{</a><a id="3438" href="Data.Fin.Substitution.html#3438" class="Bound">n</a><a id="3439" class="Symbol">}</a> <a id="3441" class="Symbol">→</a> <a id="3443" href="Data.Fin.Substitution.html#3336" class="Bound">T₁</a> <a id="3446" href="Data.Fin.Substitution.html#3438" class="Bound">n</a> <a id="3448" class="Symbol">→</a> <a id="3450" href="Data.Fin.Substitution.html#3353" class="Bound">T₂</a> <a id="3453" href="Data.Fin.Substitution.html#3438" class="Bound">n</a>

  <a id="3458" class="Keyword">open</a> <a id="3463" href="Data.Fin.Substitution.html#1405" class="Module">Simple</a> <a id="3470" href="Data.Fin.Substitution.html#3403" class="Field">simple</a> <a id="3477" class="Keyword">public</a>

<a id="3485" class="Comment">-- Variable substitutions (renamings).</a>

<a id="3525" class="Keyword">module</a> <a id="VarSubst"></a><a id="3532" href="Data.Fin.Substitution.html#3532" class="Module">VarSubst</a> <a id="3541" class="Keyword">where</a>

  <a id="VarSubst.subst"></a><a id="3550" href="Data.Fin.Substitution.html#3550" class="Function">subst</a> <a id="3556" class="Symbol">:</a> <a id="3558" href="Data.Fin.Substitution.html#2788" class="Record">Subst</a> <a id="3564" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a>
  <a id="3570" href="Data.Fin.Substitution.html#3550" class="Function">subst</a> <a id="3576" class="Symbol">=</a> <a id="3578" class="Keyword">record</a>
    <a id="3589" class="Symbol">{</a> <a id="3591" href="Data.Fin.Substitution.html#2835" class="Field">simple</a>      <a id="3603" class="Symbol">=</a> <a id="3605" class="Keyword">record</a> <a id="3612" class="Symbol">{</a> <a id="3614" href="Data.Fin.Substitution.html#1491" class="Field">var</a> <a id="3618" class="Symbol">=</a> <a id="3620" href="Function.Base.html#704" class="Function">Fun.id</a><a id="3626" class="Symbol">;</a> <a id="3628" href="Data.Fin.Substitution.html#1555" class="Field">weaken</a> <a id="3635" class="Symbol">=</a> <a id="3637" href="Data.Fin.Base.html#1202" class="InductiveConstructor">suc</a> <a id="3641" class="Symbol">}</a>
    <a id="3647" class="Symbol">;</a> <a id="3649" href="Data.Fin.Substitution.html#2867" class="Field">application</a> <a id="3661" class="Symbol">=</a> <a id="3663" class="Keyword">record</a> <a id="3670" class="Symbol">{</a> <a id="3672" href="Data.Fin.Substitution.html#2428" class="Field Operator">_/_</a> <a id="3676" class="Symbol">=</a> <a id="3678" href="Function.Base.html#1638" class="Function">flip</a> <a id="3683" href="Data.Vec.Base.html#1676" class="Function">lookup</a> <a id="3690" class="Symbol">}</a>
    <a id="3696" class="Symbol">}</a>

  <a id="3701" class="Keyword">open</a> <a id="3706" href="Data.Fin.Substitution.html#2788" class="Module">Subst</a> <a id="3712" href="Data.Fin.Substitution.html#3550" class="Function">subst</a> <a id="3718" class="Keyword">public</a>

<a id="3726" class="Comment">-- &quot;Term&quot; substitutions.</a>

<a id="3752" class="Keyword">record</a> <a id="TermSubst"></a><a id="3759" href="Data.Fin.Substitution.html#3759" class="Record">TermSubst</a> <a id="3769" class="Symbol">(</a><a id="3770" href="Data.Fin.Substitution.html#3770" class="Bound">T</a> <a id="3772" class="Symbol">:</a> <a id="3774" href="Relation.Unary.html#1178" class="Function">Pred</a> <a id="3779" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3781" href="Level.html#521" class="Function">0ℓ</a><a id="3783" class="Symbol">)</a> <a id="3785" class="Symbol">:</a> <a id="3787" href="Agda.Primitive.html#388" class="Primitive">Set₁</a> <a id="3792" class="Keyword">where</a>
  <a id="3800" class="Keyword">field</a>
    <a id="TermSubst.var"></a><a id="3810" href="Data.Fin.Substitution.html#3810" class="Field">var</a> <a id="3814" class="Symbol">:</a> <a id="3816" class="Symbol">∀</a> <a id="3818" class="Symbol">{</a><a id="3819" href="Data.Fin.Substitution.html#3819" class="Bound">n</a><a id="3820" class="Symbol">}</a> <a id="3822" class="Symbol">→</a> <a id="3824" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="3828" href="Data.Fin.Substitution.html#3819" class="Bound">n</a> <a id="3830" class="Symbol">→</a> <a id="3832" href="Data.Fin.Substitution.html#3770" class="Bound">T</a> <a id="3834" href="Data.Fin.Substitution.html#3819" class="Bound">n</a>
    <a id="TermSubst.app"></a><a id="3840" href="Data.Fin.Substitution.html#3840" class="Field">app</a> <a id="3844" class="Symbol">:</a> <a id="3846" class="Symbol">∀</a> <a id="3848" class="Symbol">{</a><a id="3849" href="Data.Fin.Substitution.html#3849" class="Bound">T′</a> <a id="3852" class="Symbol">:</a> <a id="3854" href="Relation.Unary.html#1178" class="Function">Pred</a> <a id="3859" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3861" href="Level.html#521" class="Function">0ℓ</a><a id="3863" class="Symbol">}</a> <a id="3865" class="Symbol">→</a> <a id="3867" href="Data.Fin.Substitution.html#3330" class="Record">Lift</a> <a id="3872" href="Data.Fin.Substitution.html#3849" class="Bound">T′</a> <a id="3875" href="Data.Fin.Substitution.html#3770" class="Bound">T</a> <a id="3877" class="Symbol">→</a> <a id="3879" class="Symbol">∀</a> <a id="3881" class="Symbol">{</a><a id="3882" href="Data.Fin.Substitution.html#3882" class="Bound">m</a> <a id="3884" href="Data.Fin.Substitution.html#3884" class="Bound">n</a><a id="3885" class="Symbol">}</a> <a id="3887" class="Symbol">→</a> <a id="3889" href="Data.Fin.Substitution.html#3770" class="Bound">T</a> <a id="3891" href="Data.Fin.Substitution.html#3882" class="Bound">m</a> <a id="3893" class="Symbol">→</a> <a id="3895" href="Data.Fin.Substitution.html#1189" class="Function">Sub</a> <a id="3899" href="Data.Fin.Substitution.html#3849" class="Bound">T′</a> <a id="3902" href="Data.Fin.Substitution.html#3882" class="Bound">m</a> <a id="3904" href="Data.Fin.Substitution.html#3884" class="Bound">n</a> <a id="3906" class="Symbol">→</a> <a id="3908" href="Data.Fin.Substitution.html#3770" class="Bound">T</a> <a id="3910" href="Data.Fin.Substitution.html#3884" class="Bound">n</a>

  <a id="3915" class="Keyword">module</a> <a id="TermSubst.Lifted"></a><a id="3922" href="Data.Fin.Substitution.html#3922" class="Module">Lifted</a> <a id="3929" class="Symbol">{</a><a id="3930" href="Data.Fin.Substitution.html#3930" class="Bound">T′</a> <a id="3933" class="Symbol">:</a> <a id="3935" href="Relation.Unary.html#1178" class="Function">Pred</a> <a id="3940" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3942" href="Level.html#521" class="Function">0ℓ</a><a id="3944" class="Symbol">}</a> <a id="3946" class="Symbol">(</a><a id="3947" href="Data.Fin.Substitution.html#3947" class="Bound">lift</a> <a id="3952" class="Symbol">:</a> <a id="3954" href="Data.Fin.Substitution.html#3330" class="Record">Lift</a> <a id="3959" href="Data.Fin.Substitution.html#3930" class="Bound">T′</a> <a id="3962" href="Data.Fin.Substitution.html#3770" class="Bound">T</a><a id="3963" class="Symbol">)</a> <a id="3965" class="Keyword">where</a>
    <a id="TermSubst.Lifted.application"></a><a id="3975" href="Data.Fin.Substitution.html#3975" class="Function">application</a> <a id="3987" class="Symbol">:</a> <a id="3989" href="Data.Fin.Substitution.html#2265" class="Record">Application</a> <a id="4001" href="Data.Fin.Substitution.html#3770" class="Bound">T</a> <a id="4003" href="Data.Fin.Substitution.html#3930" class="Bound">T′</a>
    <a id="4010" href="Data.Fin.Substitution.html#3975" class="Function">application</a> <a id="4022" class="Symbol">=</a> <a id="4024" class="Keyword">record</a> <a id="4031" class="Symbol">{</a> <a id="4033" href="Data.Fin.Substitution.html#2428" class="Field Operator">_/_</a> <a id="4037" class="Symbol">=</a> <a id="4039" href="Data.Fin.Substitution.html#3840" class="Field">app</a> <a id="4043" href="Data.Fin.Substitution.html#3947" class="Bound">lift</a> <a id="4048" class="Symbol">}</a>

    <a id="4055" class="Keyword">open</a> <a id="4060" href="Data.Fin.Substitution.html#3330" class="Module">Lift</a> <a id="4065" href="Data.Fin.Substitution.html#3947" class="Bound">lift</a> <a id="4070" class="Keyword">public</a>
    <a id="4081" class="Keyword">open</a> <a id="4086" href="Data.Fin.Substitution.html#2265" class="Module">Application</a> <a id="4098" href="Data.Fin.Substitution.html#3975" class="Function">application</a> <a id="4110" class="Keyword">public</a>

  <a id="TermSubst.varLift"></a><a id="4120" href="Data.Fin.Substitution.html#4120" class="Function">varLift</a> <a id="4128" class="Symbol">:</a> <a id="4130" href="Data.Fin.Substitution.html#3330" class="Record">Lift</a> <a id="4135" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="4139" href="Data.Fin.Substitution.html#3770" class="Bound">T</a>
  <a id="4143" href="Data.Fin.Substitution.html#4120" class="Function">varLift</a> <a id="4151" class="Symbol">=</a> <a id="4153" class="Keyword">record</a> <a id="4160" class="Symbol">{</a> <a id="4162" href="Data.Fin.Substitution.html#3403" class="Field">simple</a> <a id="4169" class="Symbol">=</a> <a id="4171" href="Data.Fin.Substitution.html#2835" class="Function">VarSubst.simple</a><a id="4186" class="Symbol">;</a> <a id="4188" href="Data.Fin.Substitution.html#3426" class="Field">lift</a> <a id="4193" class="Symbol">=</a> <a id="4195" href="Data.Fin.Substitution.html#3810" class="Field">var</a> <a id="4199" class="Symbol">}</a>

  <a id="4204" class="Keyword">infixl</a> <a id="4211" class="Number">8</a> <a id="4213" href="Data.Fin.Substitution.html#4223" class="Function Operator">_/Var_</a>

  <a id="TermSubst._/Var_"></a><a id="4223" href="Data.Fin.Substitution.html#4223" class="Function Operator">_/Var_</a> <a id="4230" class="Symbol">:</a> <a id="4232" href="Data.Fin.Substitution.html#3770" class="Bound">T</a> <a id="4234" href="Data.Fin.Substitution.html#939" class="Generalizable">m</a> <a id="4236" class="Symbol">→</a> <a id="4238" href="Data.Fin.Substitution.html#1189" class="Function">Sub</a> <a id="4242" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="4246" href="Data.Fin.Substitution.html#939" class="Generalizable">m</a> <a id="4248" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a> <a id="4250" class="Symbol">→</a> <a id="4252" href="Data.Fin.Substitution.html#3770" class="Bound">T</a> <a id="4254" href="Data.Fin.Substitution.html#941" class="Generalizable">n</a>
  <a id="4258" href="Data.Fin.Substitution.html#4223" class="Function Operator">_/Var_</a> <a id="4265" class="Symbol">=</a> <a id="4267" href="Data.Fin.Substitution.html#3840" class="Field">app</a> <a id="4271" href="Data.Fin.Substitution.html#4120" class="Function">varLift</a>

  <a id="TermSubst.simple"></a><a id="4282" href="Data.Fin.Substitution.html#4282" class="Function">simple</a> <a id="4289" class="Symbol">:</a> <a id="4291" href="Data.Fin.Substitution.html#1405" class="Record">Simple</a> <a id="4298" href="Data.Fin.Substitution.html#3770" class="Bound">T</a>
  <a id="4302" href="Data.Fin.Substitution.html#4282" class="Function">simple</a> <a id="4309" class="Symbol">=</a> <a id="4311" class="Keyword">record</a>
    <a id="4322" class="Symbol">{</a> <a id="4324" href="Data.Fin.Substitution.html#1491" class="Field">var</a>    <a id="4331" class="Symbol">=</a> <a id="4333" href="Data.Fin.Substitution.html#3810" class="Field">var</a>
    <a id="4341" class="Symbol">;</a> <a id="4343" href="Data.Fin.Substitution.html#1555" class="Field">weaken</a> <a id="4350" class="Symbol">=</a> <a id="4352" class="Symbol">λ</a> <a id="4354" href="Data.Fin.Substitution.html#4354" class="Bound">t</a> <a id="4356" class="Symbol">→</a> <a id="4358" href="Data.Fin.Substitution.html#4354" class="Bound">t</a> <a id="4360" href="Data.Fin.Substitution.html#4223" class="Function Operator">/Var</a> <a id="4365" href="Data.Fin.Substitution.html#2080" class="Function">VarSubst.wk</a>
    <a id="4381" class="Symbol">}</a>

  <a id="TermSubst.termLift"></a><a id="4386" href="Data.Fin.Substitution.html#4386" class="Function">termLift</a> <a id="4395" class="Symbol">:</a> <a id="4397" href="Data.Fin.Substitution.html#3330" class="Record">Lift</a> <a id="4402" href="Data.Fin.Substitution.html#3770" class="Bound">T</a> <a id="4404" href="Data.Fin.Substitution.html#3770" class="Bound">T</a>
  <a id="4408" href="Data.Fin.Substitution.html#4386" class="Function">termLift</a> <a id="4417" class="Symbol">=</a> <a id="4419" class="Keyword">record</a> <a id="4426" class="Symbol">{</a> <a id="4428" href="Data.Fin.Substitution.html#3403" class="Field">simple</a> <a id="4435" class="Symbol">=</a> <a id="4437" href="Data.Fin.Substitution.html#4282" class="Function">simple</a><a id="4443" class="Symbol">;</a> <a id="4445" href="Data.Fin.Substitution.html#3426" class="Field">lift</a> <a id="4450" class="Symbol">=</a> <a id="4452" href="Function.Base.html#704" class="Function">Fun.id</a> <a id="4459" class="Symbol">}</a>

  <a id="TermSubst.subst"></a><a id="4464" href="Data.Fin.Substitution.html#4464" class="Function">subst</a> <a id="4470" class="Symbol">:</a> <a id="4472" href="Data.Fin.Substitution.html#2788" class="Record">Subst</a> <a id="4478" href="Data.Fin.Substitution.html#3770" class="Bound">T</a>
  <a id="4482" href="Data.Fin.Substitution.html#4464" class="Function">subst</a> <a id="4488" class="Symbol">=</a> <a id="4490" class="Keyword">record</a>
    <a id="4501" class="Symbol">{</a> <a id="4503" href="Data.Fin.Substitution.html#2835" class="Field">simple</a>      <a id="4515" class="Symbol">=</a> <a id="4517" href="Data.Fin.Substitution.html#4282" class="Function">simple</a>
    <a id="4528" class="Symbol">;</a> <a id="4530" href="Data.Fin.Substitution.html#2867" class="Field">application</a> <a id="4542" class="Symbol">=</a> <a id="4544" href="Data.Fin.Substitution.html#3975" class="Function">Lifted.application</a> <a id="4563" href="Data.Fin.Substitution.html#4386" class="Function">termLift</a>
    <a id="4576" class="Symbol">}</a>

  <a id="4581" class="Keyword">open</a> <a id="4586" href="Data.Fin.Substitution.html#2788" class="Module">Subst</a> <a id="4592" href="Data.Fin.Substitution.html#4464" class="Function">subst</a> <a id="4598" class="Keyword">public</a> <a id="4605" class="Keyword">hiding</a> <a id="4612" class="Symbol">(</a><a id="4613" href="Data.Fin.Substitution.html#1491" class="Function">var</a><a id="4616" class="Symbol">;</a> <a id="4618" href="Data.Fin.Substitution.html#2835" class="Field">simple</a><a id="4624" class="Symbol">)</a>
</pre></body></html>