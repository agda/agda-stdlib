<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Sized.Cofin</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- &quot;Finite&quot; sets indexed on coinductive &quot;natural&quot; numbers</a>
<a id="164" class="Comment">------------------------------------------------------------------------</a>

<a id="238" class="Symbol">{-#</a> <a id="242" class="Keyword">OPTIONS</a> <a id="250" class="Pragma">--cubical-compatible</a> <a id="271" class="Pragma">--sized-types</a> <a id="285" class="Symbol">#-}</a>

<a id="290" class="Keyword">module</a> <a id="297" href="Codata.Sized.Cofin.html" class="Module">Codata.Sized.Cofin</a> <a id="316" class="Keyword">where</a>

<a id="323" class="Keyword">open</a> <a id="328" class="Keyword">import</a> <a id="335" href="Size.html" class="Module">Size</a> <a id="340" class="Keyword">using</a> <a id="346" class="Symbol">(</a><a id="347" href="Agda.Builtin.Size.html#315" class="Postulate">∞</a><a id="348" class="Symbol">)</a>
<a id="350" class="Keyword">open</a> <a id="355" class="Keyword">import</a> <a id="362" href="Codata.Sized.Thunk.html" class="Module">Codata.Sized.Thunk</a> <a id="381" class="Keyword">using</a> <a id="387" class="Symbol">(</a><a id="388" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="393" class="Symbol">)</a>
<a id="395" class="Keyword">open</a> <a id="400" class="Keyword">import</a> <a id="407" href="Codata.Sized.Conat.html" class="Module">Codata.Sized.Conat</a> <a id="426" class="Symbol">as</a> <a id="429" class="Module">Conat</a>
  <a id="437" class="Keyword">using</a> <a id="443" class="Symbol">(</a><a id="444" href="Codata.Sized.Conat.html#541" class="Datatype">Conat</a><a id="449" class="Symbol">;</a> <a id="451" href="Codata.Sized.Conat.html#572" class="InductiveConstructor">zero</a><a id="455" class="Symbol">;</a> <a id="457" href="Codata.Sized.Conat.html#589" class="InductiveConstructor">suc</a><a id="460" class="Symbol">;</a> <a id="462" href="Codata.Sized.Conat.html#620" class="Function">infinity</a><a id="470" class="Symbol">;</a> <a id="472" href="Codata.Sized.Conat.html#2425" class="Function Operator">_ℕ&lt;_</a><a id="476" class="Symbol">;</a> <a id="478" href="Codata.Sized.Conat.html#2376" class="InductiveConstructor">sℕ≤s</a><a id="482" class="Symbol">;</a> <a id="484" href="Codata.Sized.Conat.html#2471" class="Function Operator">_ℕ≤infinity</a><a id="495" class="Symbol">)</a>
<a id="497" class="Keyword">open</a> <a id="502" class="Keyword">import</a> <a id="509" href="Codata.Sized.Conat.Bisimilarity.html" class="Module">Codata.Sized.Conat.Bisimilarity</a> <a id="541" class="Symbol">as</a> <a id="544" class="Module">Bisim</a> <a id="550" class="Keyword">using</a> <a id="556" class="Symbol">(</a><a id="557" href="Codata.Sized.Conat.Bisimilarity.html#1384" class="Datatype Operator">_⊢_≲_</a> <a id="563" class="Symbol">;</a> <a id="565" href="Codata.Sized.Conat.Bisimilarity.html#1453" class="InductiveConstructor">s≲s</a><a id="568" class="Symbol">)</a>
<a id="570" class="Keyword">open</a> <a id="575" class="Keyword">import</a> <a id="582" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="596" class="Keyword">using</a> <a id="602" class="Symbol">(</a><a id="603" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="604" class="Symbol">;</a> <a id="606" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="610" class="Symbol">;</a> <a id="612" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="615" class="Symbol">)</a>
<a id="617" class="Keyword">open</a> <a id="622" class="Keyword">import</a> <a id="629" href="Data.Fin.Base.html" class="Module">Data.Fin.Base</a> <a id="643" class="Keyword">using</a> <a id="649" class="Symbol">(</a><a id="650" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a><a id="653" class="Symbol">;</a> <a id="655" href="Data.Fin.Base.html#1181" class="InductiveConstructor">zero</a><a id="659" class="Symbol">;</a> <a id="661" href="Data.Fin.Base.html#1202" class="InductiveConstructor">suc</a><a id="664" class="Symbol">)</a>
<a id="666" class="Keyword">open</a> <a id="671" class="Keyword">import</a> <a id="678" href="Function.Base.html" class="Module">Function.Base</a> <a id="692" class="Keyword">using</a> <a id="698" class="Symbol">(</a><a id="699" href="Function.Base.html#4486" class="Function Operator">_∋_</a><a id="702" class="Symbol">)</a>
<a id="704" class="Keyword">open</a> <a id="709" class="Keyword">import</a> <a id="716" href="Relation.Binary.PropositionalEquality.Core.html" class="Module">Relation.Binary.PropositionalEquality.Core</a> <a id="759" class="Keyword">using</a> <a id="765" class="Symbol">(</a><a id="766" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="769" class="Symbol">;</a> <a id="771" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="775" class="Symbol">)</a>

<a id="778" class="Comment">------------------------------------------------------------------------</a>
<a id="851" class="Comment">-- The type</a>

<a id="864" class="Comment">-- Note that `Cofin infinity` is /not/ finite. Note also that this is</a>
<a id="934" class="Comment">-- not a coinductive type, but it is indexed on a coinductive type.</a>

<a id="1003" class="Keyword">data</a> <a id="Cofin"></a><a id="1008" href="Codata.Sized.Cofin.html#1008" class="Datatype">Cofin</a> <a id="1014" class="Symbol">:</a> <a id="1016" href="Codata.Sized.Conat.html#541" class="Datatype">Conat</a> <a id="1022" href="Agda.Builtin.Size.html#315" class="Postulate">∞</a> <a id="1024" class="Symbol">→</a> <a id="1026" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1030" class="Keyword">where</a>
  <a id="Cofin.zero"></a><a id="1038" href="Codata.Sized.Cofin.html#1038" class="InductiveConstructor">zero</a> <a id="1043" class="Symbol">:</a> <a id="1045" class="Symbol">∀</a> <a id="1047" class="Symbol">{</a><a id="1048" href="Codata.Sized.Cofin.html#1048" class="Bound">n</a><a id="1049" class="Symbol">}</a> <a id="1051" class="Symbol">→</a> <a id="1053" href="Codata.Sized.Cofin.html#1008" class="Datatype">Cofin</a> <a id="1059" class="Symbol">(</a><a id="1060" href="Codata.Sized.Conat.html#589" class="InductiveConstructor">suc</a> <a id="1064" href="Codata.Sized.Cofin.html#1048" class="Bound">n</a><a id="1065" class="Symbol">)</a>
  <a id="Cofin.suc"></a><a id="1069" href="Codata.Sized.Cofin.html#1069" class="InductiveConstructor">suc</a>  <a id="1074" class="Symbol">:</a> <a id="1076" class="Symbol">∀</a> <a id="1078" class="Symbol">{</a><a id="1079" href="Codata.Sized.Cofin.html#1079" class="Bound">n</a><a id="1080" class="Symbol">}</a> <a id="1082" class="Symbol">→</a> <a id="1084" href="Codata.Sized.Cofin.html#1008" class="Datatype">Cofin</a> <a id="1090" class="Symbol">(</a><a id="1091" href="Codata.Sized.Cofin.html#1079" class="Bound">n</a> <a id="1093" class="Symbol">.</a><a id="1094" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="1099" class="Symbol">)</a> <a id="1101" class="Symbol">→</a> <a id="1103" href="Codata.Sized.Cofin.html#1008" class="Datatype">Cofin</a> <a id="1109" class="Symbol">(</a><a id="1110" href="Codata.Sized.Conat.html#589" class="InductiveConstructor">suc</a> <a id="1114" href="Codata.Sized.Cofin.html#1079" class="Bound">n</a><a id="1115" class="Symbol">)</a>

<a id="suc-injective"></a><a id="1118" href="Codata.Sized.Cofin.html#1118" class="Function">suc-injective</a> <a id="1132" class="Symbol">:</a> <a id="1134" class="Symbol">∀</a> <a id="1136" class="Symbol">{</a><a id="1137" href="Codata.Sized.Cofin.html#1137" class="Bound">n</a><a id="1138" class="Symbol">}</a> <a id="1140" class="Symbol">{</a><a id="1141" href="Codata.Sized.Cofin.html#1141" class="Bound">p</a> <a id="1143" href="Codata.Sized.Cofin.html#1143" class="Bound">q</a> <a id="1145" class="Symbol">:</a> <a id="1147" href="Codata.Sized.Cofin.html#1008" class="Datatype">Cofin</a> <a id="1153" class="Symbol">(</a><a id="1154" href="Codata.Sized.Cofin.html#1137" class="Bound">n</a> <a id="1156" class="Symbol">.</a><a id="1157" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="1162" class="Symbol">)}</a> <a id="1165" class="Symbol">→</a>
                <a id="1183" class="Symbol">(</a><a id="1184" href="Codata.Sized.Cofin.html#1008" class="Datatype">Cofin</a> <a id="1190" class="Symbol">(</a><a id="1191" class="InductiveConstructor">suc</a> <a id="1195" href="Codata.Sized.Cofin.html#1137" class="Bound">n</a><a id="1196" class="Symbol">)</a> <a id="1198" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="1200" class="InductiveConstructor">suc</a> <a id="1204" href="Codata.Sized.Cofin.html#1141" class="Bound">p</a><a id="1205" class="Symbol">)</a> <a id="1207" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1209" class="InductiveConstructor">suc</a> <a id="1213" href="Codata.Sized.Cofin.html#1143" class="Bound">q</a> <a id="1215" class="Symbol">→</a> <a id="1217" href="Codata.Sized.Cofin.html#1141" class="Bound">p</a> <a id="1219" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1221" href="Codata.Sized.Cofin.html#1143" class="Bound">q</a>
<a id="1223" href="Codata.Sized.Cofin.html#1118" class="Function">suc-injective</a> <a id="1237" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="1242" class="Symbol">=</a> <a id="1244" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="1250" class="Comment">------------------------------------------------------------------------</a>
<a id="1323" class="Comment">-- Some operations</a>

<a id="fromℕ&lt;"></a><a id="1343" href="Codata.Sized.Cofin.html#1343" class="Function">fromℕ&lt;</a> <a id="1350" class="Symbol">:</a> <a id="1352" class="Symbol">∀</a> <a id="1354" class="Symbol">{</a><a id="1355" href="Codata.Sized.Cofin.html#1355" class="Bound">n</a> <a id="1357" href="Codata.Sized.Cofin.html#1357" class="Bound">k</a><a id="1358" class="Symbol">}</a> <a id="1360" class="Symbol">→</a> <a id="1362" href="Codata.Sized.Cofin.html#1357" class="Bound">k</a> <a id="1364" href="Codata.Sized.Conat.html#2425" class="Function Operator">ℕ&lt;</a> <a id="1367" href="Codata.Sized.Cofin.html#1355" class="Bound">n</a> <a id="1369" class="Symbol">→</a> <a id="1371" href="Codata.Sized.Cofin.html#1008" class="Datatype">Cofin</a> <a id="1377" href="Codata.Sized.Cofin.html#1355" class="Bound">n</a>
<a id="1379" href="Codata.Sized.Cofin.html#1343" class="Function">fromℕ&lt;</a> <a id="1386" class="Symbol">{</a><a id="1387" href="Codata.Sized.Conat.html#572" class="InductiveConstructor">zero</a><a id="1391" class="Symbol">}</a>  <a id="1394" class="Symbol">()</a>
<a id="1397" href="Codata.Sized.Cofin.html#1343" class="Function">fromℕ&lt;</a> <a id="1404" class="Symbol">{</a><a id="1405" href="Codata.Sized.Conat.html#589" class="InductiveConstructor">suc</a> <a id="1409" href="Codata.Sized.Cofin.html#1409" class="Bound">n</a><a id="1410" class="Symbol">}</a> <a id="1412" class="Symbol">{</a><a id="1413" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="1417" class="Symbol">}</a>  <a id="1420" class="Symbol">(</a><a id="1421" href="Codata.Sized.Conat.html#2376" class="InductiveConstructor">sℕ≤s</a> <a id="1426" href="Codata.Sized.Cofin.html#1426" class="Bound">p</a><a id="1427" class="Symbol">)</a> <a id="1429" class="Symbol">=</a> <a id="1431" href="Codata.Sized.Cofin.html#1038" class="InductiveConstructor">zero</a>
<a id="1436" href="Codata.Sized.Cofin.html#1343" class="Function">fromℕ&lt;</a> <a id="1443" class="Symbol">{</a><a id="1444" href="Codata.Sized.Conat.html#589" class="InductiveConstructor">suc</a> <a id="1448" href="Codata.Sized.Cofin.html#1448" class="Bound">n</a><a id="1449" class="Symbol">}</a> <a id="1451" class="Symbol">{</a><a id="1452" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1456" href="Codata.Sized.Cofin.html#1456" class="Bound">k</a><a id="1457" class="Symbol">}</a> <a id="1459" class="Symbol">(</a><a id="1460" href="Codata.Sized.Conat.html#2376" class="InductiveConstructor">sℕ≤s</a> <a id="1465" href="Codata.Sized.Cofin.html#1465" class="Bound">p</a><a id="1466" class="Symbol">)</a> <a id="1468" class="Symbol">=</a> <a id="1470" href="Codata.Sized.Cofin.html#1069" class="InductiveConstructor">suc</a> <a id="1474" class="Symbol">(</a><a id="1475" href="Codata.Sized.Cofin.html#1343" class="Function">fromℕ&lt;</a> <a id="1482" href="Codata.Sized.Cofin.html#1465" class="Bound">p</a><a id="1483" class="Symbol">)</a>

<a id="fromℕ"></a><a id="1486" href="Codata.Sized.Cofin.html#1486" class="Function">fromℕ</a> <a id="1492" class="Symbol">:</a> <a id="1494" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1496" class="Symbol">→</a> <a id="1498" href="Codata.Sized.Cofin.html#1008" class="Datatype">Cofin</a> <a id="1504" href="Codata.Sized.Conat.html#620" class="Function">infinity</a>
<a id="1513" href="Codata.Sized.Cofin.html#1486" class="Function">fromℕ</a> <a id="1519" href="Codata.Sized.Cofin.html#1519" class="Bound">k</a> <a id="1521" class="Symbol">=</a> <a id="1523" href="Codata.Sized.Cofin.html#1343" class="Function">fromℕ&lt;</a> <a id="1530" class="Symbol">(</a><a id="1531" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1535" href="Codata.Sized.Cofin.html#1519" class="Bound">k</a> <a id="1537" href="Codata.Sized.Conat.html#2471" class="Function Operator">ℕ≤infinity</a><a id="1547" class="Symbol">)</a>

<a id="toℕ"></a><a id="1550" href="Codata.Sized.Cofin.html#1550" class="Function">toℕ</a> <a id="1554" class="Symbol">:</a> <a id="1556" class="Symbol">∀</a> <a id="1558" class="Symbol">{</a><a id="1559" href="Codata.Sized.Cofin.html#1559" class="Bound">n</a><a id="1560" class="Symbol">}</a> <a id="1562" class="Symbol">→</a> <a id="1564" href="Codata.Sized.Cofin.html#1008" class="Datatype">Cofin</a> <a id="1570" href="Codata.Sized.Cofin.html#1559" class="Bound">n</a> <a id="1572" class="Symbol">→</a> <a id="1574" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="1576" href="Codata.Sized.Cofin.html#1550" class="Function">toℕ</a> <a id="1580" href="Codata.Sized.Cofin.html#1038" class="InductiveConstructor">zero</a>    <a id="1588" class="Symbol">=</a> <a id="1590" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>
<a id="1595" href="Codata.Sized.Cofin.html#1550" class="Function">toℕ</a> <a id="1599" class="Symbol">(</a><a id="1600" href="Codata.Sized.Cofin.html#1069" class="InductiveConstructor">suc</a> <a id="1604" href="Codata.Sized.Cofin.html#1604" class="Bound">i</a><a id="1605" class="Symbol">)</a> <a id="1607" class="Symbol">=</a> <a id="1609" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1613" class="Symbol">(</a><a id="1614" href="Codata.Sized.Cofin.html#1550" class="Function">toℕ</a> <a id="1618" href="Codata.Sized.Cofin.html#1604" class="Bound">i</a><a id="1619" class="Symbol">)</a>

<a id="fromFin"></a><a id="1622" href="Codata.Sized.Cofin.html#1622" class="Function">fromFin</a> <a id="1630" class="Symbol">:</a> <a id="1632" class="Symbol">∀</a> <a id="1634" class="Symbol">{</a><a id="1635" href="Codata.Sized.Cofin.html#1635" class="Bound">n</a><a id="1636" class="Symbol">}</a> <a id="1638" class="Symbol">→</a> <a id="1640" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="1644" href="Codata.Sized.Cofin.html#1635" class="Bound">n</a> <a id="1646" class="Symbol">→</a> <a id="1648" href="Codata.Sized.Cofin.html#1008" class="Datatype">Cofin</a> <a id="1654" class="Symbol">(</a><a id="1655" href="Codata.Sized.Conat.html#689" class="Function">Conat.fromℕ</a> <a id="1667" href="Codata.Sized.Cofin.html#1635" class="Bound">n</a><a id="1668" class="Symbol">)</a>
<a id="1670" href="Codata.Sized.Cofin.html#1622" class="Function">fromFin</a> <a id="1678" href="Data.Fin.Base.html#1181" class="InductiveConstructor">zero</a>    <a id="1686" class="Symbol">=</a> <a id="1688" href="Codata.Sized.Cofin.html#1038" class="InductiveConstructor">zero</a>
<a id="1693" href="Codata.Sized.Cofin.html#1622" class="Function">fromFin</a> <a id="1701" class="Symbol">(</a><a id="1702" href="Data.Fin.Base.html#1202" class="InductiveConstructor">suc</a> <a id="1706" href="Codata.Sized.Cofin.html#1706" class="Bound">i</a><a id="1707" class="Symbol">)</a> <a id="1709" class="Symbol">=</a> <a id="1711" href="Codata.Sized.Cofin.html#1069" class="InductiveConstructor">suc</a> <a id="1715" class="Symbol">(</a><a id="1716" href="Codata.Sized.Cofin.html#1622" class="Function">fromFin</a> <a id="1724" href="Codata.Sized.Cofin.html#1706" class="Bound">i</a><a id="1725" class="Symbol">)</a>

<a id="toFin"></a><a id="1728" href="Codata.Sized.Cofin.html#1728" class="Function">toFin</a> <a id="1734" class="Symbol">:</a> <a id="1736" class="Symbol">∀</a> <a id="1738" href="Codata.Sized.Cofin.html#1738" class="Bound">n</a> <a id="1740" class="Symbol">→</a> <a id="1742" href="Codata.Sized.Cofin.html#1008" class="Datatype">Cofin</a> <a id="1748" class="Symbol">(</a><a id="1749" href="Codata.Sized.Conat.html#689" class="Function">Conat.fromℕ</a> <a id="1761" href="Codata.Sized.Cofin.html#1738" class="Bound">n</a><a id="1762" class="Symbol">)</a> <a id="1764" class="Symbol">→</a> <a id="1766" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="1770" href="Codata.Sized.Cofin.html#1738" class="Bound">n</a>
<a id="1772" href="Codata.Sized.Cofin.html#1728" class="Function">toFin</a> <a id="1778" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>    <a id="1786" class="Symbol">()</a>
<a id="1789" href="Codata.Sized.Cofin.html#1728" class="Function">toFin</a> <a id="1795" class="Symbol">(</a><a id="1796" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1800" href="Codata.Sized.Cofin.html#1800" class="Bound">n</a><a id="1801" class="Symbol">)</a> <a id="1803" href="Codata.Sized.Cofin.html#1038" class="InductiveConstructor">zero</a>    <a id="1811" class="Symbol">=</a> <a id="1813" href="Data.Fin.Base.html#1181" class="InductiveConstructor">zero</a>
<a id="1818" href="Codata.Sized.Cofin.html#1728" class="Function">toFin</a> <a id="1824" class="Symbol">(</a><a id="1825" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1829" href="Codata.Sized.Cofin.html#1829" class="Bound">n</a><a id="1830" class="Symbol">)</a> <a id="1832" class="Symbol">(</a><a id="1833" href="Codata.Sized.Cofin.html#1069" class="InductiveConstructor">suc</a> <a id="1837" href="Codata.Sized.Cofin.html#1837" class="Bound">i</a><a id="1838" class="Symbol">)</a> <a id="1840" class="Symbol">=</a> <a id="1842" href="Data.Fin.Base.html#1202" class="InductiveConstructor">suc</a> <a id="1846" class="Symbol">(</a><a id="1847" href="Codata.Sized.Cofin.html#1728" class="Function">toFin</a> <a id="1853" href="Codata.Sized.Cofin.html#1829" class="Bound">n</a> <a id="1855" href="Codata.Sized.Cofin.html#1837" class="Bound">i</a><a id="1856" class="Symbol">)</a>
</pre></body></html>