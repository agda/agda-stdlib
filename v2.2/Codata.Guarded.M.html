<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Guarded.M</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- M-types (the dual of W-types)</a>
<a id="139" class="Comment">------------------------------------------------------------------------</a>

<a id="213" class="Symbol">{-#</a> <a id="217" class="Keyword">OPTIONS</a> <a id="225" class="Pragma">--cubical-compatible</a> <a id="246" class="Pragma">--safe</a> <a id="253" class="Pragma">--guardedness</a> <a id="267" class="Symbol">#-}</a>

<a id="272" class="Keyword">module</a> <a id="279" href="Codata.Guarded.M.html" class="Module">Codata.Guarded.M</a> <a id="296" class="Keyword">where</a>

<a id="303" class="Keyword">open</a> <a id="308" class="Keyword">import</a> <a id="315" href="Level.html" class="Module">Level</a>
<a id="321" class="Keyword">open</a> <a id="326" class="Keyword">import</a> <a id="333" href="Data.Container.Core.html" class="Module">Data.Container.Core</a> <a id="353" class="Keyword">hiding</a> <a id="360" class="Symbol">(</a><a id="361" href="Data.Container.Core.html#888" class="Function">map</a><a id="364" class="Symbol">;</a> <a id="366" href="Data.Container.Core.html#646" class="Field">Shape</a><a id="371" class="Symbol">;</a> <a id="373" href="Data.Container.Core.html#667" class="Field">Position</a><a id="381" class="Symbol">)</a>
<a id="383" class="Keyword">open</a> <a id="388" class="Keyword">import</a> <a id="395" href="Function.Base.html" class="Module">Function.Base</a>
<a id="409" class="Keyword">open</a> <a id="414" class="Keyword">import</a> <a id="421" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="439" class="Keyword">hiding</a> <a id="446" class="Symbol">(</a><a id="447" href="Data.Product.Base.html#2173" class="Function">map</a><a id="450" class="Symbol">)</a>

<a id="453" class="Comment">-- The family of M-types</a>

<a id="479" class="Keyword">record</a> <a id="M"></a><a id="486" href="Codata.Guarded.M.html#486" class="Record">M</a> <a id="488" class="Symbol">{</a><a id="489" href="Codata.Guarded.M.html#489" class="Bound">s</a> <a id="491" href="Codata.Guarded.M.html#491" class="Bound">p</a><a id="492" class="Symbol">}</a> <a id="494" class="Symbol">(</a><a id="495" href="Codata.Guarded.M.html#495" class="Bound">C</a> <a id="497" class="Symbol">:</a> <a id="499" href="Data.Container.Core.html#566" class="Record">Container</a> <a id="509" href="Codata.Guarded.M.html#489" class="Bound">s</a> <a id="511" href="Codata.Guarded.M.html#491" class="Bound">p</a><a id="512" class="Symbol">)</a> <a id="514" class="Symbol">:</a> <a id="516" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="520" class="Symbol">(</a><a id="521" href="Codata.Guarded.M.html#489" class="Bound">s</a> <a id="523" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="525" href="Codata.Guarded.M.html#491" class="Bound">p</a><a id="526" class="Symbol">)</a> <a id="528" class="Keyword">where</a>
  <a id="536" class="Keyword">coinductive</a>
  <a id="550" class="Keyword">constructor</a> <a id="inf"></a><a id="562" href="Codata.Guarded.M.html#562" class="CoinductiveConstructor">inf</a>

  <a id="569" class="Keyword">open</a> <a id="574" href="Data.Container.Core.html#566" class="Module">Container</a> <a id="584" href="Codata.Guarded.M.html#495" class="Bound">C</a>

  <a id="589" class="Keyword">field</a>
    <a id="M.head"></a><a id="599" href="Codata.Guarded.M.html#599" class="Field">head</a> <a id="604" class="Symbol">:</a> <a id="606" href="Data.Container.Core.html#646" class="Function">Shape</a>
    <a id="M.tail"></a><a id="616" href="Codata.Guarded.M.html#616" class="Field">tail</a> <a id="621" class="Symbol">:</a> <a id="623" href="Data.Container.Core.html#667" class="Function">Position</a> <a id="632" href="Codata.Guarded.M.html#599" class="Field">head</a> <a id="637" class="Symbol">→</a> <a id="639" href="Codata.Guarded.M.html#486" class="Record">M</a> <a id="641" href="Codata.Guarded.M.html#495" class="Bound">C</a>

<a id="644" class="Keyword">open</a> <a id="649" href="Codata.Guarded.M.html#486" class="Module">M</a> <a id="651" class="Keyword">public</a>

<a id="659" class="Comment">-- map</a>

<a id="667" class="Keyword">module</a> <a id="674" href="Codata.Guarded.M.html#674" class="Module">_</a> <a id="676" class="Symbol">{</a><a id="677" href="Codata.Guarded.M.html#677" class="Bound">s₁</a> <a id="680" href="Codata.Guarded.M.html#680" class="Bound">s₂</a> <a id="683" href="Codata.Guarded.M.html#683" class="Bound">p₁</a> <a id="686" href="Codata.Guarded.M.html#686" class="Bound">p₂</a><a id="688" class="Symbol">}</a> <a id="690" class="Symbol">{</a><a id="691" href="Codata.Guarded.M.html#691" class="Bound">C₁</a> <a id="694" class="Symbol">:</a> <a id="696" href="Data.Container.Core.html#566" class="Record">Container</a> <a id="706" href="Codata.Guarded.M.html#677" class="Bound">s₁</a> <a id="709" href="Codata.Guarded.M.html#683" class="Bound">p₁</a><a id="711" class="Symbol">}</a> <a id="713" class="Symbol">{</a><a id="714" href="Codata.Guarded.M.html#714" class="Bound">C₂</a> <a id="717" class="Symbol">:</a> <a id="719" href="Data.Container.Core.html#566" class="Record">Container</a> <a id="729" href="Codata.Guarded.M.html#680" class="Bound">s₂</a> <a id="732" href="Codata.Guarded.M.html#686" class="Bound">p₂</a><a id="734" class="Symbol">}</a>
         <a id="745" class="Symbol">(</a><a id="746" href="Codata.Guarded.M.html#746" class="Bound">f</a> <a id="748" class="Symbol">:</a> <a id="750" href="Codata.Guarded.M.html#691" class="Bound">C₁</a> <a id="753" href="Data.Container.Core.html#1083" class="Record Operator">⇒</a> <a id="755" href="Codata.Guarded.M.html#714" class="Bound">C₂</a><a id="757" class="Symbol">)</a> <a id="759" class="Keyword">where</a>

  <a id="768" href="Codata.Guarded.M.html#768" class="Function">map</a> <a id="772" class="Symbol">:</a> <a id="774" href="Codata.Guarded.M.html#486" class="Record">M</a> <a id="776" href="Codata.Guarded.M.html#691" class="Bound">C₁</a> <a id="779" class="Symbol">→</a> <a id="781" href="Codata.Guarded.M.html#486" class="Record">M</a> <a id="783" href="Codata.Guarded.M.html#714" class="Bound">C₂</a>
  <a id="788" href="Codata.Guarded.M.html#768" class="Function">map</a> <a id="792" href="Codata.Guarded.M.html#792" class="Bound">m</a> <a id="794" class="Symbol">.</a><a id="795" href="Codata.Guarded.M.html#599" class="Field">head</a> <a id="800" class="Symbol">=</a> <a id="802" href="Codata.Guarded.M.html#746" class="Bound">f</a> <a id="804" class="Symbol">.</a><a id="805" href="Data.Container.Core.html#1220" class="Field">shape</a> <a id="811" class="Symbol">(</a><a id="812" href="Codata.Guarded.M.html#792" class="Bound">m</a> <a id="814" class="Symbol">.</a><a id="815" href="Codata.Guarded.M.html#599" class="Field">head</a><a id="819" class="Symbol">)</a>
  <a id="823" href="Codata.Guarded.M.html#768" class="Function">map</a> <a id="827" href="Codata.Guarded.M.html#827" class="Bound">m</a> <a id="829" class="Symbol">.</a><a id="830" href="Codata.Guarded.M.html#616" class="Field">tail</a> <a id="835" href="Codata.Guarded.M.html#835" class="Bound">p</a> <a id="837" class="Symbol">=</a> <a id="839" href="Codata.Guarded.M.html#768" class="Function">map</a> <a id="843" class="Symbol">(</a><a id="844" href="Codata.Guarded.M.html#827" class="Bound">m</a> <a id="846" class="Symbol">.</a><a id="847" href="Codata.Guarded.M.html#616" class="Field">tail</a> <a id="852" class="Symbol">(</a><a id="853" href="Codata.Guarded.M.html#746" class="Bound">f</a> <a id="855" class="Symbol">.</a><a id="856" href="Data.Container.Core.html#1255" class="Field">position</a> <a id="865" href="Codata.Guarded.M.html#835" class="Bound">p</a><a id="866" class="Symbol">))</a>

<a id="870" class="Comment">-- unfold</a>

<a id="881" class="Keyword">module</a> <a id="888" href="Codata.Guarded.M.html#888" class="Module">_</a> <a id="890" class="Symbol">{</a><a id="891" href="Codata.Guarded.M.html#891" class="Bound">s</a> <a id="893" href="Codata.Guarded.M.html#893" class="Bound">p</a> <a id="895" href="Codata.Guarded.M.html#895" class="Bound">ℓ</a><a id="896" class="Symbol">}</a> <a id="898" class="Symbol">{</a><a id="899" href="Codata.Guarded.M.html#899" class="Bound">C</a> <a id="901" class="Symbol">:</a> <a id="903" href="Data.Container.Core.html#566" class="Record">Container</a> <a id="913" href="Codata.Guarded.M.html#891" class="Bound">s</a> <a id="915" href="Codata.Guarded.M.html#893" class="Bound">p</a><a id="916" class="Symbol">}</a> <a id="918" class="Symbol">(</a><a id="919" class="Keyword">open</a> <a id="924" href="Data.Container.Core.html#566" class="Module">Container</a> <a id="934" href="Codata.Guarded.M.html#899" class="Bound">C</a><a id="935" class="Symbol">)</a>
         <a id="946" class="Symbol">{</a><a id="947" href="Codata.Guarded.M.html#947" class="Bound">S</a> <a id="949" class="Symbol">:</a> <a id="951" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="955" href="Codata.Guarded.M.html#895" class="Bound">ℓ</a><a id="956" class="Symbol">}</a> <a id="958" class="Symbol">(</a><a id="959" href="Codata.Guarded.M.html#959" class="Bound">alg</a> <a id="963" class="Symbol">:</a> <a id="965" href="Codata.Guarded.M.html#947" class="Bound">S</a> <a id="967" class="Symbol">→</a> <a id="969" href="Data.Container.Core.html#763" class="Function Operator">⟦</a> <a id="971" href="Codata.Guarded.M.html#899" class="Bound">C</a> <a id="973" href="Data.Container.Core.html#763" class="Function Operator">⟧</a> <a id="975" href="Codata.Guarded.M.html#947" class="Bound">S</a><a id="976" class="Symbol">)</a> <a id="978" class="Keyword">where</a>

  <a id="987" href="Codata.Guarded.M.html#987" class="Function">unfold</a> <a id="994" class="Symbol">:</a> <a id="996" href="Codata.Guarded.M.html#947" class="Bound">S</a> <a id="998" class="Symbol">→</a> <a id="1000" href="Codata.Guarded.M.html#486" class="Record">M</a> <a id="1002" href="Codata.Guarded.M.html#899" class="Bound">C</a>
  <a id="1006" href="Codata.Guarded.M.html#987" class="Function">unfold</a> <a id="1013" href="Codata.Guarded.M.html#1013" class="Bound">seed</a> <a id="1018" class="Symbol">.</a><a id="1019" href="Codata.Guarded.M.html#599" class="Field">head</a> <a id="1024" class="Symbol">=</a> <a id="1026" href="Codata.Guarded.M.html#959" class="Bound">alg</a> <a id="1030" href="Codata.Guarded.M.html#1013" class="Bound">seed</a> <a id="1035" class="Symbol">.</a><a id="1036" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="1044" href="Codata.Guarded.M.html#987" class="Function">unfold</a> <a id="1051" href="Codata.Guarded.M.html#1051" class="Bound">seed</a> <a id="1056" class="Symbol">.</a><a id="1057" href="Codata.Guarded.M.html#616" class="Field">tail</a> <a id="1062" href="Codata.Guarded.M.html#1062" class="Bound">p</a> <a id="1064" class="Symbol">=</a> <a id="1066" href="Codata.Guarded.M.html#987" class="Function">unfold</a> <a id="1073" class="Symbol">(</a><a id="1074" href="Codata.Guarded.M.html#959" class="Bound">alg</a> <a id="1078" href="Codata.Guarded.M.html#1051" class="Bound">seed</a> <a id="1083" class="Symbol">.</a><a id="1084" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="1090" href="Codata.Guarded.M.html#1062" class="Bound">p</a><a id="1091" class="Symbol">)</a>
</pre></body></html>