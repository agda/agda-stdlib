<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Text.Pretty</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Pretty Printing</a>
<a id="125" class="Comment">-- This module is based on Jean-Philippe Bernardy&#39;s functional pearl</a>
<a id="194" class="Comment">-- &quot;A Pretty But Not Greedy Printer&quot;</a>
<a id="231" class="Comment">------------------------------------------------------------------------</a>

<a id="305" class="Symbol">{-#</a> <a id="309" class="Keyword">OPTIONS</a> <a id="317" class="Pragma">--with-K</a> <a id="326" class="Symbol">#-}</a>

<a id="331" class="Keyword">open</a> <a id="336" class="Keyword">import</a> <a id="343" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="357" class="Keyword">using</a> <a id="363" class="Symbol">(</a><a id="364" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="365" class="Symbol">)</a>

<a id="368" class="Keyword">module</a> <a id="375" href="Text.Pretty.html" class="Module">Text.Pretty</a> <a id="387" class="Symbol">(</a><a id="388" href="Text.Pretty.html#388" class="Bound">width</a> <a id="394" class="Symbol">:</a> <a id="396" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="397" class="Symbol">)</a> <a id="399" class="Keyword">where</a>

<a id="406" class="Keyword">import</a> <a id="413" href="Level.html" class="Module">Level</a>
<a id="419" class="Keyword">open</a> <a id="424" class="Keyword">import</a> <a id="431" href="Data.Char.Base.html" class="Module">Data.Char.Base</a> <a id="446" class="Keyword">using</a> <a id="452" class="Symbol">(</a><a id="453" href="Agda.Builtin.Char.html#238" class="Postulate">Char</a><a id="457" class="Symbol">)</a>
<a id="459" class="Keyword">open</a> <a id="464" class="Keyword">import</a> <a id="471" href="Data.List.Base.html" class="Module">Data.List.Base</a>
  <a id="488" class="Keyword">using</a> <a id="494" class="Symbol">(</a><a id="495" href="Agda.Builtin.List.html#147" class="Datatype">List</a><a id="499" class="Symbol">;</a> <a id="501" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">_∷_</a><a id="504" class="Symbol">;</a> <a id="506" href="Data.List.Base.html#7599" class="InductiveConstructor">[]</a><a id="508" class="Symbol">;</a> <a id="510" href="Data.List.Base.html#5205" class="Function Operator">[_]</a><a id="513" class="Symbol">;</a> <a id="515" href="Data.List.Base.html#8345" class="Function">uncons</a><a id="521" class="Symbol">;</a> <a id="523" href="Data.List.Base.html#1734" class="Function Operator">_++_</a><a id="527" class="Symbol">;</a> <a id="529" href="Data.List.Base.html#1634" class="Function">map</a><a id="532" class="Symbol">;</a> <a id="534" href="Data.List.Base.html#10687" class="Function">filter</a><a id="540" class="Symbol">)</a>
<a id="542" class="Keyword">open</a> <a id="547" class="Keyword">import</a> <a id="554" href="Data.List.NonEmpty.html" class="Module">Data.List.NonEmpty</a> <a id="573" class="Symbol">as</a> <a id="576" class="Module">List⁺</a> <a id="582" class="Keyword">using</a> <a id="588" class="Symbol">(</a><a id="589" href="Data.List.NonEmpty.Base.html#2978" class="Function">foldr₁</a><a id="595" class="Symbol">)</a>
<a id="597" class="Keyword">open</a> <a id="602" class="Keyword">import</a> <a id="609" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="625" class="Keyword">using</a> <a id="631" class="Symbol">(</a><a id="632" href="Data.Maybe.Base.html#1468" class="Function">maybe′</a><a id="638" class="Symbol">)</a>
<a id="640" class="Keyword">open</a> <a id="645" class="Keyword">import</a> <a id="652" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="670" class="Keyword">using</a> <a id="676" class="Symbol">(</a><a id="677" href="Data.Product.Base.html#3109" class="Function">uncurry</a><a id="684" class="Symbol">)</a>
<a id="686" class="Keyword">open</a> <a id="691" class="Keyword">import</a> <a id="698" href="Data.String.Base.html" class="Module">Data.String.Base</a> <a id="715" class="Keyword">using</a> <a id="721" class="Symbol">(</a><a id="722" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="728" class="Symbol">;</a> <a id="730" href="Data.String.Base.html#1591" class="Primitive">fromList</a><a id="738" class="Symbol">;</a> <a id="740" href="Data.String.Base.html#2540" class="Function">replicate</a><a id="749" class="Symbol">)</a>
<a id="751" class="Keyword">open</a> <a id="756" class="Keyword">import</a> <a id="763" href="Function.Base.html" class="Module">Function.Base</a> <a id="777" class="Keyword">using</a> <a id="783" class="Symbol">(</a><a id="784" href="Function.Base.html#1115" class="Function Operator">_∘_</a><a id="787" class="Symbol">;</a> <a id="789" href="Function.Base.html#3626" class="Function Operator">_∘′_</a><a id="793" class="Symbol">;</a> <a id="795" href="Function.Base.html#1974" class="Function Operator">_$_</a><a id="798" class="Symbol">)</a>

<a id="801" class="Keyword">open</a> <a id="806" class="Keyword">import</a> <a id="813" href="Effect.Monad.html" class="Module">Effect.Monad</a> <a id="826" class="Keyword">using</a> <a id="832" class="Symbol">(</a><a id="833" href="Effect.Monad.html#779" class="Record">RawMonad</a><a id="841" class="Symbol">)</a>
<a id="843" class="Keyword">import</a> <a id="850" href="Data.List.Effectful.html" class="Module">Data.List.Effectful</a> <a id="870" class="Symbol">as</a> <a id="873" class="Module">List</a>
<a id="878" class="Keyword">open</a> <a id="883" href="Effect.Monad.html#779" class="Module">RawMonad</a> <a id="892" class="Symbol">(</a><a id="893" href="Data.List.Effectful.html#1941" class="Function">List.monad</a> <a id="904" class="Symbol">{</a><a id="905" href="Agda.Primitive.html#915" class="Primitive">Level.zero</a><a id="915" class="Symbol">})</a>

<a id="919" class="Keyword">import</a> <a id="926" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="946" class="Symbol">as</a> <a id="949" class="Module">ℕ</a>
<a id="951" class="Keyword">open</a> <a id="956" class="Keyword">import</a> <a id="963" href="Data.List.Extrema.Core.html" class="Module">Data.List.Extrema.Core</a> <a id="986" href="Data.Nat.Properties.html#7976" class="Function">ℕ.≤-totalOrder</a> <a id="1001" class="Keyword">using</a> <a id="1007" class="Symbol">(</a><a id="1008" href="Data.List.Extrema.Core.html#2077" class="Function">⊓ᴸ</a><a id="1010" class="Symbol">)</a>

<a id="1013" class="Comment">------------------------------------------------------------------------</a>
<a id="1086" class="Comment">-- Internal representation of documents and rendering function</a>

<a id="1150" class="Keyword">import</a> <a id="1157" href="Text.Pretty.Core.html" class="Module">Text.Pretty.Core</a> <a id="1174" class="Symbol">as</a> <a id="1177" class="Module">Core</a>

<a id="1183" class="Keyword">record</a> <a id="Doc"></a><a id="1190" href="Text.Pretty.html#1190" class="Record">Doc</a> <a id="1194" class="Symbol">:</a> <a id="1196" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1200" class="Keyword">where</a>
  <a id="1208" class="Keyword">constructor</a> <a id="mkDoc"></a><a id="1220" href="Text.Pretty.html#1220" class="InductiveConstructor">mkDoc</a>
  <a id="1228" class="Keyword">field</a> <a id="Doc.runDoc"></a><a id="1234" href="Text.Pretty.html#1234" class="Field">runDoc</a> <a id="1241" class="Symbol">:</a> <a id="1243" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1248" href="Text.Pretty.Core.html#2659" class="Record">Core.Block</a>
<a id="1259" class="Keyword">open</a> <a id="1264" href="Text.Pretty.html#1190" class="Module">Doc</a> <a id="1268" class="Keyword">public</a>

<a id="render"></a><a id="1276" href="Text.Pretty.html#1276" class="Function">render</a> <a id="1283" class="Symbol">:</a> <a id="1285" href="Text.Pretty.html#1190" class="Record">Doc</a> <a id="1289" class="Symbol">→</a> <a id="1291" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
<a id="1298" href="Text.Pretty.html#1276" class="Function">render</a> <a id="1305" class="Symbol">=</a> <a id="1307" href="Text.Pretty.Core.html#12033" class="Function">Core.render</a>
       <a id="1326" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1328" href="Data.Maybe.Base.html#1468" class="Function">maybe′</a> <a id="1335" class="Symbol">(</a><a id="1336" href="Data.List.NonEmpty.Base.html#2978" class="Function">foldr₁</a> <a id="1343" class="Symbol">(</a><a id="1344" href="Data.List.Extrema.Core.html#2077" class="Function">⊓ᴸ</a> <a id="1347" href="Text.Pretty.Core.html#2689" class="Field">Core.Block.height</a><a id="1364" class="Symbol">)</a> <a id="1366" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="1369" href="Data.Product.Base.html#3109" class="Function">uncurry</a> <a id="1377" href="Data.List.NonEmpty.Base.html#1275" class="InductiveConstructor Operator">List⁺._∷_</a><a id="1386" class="Symbol">)</a> <a id="1388" href="Text.Pretty.Core.html#3341" class="Function">Core.empty</a>
       <a id="1406" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1408" href="Data.List.Base.html#8345" class="Function">uncons</a>
       <a id="1422" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="1425" href="Text.Pretty.html#1234" class="Field">runDoc</a>

<a id="1433" class="Comment">------------------------------------------------------------------------</a>
<a id="1506" class="Comment">-- Basic building blocks</a>

<a id="fail"></a><a id="1532" href="Text.Pretty.html#1532" class="Function">fail</a> <a id="1537" class="Symbol">:</a> <a id="1539" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="1543" href="Text.Pretty.html#1532" class="Function">fail</a> <a id="1548" class="Symbol">=</a> <a id="1550" href="Text.Pretty.html#1220" class="InductiveConstructor">mkDoc</a> <a id="1556" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

<a id="text"></a><a id="1560" href="Text.Pretty.html#1560" class="Function">text</a> <a id="1565" class="Symbol">:</a> <a id="1567" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="1574" class="Symbol">→</a> <a id="1576" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="1580" href="Text.Pretty.html#1560" class="Function">text</a> <a id="1585" class="Symbol">=</a> <a id="1587" href="Text.Pretty.html#1220" class="InductiveConstructor">mkDoc</a> <a id="1593" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="1596" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="1603" class="Symbol">(</a><a id="1604" href="Text.Pretty.Core.html#12204" class="Function">Core.valid</a> <a id="1615" href="Text.Pretty.html#388" class="Bound">width</a><a id="1620" class="Symbol">)</a> <a id="1622" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1624" href="Effect.Applicative.html#1147" class="Function">pure</a> <a id="1629" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1631" href="Text.Pretty.Core.html#3024" class="Function">Core.text</a>

<a id="empty"></a><a id="1642" href="Text.Pretty.html#1642" class="Function">empty</a> <a id="1648" class="Symbol">:</a> <a id="1650" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="1654" href="Text.Pretty.html#1642" class="Function">empty</a> <a id="1660" class="Symbol">=</a> <a id="1662" href="Text.Pretty.html#1560" class="Function">text</a> <a id="1667" class="String">&quot;&quot;</a>

<a id="char"></a><a id="1671" href="Text.Pretty.html#1671" class="Function">char</a> <a id="1676" class="Symbol">:</a> <a id="1678" href="Agda.Builtin.Char.html#238" class="Postulate">Char</a> <a id="1683" class="Symbol">→</a> <a id="1685" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="1689" href="Text.Pretty.html#1671" class="Function">char</a> <a id="1694" href="Text.Pretty.html#1694" class="Bound">c</a> <a id="1696" class="Symbol">=</a> <a id="1698" href="Text.Pretty.html#1560" class="Function">text</a> <a id="1703" class="Symbol">(</a><a id="1704" href="Data.String.Base.html#1591" class="Primitive">fromList</a> <a id="1713" class="Symbol">(</a><a id="1714" href="Text.Pretty.html#1694" class="Bound">c</a> <a id="1716" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1718" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1720" class="Symbol">))</a>

<a id="spaces"></a><a id="1724" href="Text.Pretty.html#1724" class="Function">spaces</a> <a id="1731" class="Symbol">:</a> <a id="1733" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1735" class="Symbol">→</a> <a id="1737" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="1741" href="Text.Pretty.html#1724" class="Function">spaces</a> <a id="1748" href="Text.Pretty.html#1748" class="Bound">n</a> <a id="1750" class="Symbol">=</a> <a id="1752" href="Text.Pretty.html#1560" class="Function">text</a> <a id="1757" class="Symbol">(</a><a id="1758" href="Data.String.Base.html#2540" class="Function">replicate</a> <a id="1768" href="Text.Pretty.html#1748" class="Bound">n</a> <a id="1770" class="String">&#39; &#39;</a><a id="1773" class="Symbol">)</a>

<a id="semi"></a><a id="1776" href="Text.Pretty.html#1776" class="Function">semi</a> <a id="colon"></a><a id="1781" href="Text.Pretty.html#1781" class="Function">colon</a> <a id="comma"></a><a id="1787" href="Text.Pretty.html#1787" class="Function">comma</a> <a id="space"></a><a id="1793" href="Text.Pretty.html#1793" class="Function">space</a> <a id="dot"></a><a id="1799" href="Text.Pretty.html#1799" class="Function">dot</a> <a id="1803" class="Symbol">:</a> <a id="1805" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="1809" href="Text.Pretty.html#1776" class="Function">semi</a> <a id="1814" class="Symbol">=</a> <a id="1816" href="Text.Pretty.html#1671" class="Function">char</a> <a id="1821" class="String">&#39;;&#39;</a><a id="1824" class="Symbol">;</a> <a id="1826" href="Text.Pretty.html#1781" class="Function">colon</a> <a id="1832" class="Symbol">=</a> <a id="1834" href="Text.Pretty.html#1671" class="Function">char</a> <a id="1839" class="String">&#39;:&#39;</a>
<a id="1843" href="Text.Pretty.html#1787" class="Function">comma</a> <a id="1849" class="Symbol">=</a> <a id="1851" href="Text.Pretty.html#1671" class="Function">char</a> <a id="1856" class="String">&#39;,&#39;</a><a id="1859" class="Symbol">;</a> <a id="1861" href="Text.Pretty.html#1793" class="Function">space</a> <a id="1867" class="Symbol">=</a> <a id="1869" href="Text.Pretty.html#1671" class="Function">char</a> <a id="1874" class="String">&#39; &#39;</a><a id="1877" class="Symbol">;</a> <a id="1879" href="Text.Pretty.html#1799" class="Function">dot</a> <a id="1883" class="Symbol">=</a> <a id="1885" href="Text.Pretty.html#1671" class="Function">char</a> <a id="1890" class="String">&#39;.&#39;</a>

<a id="backslash"></a><a id="1895" href="Text.Pretty.html#1895" class="Function">backslash</a> <a id="forwardslash"></a><a id="1905" href="Text.Pretty.html#1905" class="Function">forwardslash</a> <a id="equal"></a><a id="1918" href="Text.Pretty.html#1918" class="Function">equal</a> <a id="1924" class="Symbol">:</a> <a id="1926" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="1930" href="Text.Pretty.html#1895" class="Function">backslash</a> <a id="1940" class="Symbol">=</a> <a id="1942" href="Text.Pretty.html#1671" class="Function">char</a> <a id="1947" class="String">&#39;\\&#39;</a><a id="1951" class="Symbol">;</a> <a id="1953" href="Text.Pretty.html#1905" class="Function">forwardslash</a> <a id="1966" class="Symbol">=</a> <a id="1968" href="Text.Pretty.html#1671" class="Function">char</a> <a id="1973" class="String">&#39;/&#39;</a><a id="1976" class="Symbol">;</a> <a id="1978" href="Text.Pretty.html#1918" class="Function">equal</a> <a id="1984" class="Symbol">=</a> <a id="1986" href="Text.Pretty.html#1671" class="Function">char</a> <a id="1991" class="String">&#39;=&#39;</a>

<a id="squote"></a><a id="1996" href="Text.Pretty.html#1996" class="Function">squote</a> <a id="dquote"></a><a id="2003" href="Text.Pretty.html#2003" class="Function">dquote</a> <a id="2010" class="Symbol">:</a> <a id="2012" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="2016" href="Text.Pretty.html#1996" class="Function">squote</a> <a id="2023" class="Symbol">=</a> <a id="2025" href="Text.Pretty.html#1671" class="Function">char</a> <a id="2030" class="String">&#39;\&#39;&#39;</a><a id="2034" class="Symbol">;</a> <a id="2036" href="Text.Pretty.html#2003" class="Function">dquote</a> <a id="2043" class="Symbol">=</a> <a id="2045" href="Text.Pretty.html#1671" class="Function">char</a> <a id="2050" class="String">&#39;&quot;&#39;</a>

<a id="lparen"></a><a id="2055" href="Text.Pretty.html#2055" class="Function">lparen</a> <a id="rparen"></a><a id="2062" href="Text.Pretty.html#2062" class="Function">rparen</a> <a id="langle"></a><a id="2069" href="Text.Pretty.html#2069" class="Function">langle</a> <a id="rangle"></a><a id="2076" href="Text.Pretty.html#2076" class="Function">rangle</a> <a id="2083" class="Symbol">:</a> <a id="2085" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="2089" href="Text.Pretty.html#2055" class="Function">lparen</a> <a id="2096" class="Symbol">=</a> <a id="2098" href="Text.Pretty.html#1671" class="Function">char</a> <a id="2103" class="String">&#39;(&#39;</a><a id="2106" class="Symbol">;</a> <a id="2108" href="Text.Pretty.html#2062" class="Function">rparen</a> <a id="2115" class="Symbol">=</a> <a id="2117" href="Text.Pretty.html#1671" class="Function">char</a> <a id="2122" class="String">&#39;)&#39;</a>
<a id="2126" href="Text.Pretty.html#2069" class="Function">langle</a> <a id="2133" class="Symbol">=</a> <a id="2135" href="Text.Pretty.html#1671" class="Function">char</a> <a id="2140" class="String">&#39;&lt;&#39;</a><a id="2143" class="Symbol">;</a> <a id="2145" href="Text.Pretty.html#2076" class="Function">rangle</a> <a id="2152" class="Symbol">=</a> <a id="2154" href="Text.Pretty.html#1671" class="Function">char</a> <a id="2159" class="String">&#39;&gt;&#39;</a>

<a id="lbrace"></a><a id="2164" href="Text.Pretty.html#2164" class="Function">lbrace</a> <a id="rbrace"></a><a id="2171" href="Text.Pretty.html#2171" class="Function">rbrace</a> <a id="llbrace"></a><a id="2178" href="Text.Pretty.html#2178" class="Function">llbrace</a> <a id="rrbrace"></a><a id="2186" href="Text.Pretty.html#2186" class="Function">rrbrace</a> <a id="2194" class="Symbol">:</a> <a id="2196" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="2200" href="Text.Pretty.html#2164" class="Function">lbrace</a> <a id="2207" class="Symbol">=</a> <a id="2209" href="Text.Pretty.html#1671" class="Function">char</a> <a id="2214" class="String">&#39;{&#39;</a><a id="2217" class="Symbol">;</a> <a id="2219" href="Text.Pretty.html#2171" class="Function">rbrace</a> <a id="2226" class="Symbol">=</a> <a id="2228" href="Text.Pretty.html#1671" class="Function">char</a> <a id="2233" class="String">&#39;}&#39;</a>
<a id="2237" href="Text.Pretty.html#2178" class="Function">llbrace</a> <a id="2245" class="Symbol">=</a> <a id="2247" href="Text.Pretty.html#1671" class="Function">char</a> <a id="2252" class="String">&#39;⦃&#39;</a><a id="2255" class="Symbol">;</a> <a id="2257" href="Text.Pretty.html#2186" class="Function">rrbrace</a> <a id="2265" class="Symbol">=</a> <a id="2267" href="Text.Pretty.html#1671" class="Function">char</a> <a id="2272" class="String">&#39;⦄&#39;</a>

<a id="lbracket"></a><a id="2277" href="Text.Pretty.html#2277" class="Function">lbracket</a> <a id="rbracket"></a><a id="2286" href="Text.Pretty.html#2286" class="Function">rbracket</a> <a id="llbracket"></a><a id="2295" href="Text.Pretty.html#2295" class="Function">llbracket</a> <a id="rrbracket"></a><a id="2305" href="Text.Pretty.html#2305" class="Function">rrbracket</a> <a id="2315" class="Symbol">:</a> <a id="2317" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="2321" href="Text.Pretty.html#2277" class="Function">lbracket</a> <a id="2330" class="Symbol">=</a> <a id="2332" href="Text.Pretty.html#1671" class="Function">char</a> <a id="2337" class="String">&#39;[&#39;</a><a id="2340" class="Symbol">;</a> <a id="2342" href="Text.Pretty.html#2286" class="Function">rbracket</a> <a id="2351" class="Symbol">=</a> <a id="2353" href="Text.Pretty.html#1671" class="Function">char</a> <a id="2358" class="String">&#39;]&#39;</a>
<a id="2362" href="Text.Pretty.html#2295" class="Function">llbracket</a> <a id="2372" class="Symbol">=</a> <a id="2374" href="Text.Pretty.html#1671" class="Function">char</a> <a id="2379" class="String">&#39;⟦&#39;</a><a id="2382" class="Symbol">;</a> <a id="2384" href="Text.Pretty.html#2305" class="Function">rrbracket</a> <a id="2394" class="Symbol">=</a> <a id="2396" href="Text.Pretty.html#1671" class="Function">char</a> <a id="2401" class="String">&#39;⟧&#39;</a>

<a id="2406" class="Comment">------------------------------------------------------------------------</a>
<a id="2479" class="Comment">-- Combining two documents</a>

<a id="2507" class="Keyword">infixr</a> <a id="2514" class="Number">5</a> <a id="2516" href="Text.Pretty.html#2521" class="Function Operator">_&lt;&gt;_</a>
<a id="_&lt;&gt;_"></a><a id="2521" href="Text.Pretty.html#2521" class="Function Operator">_&lt;&gt;_</a> <a id="2526" class="Symbol">:</a> <a id="2528" href="Text.Pretty.html#1190" class="Record">Doc</a> <a id="2532" class="Symbol">→</a> <a id="2534" href="Text.Pretty.html#1190" class="Record">Doc</a> <a id="2538" class="Symbol">→</a> <a id="2540" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="2544" href="Text.Pretty.html#2544" class="Bound">xs</a> <a id="2547" href="Text.Pretty.html#2521" class="Function Operator">&lt;&gt;</a> <a id="2550" href="Text.Pretty.html#2550" class="Bound">ys</a> <a id="2553" class="Symbol">=</a> <a id="2555" href="Text.Pretty.html#1220" class="InductiveConstructor">mkDoc</a> <a id="2561" href="Function.Base.html#1974" class="Function Operator">$</a>
  <a id="2565" class="Keyword">let</a> <a id="2569" href="Text.Pretty.html#2569" class="Bound">candidates</a> <a id="2580" class="Symbol">=</a> <a id="2582" href="Text.Pretty.Core.html#10332" class="Function Operator">Core._&lt;&gt;_</a> <a id="2592" href="Effect.Functor.html#687" class="Function Operator">&lt;$&gt;</a> <a id="2596" href="Text.Pretty.html#1234" class="Field">runDoc</a> <a id="2603" href="Text.Pretty.html#2544" class="Bound">xs</a> <a id="2606" href="Effect.Applicative.html#1605" class="Function Operator">⊛</a> <a id="2608" href="Text.Pretty.html#1234" class="Field">runDoc</a> <a id="2615" href="Text.Pretty.html#2550" class="Bound">ys</a> <a id="2618" class="Keyword">in</a>
  <a id="2623" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="2630" class="Symbol">(</a><a id="2631" href="Text.Pretty.Core.html#12204" class="Function">Core.valid</a> <a id="2642" href="Text.Pretty.html#388" class="Bound">width</a><a id="2647" class="Symbol">)</a> <a id="2649" href="Text.Pretty.html#2569" class="Bound">candidates</a>


<a id="flush"></a><a id="2662" href="Text.Pretty.html#2662" class="Function">flush</a> <a id="2668" class="Symbol">:</a> <a id="2670" href="Text.Pretty.html#1190" class="Record">Doc</a> <a id="2674" class="Symbol">→</a> <a id="2676" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="2680" href="Text.Pretty.html#2662" class="Function">flush</a> <a id="2686" class="Symbol">=</a> <a id="2688" href="Text.Pretty.html#1220" class="InductiveConstructor">mkDoc</a> <a id="2694" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="2697" href="Data.List.Base.html#1634" class="Function">map</a> <a id="2701" href="Text.Pretty.Core.html#11888" class="Function">Core.flush</a> <a id="2712" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="2715" href="Text.Pretty.html#1234" class="Field">runDoc</a>

<a id="2723" class="Keyword">infixr</a> <a id="2730" class="Number">5</a> <a id="2732" href="Text.Pretty.html#2738" class="Function Operator">_&lt;+&gt;_</a>
<a id="_&lt;+&gt;_"></a><a id="2738" href="Text.Pretty.html#2738" class="Function Operator">_&lt;+&gt;_</a> <a id="2744" class="Symbol">:</a> <a id="2746" href="Text.Pretty.html#1190" class="Record">Doc</a> <a id="2750" class="Symbol">→</a> <a id="2752" href="Text.Pretty.html#1190" class="Record">Doc</a> <a id="2756" class="Symbol">→</a> <a id="2758" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="2762" href="Text.Pretty.html#2762" class="Bound">x</a> <a id="2764" href="Text.Pretty.html#2738" class="Function Operator">&lt;+&gt;</a> <a id="2768" href="Text.Pretty.html#2768" class="Bound">y</a> <a id="2770" class="Symbol">=</a> <a id="2772" href="Text.Pretty.html#2762" class="Bound">x</a> <a id="2774" href="Text.Pretty.html#2521" class="Function Operator">&lt;&gt;</a> <a id="2777" href="Text.Pretty.html#1793" class="Function">space</a> <a id="2783" href="Text.Pretty.html#2521" class="Function Operator">&lt;&gt;</a> <a id="2786" href="Text.Pretty.html#2768" class="Bound">y</a>

<a id="2789" class="Keyword">infixr</a> <a id="2796" class="Number">5</a> <a id="2798" href="Text.Pretty.html#2803" class="Function Operator">_$$_</a>
<a id="_$$_"></a><a id="2803" href="Text.Pretty.html#2803" class="Function Operator">_$$_</a> <a id="2808" class="Symbol">:</a> <a id="2810" href="Text.Pretty.html#1190" class="Record">Doc</a> <a id="2814" class="Symbol">→</a> <a id="2816" href="Text.Pretty.html#1190" class="Record">Doc</a> <a id="2820" class="Symbol">→</a> <a id="2822" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="2826" href="Text.Pretty.html#2826" class="Bound">x</a> <a id="2828" href="Text.Pretty.html#2803" class="Function Operator">$$</a> <a id="2831" href="Text.Pretty.html#2831" class="Bound">y</a> <a id="2833" class="Symbol">=</a> <a id="2835" href="Text.Pretty.html#2662" class="Function">flush</a> <a id="2841" href="Text.Pretty.html#2826" class="Bound">x</a> <a id="2843" href="Text.Pretty.html#2521" class="Function Operator">&lt;&gt;</a> <a id="2846" href="Text.Pretty.html#2831" class="Bound">y</a>

<a id="2849" class="Keyword">infixr</a> <a id="2856" class="Number">4</a> <a id="2858" href="Text.Pretty.html#2864" class="Function Operator">_&lt;|&gt;_</a>
<a id="_&lt;|&gt;_"></a><a id="2864" href="Text.Pretty.html#2864" class="Function Operator">_&lt;|&gt;_</a> <a id="2870" class="Symbol">:</a> <a id="2872" href="Text.Pretty.html#1190" class="Record">Doc</a> <a id="2876" class="Symbol">→</a> <a id="2878" href="Text.Pretty.html#1190" class="Record">Doc</a> <a id="2882" class="Symbol">→</a> <a id="2884" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="2888" href="Text.Pretty.html#2888" class="Bound">x</a> <a id="2890" href="Text.Pretty.html#2864" class="Function Operator">&lt;|&gt;</a> <a id="2894" href="Text.Pretty.html#2894" class="Bound">y</a> <a id="2896" class="Symbol">=</a> <a id="2898" href="Text.Pretty.html#1220" class="InductiveConstructor">mkDoc</a> <a id="2904" class="Symbol">(</a><a id="2905" href="Text.Pretty.html#1234" class="Field">runDoc</a> <a id="2912" href="Text.Pretty.html#2888" class="Bound">x</a> <a id="2914" href="Data.List.Base.html#1734" class="Function Operator">++</a> <a id="2917" href="Text.Pretty.html#1234" class="Field">runDoc</a> <a id="2924" href="Text.Pretty.html#2894" class="Bound">y</a><a id="2925" class="Symbol">)</a>

<a id="2928" class="Comment">------------------------------------------------------------------------</a>
<a id="3001" class="Comment">-- Combining lists of documents</a>

<a id="foldDoc"></a><a id="3034" href="Text.Pretty.html#3034" class="Function">foldDoc</a> <a id="3042" class="Symbol">:</a> <a id="3044" class="Symbol">(</a><a id="3045" href="Text.Pretty.html#1190" class="Record">Doc</a> <a id="3049" class="Symbol">→</a> <a id="3051" href="Text.Pretty.html#1190" class="Record">Doc</a> <a id="3055" class="Symbol">→</a> <a id="3057" href="Text.Pretty.html#1190" class="Record">Doc</a><a id="3060" class="Symbol">)</a> <a id="3062" class="Symbol">→</a> <a id="3064" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3069" href="Text.Pretty.html#1190" class="Record">Doc</a> <a id="3073" class="Symbol">→</a> <a id="3075" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="3079" href="Text.Pretty.html#3034" class="Function">foldDoc</a> <a id="3087" class="Symbol">_</a> <a id="3089" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>       <a id="3098" class="Symbol">=</a> <a id="3100" href="Text.Pretty.html#1642" class="Function">empty</a>
<a id="3106" href="Text.Pretty.html#3034" class="Function">foldDoc</a> <a id="3114" class="Symbol">_</a> <a id="3116" class="Symbol">(</a><a id="3117" href="Text.Pretty.html#3117" class="Bound">x</a> <a id="3119" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3121" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3123" class="Symbol">)</a> <a id="3125" class="Symbol">=</a> <a id="3127" href="Text.Pretty.html#3117" class="Bound">x</a>
<a id="3129" href="Text.Pretty.html#3034" class="CatchallClause Function">foldDoc</a><a id="3136" class="CatchallClause"> </a><a id="3137" href="Text.Pretty.html#3137" class="CatchallClause Bound">f</a><a id="3138" class="CatchallClause"> </a><a id="3139" class="CatchallClause Symbol">(</a><a id="3140" href="Text.Pretty.html#3140" class="CatchallClause Bound">x</a><a id="3141" class="CatchallClause"> </a><a id="3142" href="Agda.Builtin.List.html#199" class="CatchallClause InductiveConstructor Operator">∷</a><a id="3143" class="CatchallClause"> </a><a id="3144" href="Text.Pretty.html#3144" class="CatchallClause Bound">xs</a><a id="3146" class="CatchallClause Symbol">)</a> <a id="3148" class="Symbol">=</a> <a id="3150" href="Text.Pretty.html#3137" class="Bound">f</a> <a id="3152" href="Text.Pretty.html#3140" class="Bound">x</a> <a id="3154" class="Symbol">(</a><a id="3155" href="Text.Pretty.html#3034" class="Function">foldDoc</a> <a id="3163" href="Text.Pretty.html#3137" class="Bound">f</a> <a id="3165" href="Text.Pretty.html#3144" class="Bound">xs</a><a id="3167" class="Symbol">)</a>

<a id="hsep"></a><a id="3170" href="Text.Pretty.html#3170" class="Function">hsep</a> <a id="vcat"></a><a id="3175" href="Text.Pretty.html#3175" class="Function">vcat</a> <a id="3180" class="Symbol">:</a> <a id="3182" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3187" href="Text.Pretty.html#1190" class="Record">Doc</a> <a id="3191" class="Symbol">→</a> <a id="3193" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="3197" href="Text.Pretty.html#3170" class="Function">hsep</a> <a id="3202" class="Symbol">=</a> <a id="3204" href="Text.Pretty.html#3034" class="Function">foldDoc</a> <a id="3212" href="Text.Pretty.html#2738" class="Function Operator">_&lt;+&gt;_</a>
<a id="3218" href="Text.Pretty.html#3175" class="Function">vcat</a> <a id="3223" class="Symbol">=</a> <a id="3225" href="Text.Pretty.html#3034" class="Function">foldDoc</a> <a id="3233" href="Text.Pretty.html#2803" class="Function Operator">_$$_</a>

<a id="sep"></a><a id="3239" href="Text.Pretty.html#3239" class="Function">sep</a> <a id="3243" class="Symbol">:</a> <a id="3245" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3250" href="Text.Pretty.html#1190" class="Record">Doc</a> <a id="3254" class="Symbol">→</a> <a id="3256" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="3260" href="Text.Pretty.html#3239" class="Function">sep</a> <a id="3264" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="3267" class="Symbol">=</a> <a id="3269" href="Text.Pretty.html#1642" class="Function">empty</a>
<a id="3275" href="Text.Pretty.html#3239" class="CatchallClause Function">sep</a><a id="3278" class="CatchallClause"> </a><a id="3279" href="Text.Pretty.html#3279" class="CatchallClause Bound">xs</a> <a id="3282" class="Symbol">=</a> <a id="3284" href="Text.Pretty.html#3170" class="Function">hsep</a> <a id="3289" href="Text.Pretty.html#3279" class="Bound">xs</a> <a id="3292" href="Text.Pretty.html#2864" class="Function Operator">&lt;|&gt;</a> <a id="3296" href="Text.Pretty.html#3175" class="Function">vcat</a> <a id="3301" href="Text.Pretty.html#3279" class="Bound">xs</a>

<a id="3305" class="Comment">------------------------------------------------------------------------</a>
<a id="3378" class="Comment">-- Defined combinators</a>

<a id="parens"></a><a id="3402" href="Text.Pretty.html#3402" class="Function">parens</a> <a id="3409" class="Symbol">:</a> <a id="3411" href="Text.Pretty.html#1190" class="Record">Doc</a> <a id="3415" class="Symbol">→</a> <a id="3417" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="3421" href="Text.Pretty.html#3402" class="Function">parens</a> <a id="3428" href="Text.Pretty.html#3428" class="Bound">d</a> <a id="3430" class="Symbol">=</a> <a id="3432" href="Text.Pretty.html#2055" class="Function">lparen</a> <a id="3439" href="Text.Pretty.html#2521" class="Function Operator">&lt;&gt;</a> <a id="3442" href="Text.Pretty.html#3428" class="Bound">d</a> <a id="3444" href="Text.Pretty.html#2521" class="Function Operator">&lt;&gt;</a> <a id="3447" href="Text.Pretty.html#2062" class="Function">rparen</a>

<a id="commaSep"></a><a id="3455" href="Text.Pretty.html#3455" class="Function">commaSep</a> <a id="3464" class="Symbol">:</a> <a id="3466" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3471" href="Text.Pretty.html#1190" class="Record">Doc</a> <a id="3475" class="Symbol">→</a> <a id="3477" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="3481" href="Text.Pretty.html#3455" class="Function">commaSep</a> <a id="3490" class="Symbol">=</a> <a id="3492" href="Text.Pretty.html#3034" class="Function">foldDoc</a> <a id="3500" class="Symbol">(λ</a> <a id="3503" href="Text.Pretty.html#3503" class="Bound">d</a> <a id="3505" href="Text.Pretty.html#3505" class="Bound">e</a> <a id="3507" class="Symbol">→</a> <a id="3509" href="Text.Pretty.html#3503" class="Bound">d</a> <a id="3511" href="Text.Pretty.html#2521" class="Function Operator">&lt;&gt;</a> <a id="3514" href="Text.Pretty.html#1787" class="Function">comma</a> <a id="3520" href="Text.Pretty.html#2738" class="Function Operator">&lt;+&gt;</a> <a id="3524" href="Text.Pretty.html#3505" class="Bound">e</a><a id="3525" class="Symbol">)</a>

<a id="newline"></a><a id="3528" href="Text.Pretty.html#3528" class="Function">newline</a> <a id="3536" class="Symbol">:</a> <a id="3538" href="Text.Pretty.html#1190" class="Record">Doc</a>
<a id="3542" href="Text.Pretty.html#3528" class="Function">newline</a> <a id="3550" class="Symbol">=</a> <a id="3552" href="Text.Pretty.html#2662" class="Function">flush</a> <a id="3558" href="Text.Pretty.html#1642" class="Function">empty</a>
</pre></body></html>