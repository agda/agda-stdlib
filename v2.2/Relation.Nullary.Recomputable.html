<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Relation.Nullary.Recomputable</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Recomputable types and their algebra as Harrop formulas</a>
<a id="165" class="Comment">------------------------------------------------------------------------</a>

<a id="239" class="Symbol">{-#</a> <a id="243" class="Keyword">OPTIONS</a> <a id="251" class="Pragma">--cubical-compatible</a> <a id="272" class="Pragma">--safe</a> <a id="279" class="Symbol">#-}</a>

<a id="284" class="Keyword">module</a> <a id="291" href="Relation.Nullary.Recomputable.html" class="Module">Relation.Nullary.Recomputable</a> <a id="321" class="Keyword">where</a>

<a id="328" class="Keyword">open</a> <a id="333" class="Keyword">import</a> <a id="340" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a> <a id="362" class="Keyword">using</a> <a id="368" class="Symbol">(</a><a id="369" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="372" class="Symbol">;</a> <a id="374" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="378" class="Symbol">)</a>
<a id="380" class="Keyword">open</a> <a id="385" class="Keyword">import</a> <a id="392" href="Data.Empty.html" class="Module">Data.Empty</a> <a id="403" class="Keyword">using</a> <a id="409" class="Symbol">(</a><a id="410" href="Data.Empty.html#914" class="Function">⊥</a><a id="411" class="Symbol">)</a>
<a id="413" class="Keyword">open</a> <a id="418" class="Keyword">import</a> <a id="425" href="Data.Irrelevant.html" class="Module">Data.Irrelevant</a>
<a id="441" class="Keyword">open</a> <a id="446" class="Keyword">import</a> <a id="453" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="471" class="Keyword">using</a> <a id="477" class="Symbol">(</a><a id="478" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="481" class="Symbol">;</a> <a id="483" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="486" class="Symbol">;</a> <a id="488" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="493" class="Symbol">;</a> <a id="495" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="500" class="Symbol">)</a>
<a id="502" class="Keyword">open</a> <a id="507" class="Keyword">import</a> <a id="514" href="Level.html" class="Module">Level</a> <a id="520" class="Keyword">using</a> <a id="526" class="Symbol">(</a><a id="527" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="532" class="Symbol">)</a>
<a id="534" class="Keyword">open</a> <a id="539" class="Keyword">import</a> <a id="546" href="Relation.Nullary.Negation.Core.html" class="Module">Relation.Nullary.Negation.Core</a> <a id="577" class="Keyword">using</a> <a id="583" class="Symbol">(</a><a id="584" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬_</a><a id="586" class="Symbol">)</a>

<a id="589" class="Keyword">private</a>
  <a id="599" class="Keyword">variable</a>
    <a id="612" href="Relation.Nullary.Recomputable.html#612" class="Generalizable">a</a> <a id="614" href="Relation.Nullary.Recomputable.html#614" class="Generalizable">b</a> <a id="616" class="Symbol">:</a> <a id="618" href="Agda.Primitive.html#742" class="Postulate">Level</a>
    <a id="628" href="Relation.Nullary.Recomputable.html#628" class="Generalizable">A</a> <a id="630" class="Symbol">:</a> <a id="632" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="636" href="Relation.Nullary.Recomputable.html#612" class="Generalizable">a</a>
    <a id="642" href="Relation.Nullary.Recomputable.html#642" class="Generalizable">B</a> <a id="644" class="Symbol">:</a> <a id="646" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="650" href="Relation.Nullary.Recomputable.html#614" class="Generalizable">b</a>

<a id="653" class="Comment">------------------------------------------------------------------------</a>
<a id="726" class="Comment">-- Definition</a>
<a id="740" class="Comment">--</a>
<a id="743" class="Comment">-- The idea of being &#39;recomputable&#39; is that, given an *irrelevant* proof</a>
<a id="816" class="Comment">-- of a proposition `A` (signalled by being a value of type `.A`, all of</a>
<a id="889" class="Comment">-- whose inhabitants are identified up to definitional equality, and hence</a>
<a id="964" class="Comment">-- do *not* admit pattern-matching), one may &#39;promote&#39; such a value to a</a>
<a id="1037" class="Comment">-- &#39;genuine&#39; value of `A`, available for subsequent eg. pattern-matching.</a>

<a id="Recomputable"></a><a id="1112" href="Relation.Nullary.Recomputable.html#1112" class="Function">Recomputable</a> <a id="1125" class="Symbol">:</a> <a id="1127" class="Symbol">(</a><a id="1128" href="Relation.Nullary.Recomputable.html#1128" class="Bound">A</a> <a id="1130" class="Symbol">:</a> <a id="1132" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1136" href="Relation.Nullary.Recomputable.html#612" class="Generalizable">a</a><a id="1137" class="Symbol">)</a> <a id="1139" class="Symbol">→</a> <a id="1141" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1145" href="Relation.Nullary.Recomputable.html#612" class="Generalizable">a</a>
<a id="1147" href="Relation.Nullary.Recomputable.html#1112" class="Function">Recomputable</a> <a id="1160" href="Relation.Nullary.Recomputable.html#1160" class="Bound">A</a> <a id="1162" class="Symbol">=</a> <a id="1164" class="Symbol">.</a><a id="1165" href="Relation.Nullary.Recomputable.html#1160" class="Bound">A</a> <a id="1167" class="Symbol">→</a> <a id="1169" href="Relation.Nullary.Recomputable.html#1160" class="Bound">A</a>

<a id="1172" class="Comment">------------------------------------------------------------------------</a>
<a id="1245" class="Comment">-- Fundamental property: &#39;promotion&#39; is a constant function</a>

<a id="recompute-constant"></a><a id="1306" href="Relation.Nullary.Recomputable.html#1306" class="Function">recompute-constant</a> <a id="1325" class="Symbol">:</a> <a id="1327" class="Symbol">(</a><a id="1328" href="Relation.Nullary.Recomputable.html#1328" class="Bound">r</a> <a id="1330" class="Symbol">:</a> <a id="1332" href="Relation.Nullary.Recomputable.html#1112" class="Function">Recomputable</a> <a id="1345" href="Relation.Nullary.Recomputable.html#628" class="Generalizable">A</a><a id="1346" class="Symbol">)</a> <a id="1348" class="Symbol">(</a><a id="1349" href="Relation.Nullary.Recomputable.html#1349" class="Bound">p</a> <a id="1351" href="Relation.Nullary.Recomputable.html#1351" class="Bound">q</a> <a id="1353" class="Symbol">:</a> <a id="1355" href="Relation.Nullary.Recomputable.html#628" class="Generalizable">A</a><a id="1356" class="Symbol">)</a> <a id="1358" class="Symbol">→</a> <a id="1360" href="Relation.Nullary.Recomputable.html#1328" class="Bound">r</a> <a id="1362" href="Relation.Nullary.Recomputable.html#1349" class="Bound">p</a> <a id="1364" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1366" href="Relation.Nullary.Recomputable.html#1328" class="Bound">r</a> <a id="1368" href="Relation.Nullary.Recomputable.html#1351" class="Bound">q</a>
<a id="1370" href="Relation.Nullary.Recomputable.html#1306" class="Function">recompute-constant</a> <a id="1389" href="Relation.Nullary.Recomputable.html#1389" class="Bound">r</a> <a id="1391" href="Relation.Nullary.Recomputable.html#1391" class="Bound">p</a> <a id="1393" href="Relation.Nullary.Recomputable.html#1393" class="Bound">q</a> <a id="1395" class="Symbol">=</a> <a id="1397" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="1403" class="Comment">------------------------------------------------------------------------</a>
<a id="1476" class="Comment">-- Constructions</a>

<a id="1494" class="Comment">-- Irrelevant types are Recomputable</a>

<a id="irrelevant-recompute"></a><a id="1532" href="Relation.Nullary.Recomputable.html#1532" class="Function">irrelevant-recompute</a> <a id="1553" class="Symbol">:</a> <a id="1555" href="Relation.Nullary.Recomputable.html#1112" class="Function">Recomputable</a> <a id="1568" class="Symbol">(</a><a id="1569" href="Data.Irrelevant.html#725" class="Record">Irrelevant</a> <a id="1580" href="Relation.Nullary.Recomputable.html#628" class="Generalizable">A</a><a id="1581" class="Symbol">)</a>
<a id="1583" href="Data.Irrelevant.html#789" class="Field">irrelevant</a> <a id="1594" class="Symbol">(</a><a id="1595" href="Relation.Nullary.Recomputable.html#1532" class="Function">irrelevant-recompute</a> <a id="1616" href="Data.Irrelevant.html#776" class="InductiveConstructor Operator">[</a> <a id="1618" href="Relation.Nullary.Recomputable.html#1618" class="Bound">a</a> <a id="1620" href="Data.Irrelevant.html#776" class="InductiveConstructor Operator">]</a><a id="1621" class="Symbol">)</a> <a id="1623" class="Symbol">=</a> <a id="1625" href="Relation.Nullary.Recomputable.html#1618" class="Bound">a</a>

<a id="1628" class="Comment">-- Corollary: so too is ⊥</a>

<a id="⊥-recompute"></a><a id="1655" href="Relation.Nullary.Recomputable.html#1655" class="Function">⊥-recompute</a> <a id="1667" class="Symbol">:</a> <a id="1669" href="Relation.Nullary.Recomputable.html#1112" class="Function">Recomputable</a> <a id="1682" href="Data.Empty.html#914" class="Function">⊥</a>
<a id="1684" href="Relation.Nullary.Recomputable.html#1655" class="Function">⊥-recompute</a> <a id="1696" class="Symbol">=</a> <a id="1698" href="Relation.Nullary.Recomputable.html#1532" class="Function">irrelevant-recompute</a>

<a id="_×-recompute_"></a><a id="1720" href="Relation.Nullary.Recomputable.html#1720" class="Function Operator">_×-recompute_</a> <a id="1734" class="Symbol">:</a> <a id="1736" href="Relation.Nullary.Recomputable.html#1112" class="Function">Recomputable</a> <a id="1749" href="Relation.Nullary.Recomputable.html#628" class="Generalizable">A</a> <a id="1751" class="Symbol">→</a> <a id="1753" href="Relation.Nullary.Recomputable.html#1112" class="Function">Recomputable</a> <a id="1766" href="Relation.Nullary.Recomputable.html#642" class="Generalizable">B</a> <a id="1768" class="Symbol">→</a> <a id="1770" href="Relation.Nullary.Recomputable.html#1112" class="Function">Recomputable</a> <a id="1783" class="Symbol">(</a><a id="1784" href="Relation.Nullary.Recomputable.html#628" class="Generalizable">A</a> <a id="1786" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1788" href="Relation.Nullary.Recomputable.html#642" class="Generalizable">B</a><a id="1789" class="Symbol">)</a>
<a id="1791" class="Symbol">(</a><a id="1792" href="Relation.Nullary.Recomputable.html#1792" class="Bound">rA</a> <a id="1795" href="Relation.Nullary.Recomputable.html#1720" class="Function Operator">×-recompute</a> <a id="1807" href="Relation.Nullary.Recomputable.html#1807" class="Bound">rB</a><a id="1809" class="Symbol">)</a> <a id="1811" href="Relation.Nullary.Recomputable.html#1811" class="Bound">p</a> <a id="1813" class="Symbol">=</a> <a id="1815" href="Relation.Nullary.Recomputable.html#1792" class="Bound">rA</a> <a id="1818" class="Symbol">(</a><a id="1819" href="Relation.Nullary.Recomputable.html#1811" class="Bound">p</a> <a id="1821" class="Symbol">.</a><a id="1822" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="1827" class="Symbol">)</a> <a id="1829" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1831" href="Relation.Nullary.Recomputable.html#1807" class="Bound">rB</a> <a id="1834" class="Symbol">(</a><a id="1835" href="Relation.Nullary.Recomputable.html#1811" class="Bound">p</a> <a id="1837" class="Symbol">.</a><a id="1838" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="1843" class="Symbol">)</a>

<a id="_→-recompute_"></a><a id="1846" href="Relation.Nullary.Recomputable.html#1846" class="Function Operator">_→-recompute_</a> <a id="1860" class="Symbol">:</a> <a id="1862" class="Symbol">(</a><a id="1863" href="Relation.Nullary.Recomputable.html#1863" class="Bound">A</a> <a id="1865" class="Symbol">:</a> <a id="1867" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1871" href="Relation.Nullary.Recomputable.html#612" class="Generalizable">a</a><a id="1872" class="Symbol">)</a> <a id="1874" class="Symbol">→</a> <a id="1876" href="Relation.Nullary.Recomputable.html#1112" class="Function">Recomputable</a> <a id="1889" href="Relation.Nullary.Recomputable.html#642" class="Generalizable">B</a> <a id="1891" class="Symbol">→</a> <a id="1893" href="Relation.Nullary.Recomputable.html#1112" class="Function">Recomputable</a> <a id="1906" class="Symbol">(</a><a id="1907" href="Relation.Nullary.Recomputable.html#1863" class="Bound">A</a> <a id="1909" class="Symbol">→</a> <a id="1911" href="Relation.Nullary.Recomputable.html#642" class="Generalizable">B</a><a id="1912" class="Symbol">)</a>
<a id="1914" class="Symbol">(</a><a id="1915" href="Relation.Nullary.Recomputable.html#1915" class="Bound">A</a> <a id="1917" href="Relation.Nullary.Recomputable.html#1846" class="Function Operator">→-recompute</a> <a id="1929" href="Relation.Nullary.Recomputable.html#1929" class="Bound">rB</a><a id="1931" class="Symbol">)</a> <a id="1933" href="Relation.Nullary.Recomputable.html#1933" class="Bound">f</a> <a id="1935" href="Relation.Nullary.Recomputable.html#1935" class="Bound">a</a> <a id="1937" class="Symbol">=</a> <a id="1939" href="Relation.Nullary.Recomputable.html#1929" class="Bound">rB</a> <a id="1942" class="Symbol">(</a><a id="1943" href="Relation.Nullary.Recomputable.html#1933" class="Bound">f</a> <a id="1945" href="Relation.Nullary.Recomputable.html#1935" class="Bound">a</a><a id="1946" class="Symbol">)</a>

<a id="Π-recompute"></a><a id="1949" href="Relation.Nullary.Recomputable.html#1949" class="Function">Π-recompute</a> <a id="1961" class="Symbol">:</a> <a id="1963" class="Symbol">(</a><a id="1964" href="Relation.Nullary.Recomputable.html#1964" class="Bound">B</a> <a id="1966" class="Symbol">:</a> <a id="1968" href="Relation.Nullary.Recomputable.html#628" class="Generalizable">A</a> <a id="1970" class="Symbol">→</a> <a id="1972" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1976" href="Relation.Nullary.Recomputable.html#614" class="Generalizable">b</a><a id="1977" class="Symbol">)</a> <a id="1979" class="Symbol">→</a> <a id="1981" class="Symbol">(∀</a> <a id="1984" href="Relation.Nullary.Recomputable.html#1984" class="Bound">x</a> <a id="1986" class="Symbol">→</a> <a id="1988" href="Relation.Nullary.Recomputable.html#1112" class="Function">Recomputable</a> <a id="2001" class="Symbol">(</a><a id="2002" href="Relation.Nullary.Recomputable.html#1964" class="Bound">B</a> <a id="2004" href="Relation.Nullary.Recomputable.html#1984" class="Bound">x</a><a id="2005" class="Symbol">))</a> <a id="2008" class="Symbol">→</a> <a id="2010" href="Relation.Nullary.Recomputable.html#1112" class="Function">Recomputable</a> <a id="2023" class="Symbol">(∀</a> <a id="2026" href="Relation.Nullary.Recomputable.html#2026" class="Bound">x</a> <a id="2028" class="Symbol">→</a> <a id="2030" href="Relation.Nullary.Recomputable.html#1964" class="Bound">B</a> <a id="2032" href="Relation.Nullary.Recomputable.html#2026" class="Bound">x</a><a id="2033" class="Symbol">)</a>
<a id="2035" href="Relation.Nullary.Recomputable.html#1949" class="Function">Π-recompute</a> <a id="2047" href="Relation.Nullary.Recomputable.html#2047" class="Bound">B</a> <a id="2049" href="Relation.Nullary.Recomputable.html#2049" class="Bound">rB</a> <a id="2052" href="Relation.Nullary.Recomputable.html#2052" class="Bound">f</a> <a id="2054" href="Relation.Nullary.Recomputable.html#2054" class="Bound">a</a> <a id="2056" class="Symbol">=</a> <a id="2058" href="Relation.Nullary.Recomputable.html#2049" class="Bound">rB</a> <a id="2061" href="Relation.Nullary.Recomputable.html#2054" class="Bound">a</a> <a id="2063" class="Symbol">(</a><a id="2064" href="Relation.Nullary.Recomputable.html#2052" class="Bound">f</a> <a id="2066" href="Relation.Nullary.Recomputable.html#2054" class="Bound">a</a><a id="2067" class="Symbol">)</a>

<a id="∀-recompute"></a><a id="2070" href="Relation.Nullary.Recomputable.html#2070" class="Function">∀-recompute</a> <a id="2082" class="Symbol">:</a> <a id="2084" class="Symbol">(</a><a id="2085" href="Relation.Nullary.Recomputable.html#2085" class="Bound">B</a> <a id="2087" class="Symbol">:</a> <a id="2089" href="Relation.Nullary.Recomputable.html#628" class="Generalizable">A</a> <a id="2091" class="Symbol">→</a> <a id="2093" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2097" href="Relation.Nullary.Recomputable.html#614" class="Generalizable">b</a><a id="2098" class="Symbol">)</a> <a id="2100" class="Symbol">→</a> <a id="2102" class="Symbol">(∀</a> <a id="2105" class="Symbol">{</a><a id="2106" href="Relation.Nullary.Recomputable.html#2106" class="Bound">x</a><a id="2107" class="Symbol">}</a> <a id="2109" class="Symbol">→</a> <a id="2111" href="Relation.Nullary.Recomputable.html#1112" class="Function">Recomputable</a> <a id="2124" class="Symbol">(</a><a id="2125" href="Relation.Nullary.Recomputable.html#2085" class="Bound">B</a> <a id="2127" href="Relation.Nullary.Recomputable.html#2106" class="Bound">x</a><a id="2128" class="Symbol">))</a> <a id="2131" class="Symbol">→</a> <a id="2133" href="Relation.Nullary.Recomputable.html#1112" class="Function">Recomputable</a> <a id="2146" class="Symbol">(∀</a> <a id="2149" class="Symbol">{</a><a id="2150" href="Relation.Nullary.Recomputable.html#2150" class="Bound">x</a><a id="2151" class="Symbol">}</a> <a id="2153" class="Symbol">→</a> <a id="2155" href="Relation.Nullary.Recomputable.html#2085" class="Bound">B</a> <a id="2157" href="Relation.Nullary.Recomputable.html#2150" class="Bound">x</a><a id="2158" class="Symbol">)</a>
<a id="2160" href="Relation.Nullary.Recomputable.html#2070" class="Function">∀-recompute</a> <a id="2172" href="Relation.Nullary.Recomputable.html#2172" class="Bound">B</a> <a id="2174" href="Relation.Nullary.Recomputable.html#2174" class="Bound">rB</a> <a id="2177" href="Relation.Nullary.Recomputable.html#2177" class="Bound">f</a> <a id="2179" class="Symbol">=</a> <a id="2181" href="Relation.Nullary.Recomputable.html#2174" class="Bound">rB</a> <a id="2184" href="Relation.Nullary.Recomputable.html#2177" class="Bound">f</a>

<a id="2187" class="Comment">-- Corollary: negations are Recomputable</a>

<a id="¬-recompute"></a><a id="2229" href="Relation.Nullary.Recomputable.html#2229" class="Function">¬-recompute</a> <a id="2241" class="Symbol">:</a> <a id="2243" href="Relation.Nullary.Recomputable.html#1112" class="Function">Recomputable</a> <a id="2256" class="Symbol">(</a><a id="2257" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="2259" href="Relation.Nullary.Recomputable.html#628" class="Generalizable">A</a><a id="2260" class="Symbol">)</a>
<a id="2262" href="Relation.Nullary.Recomputable.html#2229" class="Function">¬-recompute</a> <a id="2274" class="Symbol">{</a><a id="2275" class="Argument">A</a> <a id="2277" class="Symbol">=</a> <a id="2279" href="Relation.Nullary.Recomputable.html#2279" class="Bound">A</a><a id="2280" class="Symbol">}</a> <a id="2282" class="Symbol">=</a> <a id="2284" href="Relation.Nullary.Recomputable.html#2279" class="Bound">A</a> <a id="2286" href="Relation.Nullary.Recomputable.html#1846" class="Function Operator">→-recompute</a> <a id="2298" href="Relation.Nullary.Recomputable.html#1655" class="Function">⊥-recompute</a>

</pre></body></html>