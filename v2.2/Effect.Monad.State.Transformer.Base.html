<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Effect.Monad.State.Transformer.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Basic definition and functions on the state monad transformer</a>
<a id="171" class="Comment">------------------------------------------------------------------------</a>

<a id="245" class="Symbol">{-#</a> <a id="249" class="Keyword">OPTIONS</a> <a id="257" class="Pragma">--cubical-compatible</a> <a id="278" class="Pragma">--safe</a> <a id="285" class="Symbol">#-}</a>


<a id="291" class="Keyword">module</a> <a id="298" href="Effect.Monad.State.Transformer.Base.html" class="Module">Effect.Monad.State.Transformer.Base</a> <a id="334" class="Keyword">where</a>

<a id="341" class="Keyword">open</a> <a id="346" class="Keyword">import</a> <a id="353" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="371" class="Keyword">using</a> <a id="377" class="Symbol">(</a><a id="378" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="381" class="Symbol">;</a> <a id="383" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="388" class="Symbol">;</a> <a id="390" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="395" class="Symbol">)</a>
<a id="397" class="Keyword">open</a> <a id="402" class="Keyword">import</a> <a id="409" href="Data.Unit.Polymorphic.Base.html" class="Module">Data.Unit.Polymorphic.Base</a> <a id="436" class="Keyword">using</a> <a id="442" class="Symbol">(</a><a id="443" href="Data.Unit.Polymorphic.Base.html#489" class="Function">⊤</a><a id="444" class="Symbol">)</a>
<a id="446" class="Keyword">open</a> <a id="451" class="Keyword">import</a> <a id="458" href="Function.Base.html" class="Module">Function.Base</a> <a id="472" class="Keyword">using</a> <a id="478" class="Symbol">(</a><a id="479" href="Function.Base.html#3626" class="Function Operator">_∘′_</a><a id="483" class="Symbol">;</a> <a id="485" href="Function.Base.html#725" class="Function">const</a><a id="490" class="Symbol">;</a> <a id="492" href="Function.Base.html#704" class="Function">id</a><a id="494" class="Symbol">)</a>
<a id="496" class="Keyword">open</a> <a id="501" class="Keyword">import</a> <a id="508" href="Level.html" class="Module">Level</a> <a id="514" class="Keyword">using</a> <a id="520" class="Symbol">(</a><a id="521" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="526" class="Symbol">;</a> <a id="528" href="Agda.Primitive.html#931" class="Primitive">suc</a><a id="531" class="Symbol">;</a> <a id="533" href="Agda.Primitive.html#961" class="Primitive Operator">_⊔_</a><a id="536" class="Symbol">)</a>

<a id="539" class="Keyword">open</a> <a id="544" class="Keyword">import</a> <a id="551" href="Effect.Functor.html" class="Module">Effect.Functor</a>

<a id="567" class="Keyword">private</a>
  <a id="577" class="Keyword">variable</a>
    <a id="590" href="Effect.Monad.State.Transformer.Base.html#590" class="Generalizable">f</a> <a id="592" href="Effect.Monad.State.Transformer.Base.html#592" class="Generalizable">s</a> <a id="594" class="Symbol">:</a> <a id="596" href="Agda.Primitive.html#742" class="Postulate">Level</a>
    <a id="606" href="Effect.Monad.State.Transformer.Base.html#606" class="Generalizable">A</a> <a id="608" class="Symbol">:</a> <a id="610" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="614" href="Effect.Monad.State.Transformer.Base.html#592" class="Generalizable">s</a>
    <a id="620" href="Effect.Monad.State.Transformer.Base.html#620" class="Generalizable">S</a> <a id="622" class="Symbol">:</a> <a id="624" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="628" href="Effect.Monad.State.Transformer.Base.html#592" class="Generalizable">s</a>
    <a id="634" href="Effect.Monad.State.Transformer.Base.html#634" class="Generalizable">M</a> <a id="636" class="Symbol">:</a> <a id="638" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="642" href="Effect.Monad.State.Transformer.Base.html#592" class="Generalizable">s</a> <a id="644" class="Symbol">→</a> <a id="646" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="650" href="Effect.Monad.State.Transformer.Base.html#590" class="Generalizable">f</a>

<a id="653" class="Comment">------------------------------------------------------------------------</a>
<a id="726" class="Comment">-- State monad operations</a>

<a id="753" class="Keyword">record</a> <a id="RawMonadState"></a><a id="760" href="Effect.Monad.State.Transformer.Base.html#760" class="Record">RawMonadState</a>
       <a id="781" class="Symbol">(</a><a id="782" href="Effect.Monad.State.Transformer.Base.html#782" class="Bound">S</a> <a id="784" class="Symbol">:</a> <a id="786" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="790" href="Effect.Monad.State.Transformer.Base.html#592" class="Generalizable">s</a><a id="791" class="Symbol">)</a>
       <a id="800" class="Symbol">(</a><a id="801" href="Effect.Monad.State.Transformer.Base.html#801" class="Bound">M</a> <a id="803" class="Symbol">:</a> <a id="805" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="809" href="Effect.Monad.State.Transformer.Base.html#592" class="Generalizable">s</a> <a id="811" class="Symbol">→</a> <a id="813" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="817" href="Effect.Monad.State.Transformer.Base.html#590" class="Generalizable">f</a><a id="818" class="Symbol">)</a>
       <a id="827" class="Symbol">:</a> <a id="829" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="833" class="Symbol">(</a><a id="834" href="Agda.Primitive.html#931" class="Primitive">suc</a> <a id="838" href="Effect.Monad.State.Transformer.Base.html#790" class="Bound">s</a> <a id="840" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="842" href="Effect.Monad.State.Transformer.Base.html#817" class="Bound">f</a><a id="843" class="Symbol">)</a> <a id="845" class="Keyword">where</a>
  <a id="853" class="Keyword">field</a>
    <a id="RawMonadState.gets"></a><a id="863" href="Effect.Monad.State.Transformer.Base.html#863" class="Field">gets</a>   <a id="870" class="Symbol">:</a> <a id="872" class="Symbol">(</a><a id="873" href="Effect.Monad.State.Transformer.Base.html#782" class="Bound">S</a> <a id="875" class="Symbol">→</a> <a id="877" href="Effect.Monad.State.Transformer.Base.html#606" class="Generalizable">A</a><a id="878" class="Symbol">)</a> <a id="880" class="Symbol">→</a> <a id="882" href="Effect.Monad.State.Transformer.Base.html#801" class="Bound">M</a> <a id="884" href="Effect.Monad.State.Transformer.Base.html#606" class="Generalizable">A</a>
    <a id="RawMonadState.modify"></a><a id="890" href="Effect.Monad.State.Transformer.Base.html#890" class="Field">modify</a> <a id="897" class="Symbol">:</a> <a id="899" class="Symbol">(</a><a id="900" href="Effect.Monad.State.Transformer.Base.html#782" class="Bound">S</a> <a id="902" class="Symbol">→</a> <a id="904" href="Effect.Monad.State.Transformer.Base.html#782" class="Bound">S</a><a id="905" class="Symbol">)</a> <a id="907" class="Symbol">→</a> <a id="909" href="Effect.Monad.State.Transformer.Base.html#801" class="Bound">M</a> <a id="911" href="Data.Unit.Polymorphic.Base.html#489" class="Function">⊤</a>

  <a id="RawMonadState.put"></a><a id="916" href="Effect.Monad.State.Transformer.Base.html#916" class="Function">put</a> <a id="920" class="Symbol">=</a> <a id="922" href="Effect.Monad.State.Transformer.Base.html#890" class="Field">modify</a> <a id="929" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="932" href="Function.Base.html#725" class="Function">const</a>
  <a id="RawMonadState.get"></a><a id="940" href="Effect.Monad.State.Transformer.Base.html#940" class="Function">get</a> <a id="944" class="Symbol">=</a> <a id="946" href="Effect.Monad.State.Transformer.Base.html#863" class="Field">gets</a> <a id="951" href="Function.Base.html#704" class="Function">id</a>

<a id="955" class="Comment">------------------------------------------------------------------------</a>
<a id="1028" class="Comment">-- State monad transformer</a>

<a id="1056" class="Keyword">record</a> <a id="StateT"></a><a id="1063" href="Effect.Monad.State.Transformer.Base.html#1063" class="Record">StateT</a>
       <a id="1077" class="Symbol">(</a><a id="1078" href="Effect.Monad.State.Transformer.Base.html#1078" class="Bound">S</a> <a id="1080" class="Symbol">:</a> <a id="1082" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1086" href="Effect.Monad.State.Transformer.Base.html#592" class="Generalizable">s</a><a id="1087" class="Symbol">)</a>
       <a id="1096" class="Symbol">(</a><a id="1097" href="Effect.Monad.State.Transformer.Base.html#1097" class="Bound">M</a> <a id="1099" class="Symbol">:</a> <a id="1101" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1105" href="Effect.Monad.State.Transformer.Base.html#592" class="Generalizable">s</a> <a id="1107" class="Symbol">→</a> <a id="1109" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1113" href="Effect.Monad.State.Transformer.Base.html#590" class="Generalizable">f</a><a id="1114" class="Symbol">)</a>
       <a id="1123" class="Symbol">(</a><a id="1124" href="Effect.Monad.State.Transformer.Base.html#1124" class="Bound">A</a> <a id="1126" class="Symbol">:</a> <a id="1128" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1132" href="Effect.Monad.State.Transformer.Base.html#592" class="Generalizable">s</a><a id="1133" class="Symbol">)</a>
       <a id="1142" class="Symbol">:</a> <a id="1144" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1148" class="Symbol">(</a><a id="1149" href="Effect.Monad.State.Transformer.Base.html#1086" class="Bound">s</a> <a id="1151" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="1153" href="Effect.Monad.State.Transformer.Base.html#1113" class="Bound">f</a><a id="1154" class="Symbol">)</a> <a id="1156" class="Keyword">where</a>
  <a id="1164" class="Keyword">constructor</a> <a id="mkStateT"></a><a id="1176" href="Effect.Monad.State.Transformer.Base.html#1176" class="InductiveConstructor">mkStateT</a>
  <a id="1187" class="Keyword">field</a> <a id="StateT.runStateT"></a><a id="1193" href="Effect.Monad.State.Transformer.Base.html#1193" class="Field">runStateT</a> <a id="1203" class="Symbol">:</a> <a id="1205" href="Effect.Monad.State.Transformer.Base.html#1078" class="Bound">S</a> <a id="1207" class="Symbol">→</a> <a id="1209" href="Effect.Monad.State.Transformer.Base.html#1097" class="Bound">M</a> <a id="1211" class="Symbol">(</a><a id="1212" href="Effect.Monad.State.Transformer.Base.html#1078" class="Bound">S</a> <a id="1214" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1216" href="Effect.Monad.State.Transformer.Base.html#1124" class="Bound">A</a><a id="1217" class="Symbol">)</a>
<a id="1219" class="Keyword">open</a> <a id="1224" href="Effect.Monad.State.Transformer.Base.html#1063" class="Module">StateT</a> <a id="1231" class="Keyword">public</a>

<a id="evalStateT"></a><a id="1239" href="Effect.Monad.State.Transformer.Base.html#1239" class="Function">evalStateT</a> <a id="1250" class="Symbol">:</a> <a id="1252" href="Effect.Functor.html#579" class="Record">RawFunctor</a> <a id="1263" href="Effect.Monad.State.Transformer.Base.html#634" class="Generalizable">M</a> <a id="1265" class="Symbol">→</a> <a id="1267" href="Effect.Monad.State.Transformer.Base.html#1063" class="Record">StateT</a> <a id="1274" href="Effect.Monad.State.Transformer.Base.html#620" class="Generalizable">S</a> <a id="1276" href="Effect.Monad.State.Transformer.Base.html#634" class="Generalizable">M</a> <a id="1278" href="Effect.Monad.State.Transformer.Base.html#606" class="Generalizable">A</a> <a id="1280" class="Symbol">→</a> <a id="1282" href="Effect.Monad.State.Transformer.Base.html#620" class="Generalizable">S</a> <a id="1284" class="Symbol">→</a> <a id="1286" href="Effect.Monad.State.Transformer.Base.html#634" class="Generalizable">M</a> <a id="1288" href="Effect.Monad.State.Transformer.Base.html#606" class="Generalizable">A</a>
<a id="1290" href="Effect.Monad.State.Transformer.Base.html#1239" class="Function">evalStateT</a> <a id="1301" href="Effect.Monad.State.Transformer.Base.html#1301" class="Bound">M</a> <a id="1303" href="Effect.Monad.State.Transformer.Base.html#1303" class="Bound">ma</a> <a id="1306" href="Effect.Monad.State.Transformer.Base.html#1306" class="Bound">s</a> <a id="1308" class="Symbol">=</a> <a id="1310" class="Keyword">let</a> <a id="1314" class="Keyword">open</a> <a id="1319" href="Effect.Functor.html#579" class="Module">RawFunctor</a> <a id="1330" href="Effect.Monad.State.Transformer.Base.html#1301" class="Bound">M</a> <a id="1332" class="Keyword">in</a> <a id="1335" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="1341" href="Effect.Functor.html#687" class="Function Operator">&lt;$&gt;</a> <a id="1345" href="Effect.Monad.State.Transformer.Base.html#1193" class="Field">runStateT</a> <a id="1355" href="Effect.Monad.State.Transformer.Base.html#1303" class="Bound">ma</a> <a id="1358" href="Effect.Monad.State.Transformer.Base.html#1306" class="Bound">s</a>

<a id="execStateT"></a><a id="1361" href="Effect.Monad.State.Transformer.Base.html#1361" class="Function">execStateT</a> <a id="1372" class="Symbol">:</a> <a id="1374" href="Effect.Functor.html#579" class="Record">RawFunctor</a> <a id="1385" href="Effect.Monad.State.Transformer.Base.html#634" class="Generalizable">M</a> <a id="1387" class="Symbol">→</a> <a id="1389" href="Effect.Monad.State.Transformer.Base.html#1063" class="Record">StateT</a> <a id="1396" href="Effect.Monad.State.Transformer.Base.html#620" class="Generalizable">S</a> <a id="1398" href="Effect.Monad.State.Transformer.Base.html#634" class="Generalizable">M</a> <a id="1400" href="Effect.Monad.State.Transformer.Base.html#606" class="Generalizable">A</a> <a id="1402" class="Symbol">→</a> <a id="1404" href="Effect.Monad.State.Transformer.Base.html#620" class="Generalizable">S</a> <a id="1406" class="Symbol">→</a> <a id="1408" href="Effect.Monad.State.Transformer.Base.html#634" class="Generalizable">M</a> <a id="1410" href="Effect.Monad.State.Transformer.Base.html#620" class="Generalizable">S</a>
<a id="1412" href="Effect.Monad.State.Transformer.Base.html#1361" class="Function">execStateT</a> <a id="1423" href="Effect.Monad.State.Transformer.Base.html#1423" class="Bound">M</a> <a id="1425" href="Effect.Monad.State.Transformer.Base.html#1425" class="Bound">ma</a> <a id="1428" href="Effect.Monad.State.Transformer.Base.html#1428" class="Bound">s</a> <a id="1430" class="Symbol">=</a> <a id="1432" class="Keyword">let</a> <a id="1436" class="Keyword">open</a> <a id="1441" href="Effect.Functor.html#579" class="Module">RawFunctor</a> <a id="1452" href="Effect.Monad.State.Transformer.Base.html#1423" class="Bound">M</a> <a id="1454" class="Keyword">in</a> <a id="1457" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1463" href="Effect.Functor.html#687" class="Function Operator">&lt;$&gt;</a> <a id="1467" href="Effect.Monad.State.Transformer.Base.html#1193" class="Field">runStateT</a> <a id="1477" href="Effect.Monad.State.Transformer.Base.html#1425" class="Bound">ma</a> <a id="1480" href="Effect.Monad.State.Transformer.Base.html#1428" class="Bound">s</a>
</pre></body></html>