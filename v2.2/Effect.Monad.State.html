<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Effect.Monad.State</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- The state monad</a>
<a id="125" class="Comment">------------------------------------------------------------------------</a>

<a id="199" class="Symbol">{-#</a> <a id="203" class="Keyword">OPTIONS</a> <a id="211" class="Pragma">--cubical-compatible</a> <a id="232" class="Pragma">--safe</a> <a id="239" class="Symbol">#-}</a>

<a id="244" class="Keyword">module</a> <a id="251" href="Effect.Monad.State.html" class="Module">Effect.Monad.State</a> <a id="270" class="Keyword">where</a>

<a id="277" class="Keyword">open</a> <a id="282" class="Keyword">import</a> <a id="289" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="307" class="Keyword">using</a> <a id="313" class="Symbol">(</a><a id="314" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="317" class="Symbol">)</a>
<a id="319" class="Keyword">open</a> <a id="324" class="Keyword">import</a> <a id="331" href="Effect.Functor.html" class="Module">Effect.Functor</a> <a id="346" class="Keyword">using</a> <a id="352" class="Symbol">(</a><a id="353" href="Effect.Functor.html#579" class="Record">RawFunctor</a><a id="363" class="Symbol">)</a>
<a id="365" class="Keyword">open</a> <a id="370" class="Keyword">import</a> <a id="377" href="Effect.Applicative.html" class="Module">Effect.Applicative</a> <a id="396" class="Keyword">using</a> <a id="402" class="Symbol">(</a><a id="403" href="Effect.Applicative.html#979" class="Record">RawApplicative</a><a id="417" class="Symbol">)</a>
<a id="419" class="Keyword">open</a> <a id="424" class="Keyword">import</a> <a id="431" href="Effect.Monad.html" class="Module">Effect.Monad</a> <a id="444" class="Keyword">using</a> <a id="450" class="Symbol">(</a><a id="451" href="Effect.Monad.html#779" class="Record">RawMonad</a><a id="459" class="Symbol">;</a> <a id="461" class="Keyword">module</a> <a id="468" href="Effect.Monad.html#1496" class="Module">Join</a><a id="472" class="Symbol">)</a>
<a id="474" class="Keyword">open</a> <a id="479" class="Keyword">import</a> <a id="486" href="Effect.Monad.Identity.html" class="Module">Effect.Monad.Identity</a> <a id="508" class="Symbol">as</a> <a id="511" class="Module">Id</a> <a id="514" class="Keyword">using</a> <a id="520" class="Symbol">(</a><a id="521" href="Effect.Monad.Identity.html#658" class="Record">Identity</a><a id="529" class="Symbol">;</a> <a id="531" href="Effect.Monad.Identity.html#726" class="Field">runIdentity</a><a id="542" class="Symbol">)</a>
<a id="544" class="Keyword">open</a> <a id="549" class="Keyword">import</a> <a id="556" href="Level.html" class="Module">Level</a> <a id="562" class="Keyword">using</a> <a id="568" class="Symbol">(</a><a id="569" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="574" class="Symbol">)</a>

<a id="577" class="Keyword">import</a> <a id="584" href="Effect.Monad.State.Transformer.html" class="Module">Effect.Monad.State.Transformer</a> <a id="615" class="Symbol">as</a> <a id="618" class="Module">Trans</a>

<a id="625" class="Keyword">private</a>
  <a id="635" class="Keyword">variable</a>
    <a id="648" href="Effect.Monad.State.html#648" class="Generalizable">s</a> <a id="650" class="Symbol">:</a> <a id="652" href="Agda.Primitive.html#742" class="Postulate">Level</a>
    <a id="662" href="Effect.Monad.State.html#662" class="Generalizable">S</a> <a id="664" href="Effect.Monad.State.html#664" class="Generalizable">A</a> <a id="666" class="Symbol">:</a> <a id="668" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="672" href="Effect.Monad.State.html#648" class="Generalizable">s</a>

<a id="675" class="Comment">------------------------------------------------------------------------</a>
<a id="748" class="Comment">-- Re-export the state monad operations</a>

<a id="789" class="Keyword">open</a> <a id="794" href="Effect.Monad.State.Transformer.html" class="Module">Trans</a> <a id="800" class="Keyword">public</a>
  <a id="809" class="Keyword">using</a> <a id="815" class="Symbol">(</a><a id="816" href="Effect.Monad.State.Transformer.Base.html#760" class="Record">RawMonadState</a><a id="829" class="Symbol">)</a>

<a id="832" class="Comment">------------------------------------------------------------------------</a>
<a id="905" class="Comment">-- State monad</a>

<a id="State"></a><a id="921" href="Effect.Monad.State.html#921" class="Function">State</a> <a id="927" class="Symbol">:</a> <a id="929" class="Symbol">(</a><a id="930" href="Effect.Monad.State.html#930" class="Bound">S</a> <a id="932" class="Symbol">:</a> <a id="934" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="938" href="Effect.Monad.State.html#648" class="Generalizable">s</a><a id="939" class="Symbol">)</a> <a id="941" class="Symbol">(</a><a id="942" href="Effect.Monad.State.html#942" class="Bound">A</a> <a id="944" class="Symbol">:</a> <a id="946" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="950" href="Effect.Monad.State.html#648" class="Generalizable">s</a><a id="951" class="Symbol">)</a> <a id="953" class="Symbol">→</a> <a id="955" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="959" href="Effect.Monad.State.html#648" class="Generalizable">s</a>
<a id="961" href="Effect.Monad.State.html#921" class="Function">State</a> <a id="967" href="Effect.Monad.State.html#967" class="Bound">S</a> <a id="969" class="Symbol">=</a> <a id="971" href="Effect.Monad.State.Transformer.Base.html#1063" class="Record">Trans.StateT</a> <a id="984" href="Effect.Monad.State.html#967" class="Bound">S</a> <a id="986" href="Effect.Monad.Identity.html#658" class="Record">Identity</a>

<a id="runState"></a><a id="996" href="Effect.Monad.State.html#996" class="Function">runState</a> <a id="1005" class="Symbol">:</a> <a id="1007" href="Effect.Monad.State.html#921" class="Function">State</a> <a id="1013" href="Effect.Monad.State.html#662" class="Generalizable">S</a> <a id="1015" href="Effect.Monad.State.html#664" class="Generalizable">A</a> <a id="1017" class="Symbol">→</a> <a id="1019" href="Effect.Monad.State.html#662" class="Generalizable">S</a> <a id="1021" class="Symbol">→</a> <a id="1023" href="Effect.Monad.State.html#662" class="Generalizable">S</a> <a id="1025" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1027" href="Effect.Monad.State.html#664" class="Generalizable">A</a>
<a id="1029" href="Effect.Monad.State.html#996" class="Function">runState</a> <a id="1038" href="Effect.Monad.State.html#1038" class="Bound">ma</a> <a id="1041" href="Effect.Monad.State.html#1041" class="Bound">s</a> <a id="1043" class="Symbol">=</a> <a id="1045" href="Effect.Monad.Identity.html#726" class="Field">runIdentity</a> <a id="1057" class="Symbol">(</a><a id="1058" href="Effect.Monad.State.Transformer.Base.html#1193" class="Field">Trans.runStateT</a> <a id="1074" href="Effect.Monad.State.html#1038" class="Bound">ma</a> <a id="1077" href="Effect.Monad.State.html#1041" class="Bound">s</a><a id="1078" class="Symbol">)</a>

<a id="evalState"></a><a id="1081" href="Effect.Monad.State.html#1081" class="Function">evalState</a> <a id="1091" class="Symbol">:</a> <a id="1093" href="Effect.Monad.State.html#921" class="Function">State</a> <a id="1099" href="Effect.Monad.State.html#662" class="Generalizable">S</a> <a id="1101" href="Effect.Monad.State.html#664" class="Generalizable">A</a> <a id="1103" class="Symbol">→</a> <a id="1105" href="Effect.Monad.State.html#662" class="Generalizable">S</a> <a id="1107" class="Symbol">→</a> <a id="1109" href="Effect.Monad.State.html#664" class="Generalizable">A</a>
<a id="1111" href="Effect.Monad.State.html#1081" class="Function">evalState</a> <a id="1121" href="Effect.Monad.State.html#1121" class="Bound">ma</a> <a id="1124" href="Effect.Monad.State.html#1124" class="Bound">s</a> <a id="1126" class="Symbol">=</a> <a id="1128" href="Effect.Monad.Identity.html#726" class="Field">runIdentity</a> <a id="1140" class="Symbol">(</a><a id="1141" href="Effect.Monad.State.Transformer.Base.html#1239" class="Function">Trans.evalStateT</a> <a id="1158" href="Effect.Monad.Identity.html#764" class="Function">Id.functor</a> <a id="1169" href="Effect.Monad.State.html#1121" class="Bound">ma</a> <a id="1172" href="Effect.Monad.State.html#1124" class="Bound">s</a><a id="1173" class="Symbol">)</a>

<a id="execState"></a><a id="1176" href="Effect.Monad.State.html#1176" class="Function">execState</a> <a id="1186" class="Symbol">:</a> <a id="1188" href="Effect.Monad.State.html#921" class="Function">State</a> <a id="1194" href="Effect.Monad.State.html#662" class="Generalizable">S</a> <a id="1196" href="Effect.Monad.State.html#664" class="Generalizable">A</a> <a id="1198" class="Symbol">→</a> <a id="1200" href="Effect.Monad.State.html#662" class="Generalizable">S</a> <a id="1202" class="Symbol">→</a> <a id="1204" href="Effect.Monad.State.html#662" class="Generalizable">S</a>
<a id="1206" href="Effect.Monad.State.html#1176" class="Function">execState</a> <a id="1216" href="Effect.Monad.State.html#1216" class="Bound">ma</a> <a id="1219" href="Effect.Monad.State.html#1219" class="Bound">s</a> <a id="1221" class="Symbol">=</a> <a id="1223" href="Effect.Monad.Identity.html#726" class="Field">runIdentity</a> <a id="1235" class="Symbol">(</a><a id="1236" href="Effect.Monad.State.Transformer.Base.html#1361" class="Function">Trans.execStateT</a> <a id="1253" href="Effect.Monad.Identity.html#764" class="Function">Id.functor</a> <a id="1264" href="Effect.Monad.State.html#1216" class="Bound">ma</a> <a id="1267" href="Effect.Monad.State.html#1219" class="Bound">s</a><a id="1268" class="Symbol">)</a>

<a id="1271" class="Comment">------------------------------------------------------------------------</a>
<a id="1344" class="Comment">-- Structure</a>

<a id="functor"></a><a id="1358" href="Effect.Monad.State.html#1358" class="Function">functor</a> <a id="1366" class="Symbol">:</a> <a id="1368" href="Effect.Functor.html#579" class="Record">RawFunctor</a> <a id="1379" class="Symbol">(</a><a id="1380" href="Effect.Monad.State.html#921" class="Function">State</a> <a id="1386" href="Effect.Monad.State.html#662" class="Generalizable">S</a><a id="1387" class="Symbol">)</a>
<a id="1389" href="Effect.Monad.State.html#1358" class="Function">functor</a> <a id="1397" class="Symbol">=</a> <a id="1399" href="Effect.Monad.State.Transformer.html#1349" class="Function">Trans.functor</a> <a id="1413" href="Effect.Monad.Identity.html#764" class="Function">Id.functor</a>

<a id="applicative"></a><a id="1425" href="Effect.Monad.State.html#1425" class="Function">applicative</a> <a id="1437" class="Symbol">:</a> <a id="1439" href="Effect.Applicative.html#979" class="Record">RawApplicative</a> <a id="1454" class="Symbol">(</a><a id="1455" href="Effect.Monad.State.html#921" class="Function">State</a> <a id="1461" href="Effect.Monad.State.html#662" class="Generalizable">S</a><a id="1462" class="Symbol">)</a>
<a id="1464" href="Effect.Monad.State.html#1425" class="Function">applicative</a> <a id="1476" class="Symbol">=</a> <a id="1478" href="Effect.Monad.State.Transformer.html#1517" class="Function">Trans.applicative</a> <a id="1496" href="Effect.Monad.Identity.html#1051" class="Function">Id.monad</a>

<a id="monad"></a><a id="1506" href="Effect.Monad.State.html#1506" class="Function">monad</a> <a id="1512" class="Symbol">:</a> <a id="1514" href="Effect.Monad.html#779" class="Record">RawMonad</a> <a id="1523" class="Symbol">(</a><a id="1524" href="Effect.Monad.State.html#921" class="Function">State</a> <a id="1530" href="Effect.Monad.State.html#662" class="Generalizable">S</a><a id="1531" class="Symbol">)</a>
<a id="1533" href="Effect.Monad.State.html#1506" class="Function">monad</a> <a id="1539" class="Symbol">=</a> <a id="1541" href="Effect.Monad.State.Transformer.html#2595" class="Function">Trans.monad</a> <a id="1553" href="Effect.Monad.Identity.html#1051" class="Function">Id.monad</a>

<a id="join"></a><a id="1563" href="Effect.Monad.State.html#1563" class="Function">join</a> <a id="1568" class="Symbol">:</a> <a id="1570" href="Effect.Monad.State.html#921" class="Function">State</a> <a id="1576" href="Effect.Monad.State.html#662" class="Generalizable">S</a> <a id="1578" class="Symbol">(</a><a id="1579" href="Effect.Monad.State.html#921" class="Function">State</a> <a id="1585" href="Effect.Monad.State.html#662" class="Generalizable">S</a> <a id="1587" href="Effect.Monad.State.html#664" class="Generalizable">A</a><a id="1588" class="Symbol">)</a> <a id="1590" class="Symbol">→</a> <a id="1592" href="Effect.Monad.State.html#921" class="Function">State</a> <a id="1598" href="Effect.Monad.State.html#662" class="Generalizable">S</a> <a id="1600" href="Effect.Monad.State.html#664" class="Generalizable">A</a>
<a id="1602" href="Effect.Monad.State.html#1563" class="Function">join</a> <a id="1607" class="Symbol">=</a> <a id="1609" href="Effect.Monad.html#1565" class="Function">Join.join</a> <a id="1619" href="Effect.Monad.State.html#1506" class="Function">monad</a>

<a id="1626" class="Comment">------------------------------------------------------------------------</a>
<a id="1699" class="Comment">-- State monad specifics</a>

<a id="monadState"></a><a id="1725" href="Effect.Monad.State.html#1725" class="Function">monadState</a> <a id="1736" class="Symbol">:</a> <a id="1738" href="Effect.Monad.State.Transformer.Base.html#760" class="Record">RawMonadState</a> <a id="1752" href="Effect.Monad.State.html#662" class="Generalizable">S</a> <a id="1754" class="Symbol">(</a><a id="1755" href="Effect.Monad.State.html#921" class="Function">State</a> <a id="1761" href="Effect.Monad.State.html#662" class="Generalizable">S</a><a id="1762" class="Symbol">)</a>
<a id="1764" href="Effect.Monad.State.html#1725" class="Function">monadState</a> <a id="1775" class="Symbol">=</a> <a id="1777" href="Effect.Monad.State.Transformer.html#3491" class="Function">Trans.monadState</a> <a id="1794" href="Effect.Monad.Identity.html#1051" class="Function">Id.monad</a>
</pre></body></html>