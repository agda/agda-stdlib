<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>System.Process.Primitive</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Primitive System.Process simple bindings to Haskell functions</a>
<a id="171" class="Comment">------------------------------------------------------------------------</a>

<a id="245" class="Symbol">{-#</a> <a id="249" class="Keyword">OPTIONS</a> <a id="257" class="Pragma">--cubical-compatible</a> <a id="278" class="Symbol">#-}</a>

<a id="283" class="Keyword">module</a> <a id="290" href="System.Process.Primitive.html" class="Module">System.Process.Primitive</a> <a id="315" class="Keyword">where</a>

<a id="322" class="Keyword">open</a> <a id="327" class="Keyword">import</a> <a id="334" href="Level.html" class="Module">Level</a> <a id="340" class="Keyword">using</a> <a id="346" class="Symbol">(</a><a id="347" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="352" class="Symbol">)</a>
<a id="354" class="Keyword">open</a> <a id="359" class="Keyword">import</a> <a id="366" href="Agda.Builtin.List.html" class="Module">Agda.Builtin.List</a>
<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Agda.Builtin.String.html" class="Module">Agda.Builtin.String</a>
<a id="416" class="Keyword">open</a> <a id="421" class="Keyword">import</a> <a id="428" href="Agda.Builtin.Unit.html" class="Module">Agda.Builtin.Unit</a>
<a id="446" class="Keyword">open</a> <a id="451" class="Keyword">import</a> <a id="458" href="Foreign.Haskell.html" class="Module">Foreign.Haskell</a> <a id="474" class="Keyword">using</a> <a id="480" class="Symbol">(</a><a id="481" href="Foreign.Haskell.Pair.html#534" class="Record">Pair</a><a id="485" class="Symbol">)</a>
<a id="487" class="Keyword">open</a> <a id="492" class="Keyword">import</a> <a id="499" href="IO.Primitive.Core.html" class="Module">IO.Primitive.Core</a> <a id="517" class="Keyword">using</a> <a id="523" class="Symbol">(</a><a id="524" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a><a id="526" class="Symbol">)</a>
<a id="528" class="Keyword">open</a> <a id="533" class="Keyword">import</a> <a id="540" href="System.Exit.Primitive.html" class="Module">System.Exit.Primitive</a> <a id="562" class="Keyword">using</a> <a id="568" class="Symbol">(</a><a id="569" href="System.Exit.Primitive.html#402" class="Datatype">ExitCode</a><a id="577" class="Symbol">)</a>

<a id="580" class="Keyword">postulate</a>

  <a id="callCommand"></a><a id="593" href="System.Process.Primitive.html#593" class="Postulate">callCommand</a> <a id="605" class="Symbol">:</a> <a id="607" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="614" class="Symbol">→</a> <a id="616" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="619" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="system"></a><a id="623" href="System.Process.Primitive.html#623" class="Postulate">system</a>      <a id="635" class="Symbol">:</a> <a id="637" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="644" class="Symbol">→</a> <a id="646" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="649" href="System.Exit.Primitive.html#402" class="Datatype">ExitCode</a>
  <a id="callProcess"></a><a id="660" href="System.Process.Primitive.html#660" class="Postulate">callProcess</a> <a id="672" class="Symbol">:</a> <a id="674" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="681" class="Symbol">→</a> <a id="683" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="688" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="695" class="Symbol">→</a> <a id="697" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="700" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

  <a id="readProcess"></a><a id="705" href="System.Process.Primitive.html#705" class="Postulate">readProcess</a>
    <a id="721" class="Symbol">:</a> <a id="723" href="Agda.Builtin.String.html#335" class="Postulate">String</a>       <a id="736" class="Comment">-- Filename of the executable</a>
    <a id="770" class="Symbol">→</a> <a id="772" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="777" href="Agda.Builtin.String.html#335" class="Postulate">String</a>  <a id="785" class="Comment">-- any arguments</a>
    <a id="806" class="Symbol">→</a> <a id="808" href="Agda.Builtin.String.html#335" class="Postulate">String</a>       <a id="821" class="Comment">-- standard input</a>
    <a id="843" class="Symbol">→</a> <a id="845" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="848" href="Agda.Builtin.String.html#335" class="Postulate">String</a>    <a id="858" class="Comment">-- stdout</a>

  <a id="readProcessWithExitCode"></a><a id="871" href="System.Process.Primitive.html#871" class="Postulate">readProcessWithExitCode</a>
    <a id="899" class="Symbol">:</a> <a id="901" href="Agda.Builtin.String.html#335" class="Postulate">String</a>                                  <a id="941" class="Comment">-- Filename of the executable</a>
    <a id="975" class="Symbol">→</a> <a id="977" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="982" href="Agda.Builtin.String.html#335" class="Postulate">String</a>                             <a id="1017" class="Comment">-- any arguments</a>
    <a id="1038" class="Symbol">→</a> <a id="1040" href="Agda.Builtin.String.html#335" class="Postulate">String</a>                                  <a id="1080" class="Comment">-- standard input</a>
    <a id="1102" class="Symbol">→</a> <a id="1104" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="1107" class="Symbol">(</a><a id="1108" href="Foreign.Haskell.Pair.html#534" class="Record">Pair</a> <a id="1113" href="System.Exit.Primitive.html#402" class="Datatype">ExitCode</a> <a id="1122" class="Symbol">(</a><a id="1123" href="Foreign.Haskell.Pair.html#534" class="Record">Pair</a> <a id="1128" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="1135" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="1141" class="Symbol">))</a> <a id="1144" class="Comment">-- exitcode, stdout, stderr</a>

<a id="1173" class="Symbol">{-#</a> <a id="1177" class="Keyword">FOREIGN</a> <a id="1185" class="Pragma">GHC</a> <a id="1189" class="Pragma">import</a> <a id="1196" class="Pragma">System.Process</a>  <a id="1212" class="Symbol">#-}</a>
<a id="1216" class="Symbol">{-#</a> <a id="1220" class="Keyword">FOREIGN</a> <a id="1228" class="Pragma">GHC</a> <a id="1232" class="Pragma">import</a> <a id="1239" class="Pragma">qualified</a> <a id="1249" class="Pragma">Data.Text</a> <a id="1259" class="Pragma">as</a> <a id="1262" class="Pragma">T</a>  <a id="1265" class="Symbol">#-}</a>
<a id="1269" class="Symbol">{-#</a> <a id="1273" class="Keyword">FOREIGN</a> <a id="1281" class="Pragma">GHC</a> <a id="1285" class="Pragma">import</a> <a id="1292" class="Pragma">MAlonzo.Code.System.Exit.Primitive</a> <a id="1327" class="Symbol">#-}</a>

<a id="1332" class="Symbol">{-#</a> <a id="1336" class="Keyword">COMPILE</a> <a id="1344" class="Keyword">GHC</a> <a id="1348" href="System.Process.Primitive.html#593" class="Postulate">callCommand</a> <a id="1360" class="Pragma">=</a> <a id="1362" class="Pragma">\</a> <a id="1364" class="Pragma">cmd</a> <a id="1368" class="Pragma">-&gt;</a> <a id="1371" class="Pragma">callCommand</a> <a id="1383" class="Pragma">(T.unpack</a> <a id="1393" class="Pragma">cmd)</a> <a id="1398" class="Symbol">#-}</a>
<a id="1402" class="Symbol">{-#</a> <a id="1406" class="Keyword">COMPILE</a> <a id="1414" class="Keyword">GHC</a> <a id="1418" href="System.Process.Primitive.html#623" class="Postulate">system</a> <a id="1425" class="Pragma">=</a> <a id="1427" class="Pragma">\</a> <a id="1429" class="Pragma">cmd</a> <a id="1433" class="Pragma">-&gt;</a> <a id="1436" class="Pragma">fmap</a> <a id="1441" class="Pragma">fromExitCode</a> <a id="1454" class="Pragma">(system</a> <a id="1462" class="Pragma">(T.unpack</a> <a id="1472" class="Pragma">cmd))</a> <a id="1478" class="Symbol">#-}</a>
<a id="1482" class="Symbol">{-#</a> <a id="1486" class="Keyword">COMPILE</a> <a id="1494" class="Keyword">GHC</a> <a id="1498" href="System.Process.Primitive.html#660" class="Postulate">callProcess</a> <a id="1510" class="Pragma">=</a> <a id="1512" class="Pragma">\</a> <a id="1514" class="Pragma">exe</a> <a id="1518" class="Pragma">-&gt;</a> <a id="1521" class="Pragma">callProcess</a> <a id="1533" class="Pragma">(T.unpack</a> <a id="1543" class="Pragma">exe)</a> <a id="1548" class="Pragma">.</a> <a id="1550" class="Pragma">map</a> <a id="1554" class="Pragma">T.unpack</a> <a id="1563" class="Symbol">#-}</a>
<a id="1567" class="Symbol">{-#</a> <a id="1571" class="Keyword">COMPILE</a> <a id="1579" class="Keyword">GHC</a> <a id="1583" href="System.Process.Primitive.html#705" class="Postulate">readProcess</a> <a id="1595" class="Pragma">=</a> <a id="1597" class="Pragma">\</a> <a id="1599" class="Pragma">exe</a> <a id="1603" class="Pragma">args</a> <a id="1608" class="Pragma">-&gt;</a> <a id="1611" class="Pragma">fmap</a> <a id="1616" class="Pragma">T.pack</a> <a id="1623" class="Pragma">.</a> <a id="1625" class="Pragma">readProcess</a> <a id="1637" class="Pragma">(T.unpack</a> <a id="1647" class="Pragma">exe)</a> <a id="1652" class="Pragma">(map</a> <a id="1657" class="Pragma">T.unpack</a> <a id="1666" class="Pragma">args)</a> <a id="1672" class="Pragma">.</a> <a id="1674" class="Pragma">T.unpack</a> <a id="1683" class="Symbol">#-}</a>
<a id="1687" class="Symbol">{-#</a> <a id="1691" class="Keyword">COMPILE</a> <a id="1699" class="Keyword">GHC</a> <a id="1703" href="System.Process.Primitive.html#871" class="Postulate">readProcessWithExitCode</a> <a id="1727" class="Pragma">=</a> <a id="1729" class="Pragma">\</a> <a id="1731" class="Pragma">exe</a> <a id="1735" class="Pragma">args</a> <a id="1740" class="Pragma">stdin</a> <a id="1746" class="Pragma">-&gt;</a>
           <a id="1760" class="Pragma">do</a> <a id="1763" class="Pragma">{</a> <a id="1765" class="Pragma">(ex,</a> <a id="1770" class="Pragma">out,</a> <a id="1775" class="Pragma">err)</a> <a id="1780" class="Pragma">&lt;-</a> <a id="1783" class="Pragma">readProcessWithExitCode</a> <a id="1807" class="Pragma">(T.unpack</a> <a id="1817" class="Pragma">exe)</a> <a id="1822" class="Pragma">(map</a> <a id="1827" class="Pragma">T.unpack</a> <a id="1836" class="Pragma">args)</a> <a id="1842" class="Pragma">(T.unpack</a> <a id="1852" class="Pragma">stdin)</a>
              <a id="1873" class="Pragma">;</a> <a id="1875" class="Pragma">pure</a> <a id="1880" class="Pragma">(fromExitCode</a> <a id="1894" class="Pragma">ex,</a> <a id="1898" class="Pragma">(T.pack</a> <a id="1906" class="Pragma">out,</a> <a id="1911" class="Pragma">T.pack</a> <a id="1918" class="Pragma">err))</a>
              <a id="1938" class="Pragma">}</a>
<a id="1940" class="Symbol">#-}</a>
</pre></body></html>