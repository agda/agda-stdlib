<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Algebra.Solver.IdempotentCommutativeMonoid.Normal</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Solver for equations in idempotent commutative monoids</a>
<a id="164" class="Comment">--</a>
<a id="167" class="Comment">-- Adapted from Algebra.Solver.CommutativeMonoid</a>
<a id="216" class="Comment">------------------------------------------------------------------------</a>

<a id="290" class="Symbol">{-#</a> <a id="294" class="Keyword">OPTIONS</a> <a id="302" class="Pragma">--cubical-compatible</a> <a id="323" class="Pragma">--safe</a> <a id="330" class="Symbol">#-}</a>

<a id="335" class="Keyword">open</a> <a id="340" class="Keyword">import</a> <a id="347" href="Algebra.Bundles.html" class="Module">Algebra.Bundles</a> <a id="363" class="Keyword">using</a> <a id="369" class="Symbol">(</a><a id="370" href="Algebra.Bundles.html#9176" class="Record">IdempotentCommutativeMonoid</a><a id="397" class="Symbol">)</a>

<a id="400" class="Keyword">module</a> <a id="407" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html" class="Module">Algebra.Solver.IdempotentCommutativeMonoid.Normal</a>
  <a id="459" class="Symbol">{</a><a id="460" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#460" class="Bound">c</a> <a id="462" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#462" class="Bound">ℓ</a><a id="463" class="Symbol">}</a> <a id="465" class="Symbol">(</a><a id="466" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#466" class="Bound">M</a> <a id="468" class="Symbol">:</a> <a id="470" href="Algebra.Bundles.html#9176" class="Record">IdempotentCommutativeMonoid</a> <a id="498" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#460" class="Bound">c</a> <a id="500" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#462" class="Bound">ℓ</a><a id="501" class="Symbol">)</a> <a id="503" class="Keyword">where</a>

<a id="510" class="Keyword">import</a> <a id="517" href="Algebra.Properties.CommutativeSemigroup.html" class="Module">Algebra.Properties.CommutativeSemigroup</a> <a id="557" class="Symbol">as</a> <a id="560" class="Module">CSProperties</a>
<a id="573" class="Keyword">open</a> <a id="578" class="Keyword">import</a> <a id="585" href="Algebra.Properties.IdempotentCommutativeMonoid.html" class="Module">Algebra.Properties.IdempotentCommutativeMonoid</a> <a id="632" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#466" class="Bound">M</a> <a id="634" class="Keyword">using</a> <a id="640" class="Symbol">(</a><a id="641" href="Algebra.Properties.IdempotentCommutativeMonoid.html#902" class="Function">∙-distrˡ-∙</a><a id="651" class="Symbol">)</a>
<a id="653" class="Keyword">open</a> <a id="658" class="Keyword">import</a> <a id="665" href="Data.Bool.html" class="Module">Data.Bool</a> <a id="675" class="Symbol">as</a> <a id="678" class="Module">Bool</a> <a id="683" class="Keyword">using</a> <a id="689" class="Symbol">(</a><a id="690" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="694" class="Symbol">;</a> <a id="696" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="700" class="Symbol">;</a> <a id="702" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="707" class="Symbol">;</a> <a id="709" href="Data.Bool.Base.html#1505" class="Function Operator">if_then_else_</a><a id="722" class="Symbol">;</a> <a id="724" href="Data.Bool.Base.html#1053" class="Function Operator">_∨_</a><a id="727" class="Symbol">)</a>
<a id="729" class="Keyword">open</a> <a id="734" class="Keyword">import</a> <a id="741" href="Data.Fin.Base.html" class="Module">Data.Fin.Base</a> <a id="755" class="Keyword">using</a> <a id="761" class="Symbol">(</a><a id="762" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a><a id="765" class="Symbol">;</a> <a id="767" href="Data.Fin.Base.html#1181" class="InductiveConstructor">zero</a><a id="771" class="Symbol">;</a> <a id="773" href="Data.Fin.Base.html#1202" class="InductiveConstructor">suc</a><a id="776" class="Symbol">)</a>
<a id="778" class="Keyword">open</a> <a id="783" class="Keyword">import</a> <a id="790" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="804" class="Keyword">using</a> <a id="810" class="Symbol">(</a><a id="811" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="812" class="Symbol">)</a>
<a id="814" class="Keyword">open</a> <a id="819" class="Keyword">import</a> <a id="826" href="Data.Vec.Base.html" class="Module">Data.Vec.Base</a> <a id="840" class="Keyword">using</a> <a id="846" class="Symbol">(</a><a id="847" href="Data.Vec.Base.html#1119" class="Datatype">Vec</a><a id="850" class="Symbol">;</a> <a id="852" href="Data.Vec.Base.html#1155" class="InductiveConstructor">[]</a><a id="854" class="Symbol">;</a> <a id="856" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">_∷_</a><a id="859" class="Symbol">;</a> <a id="861" href="Data.Vec.Base.html#1676" class="Function">lookup</a><a id="867" class="Symbol">;</a> <a id="869" href="Data.Vec.Base.html#6493" class="Function">replicate</a><a id="878" class="Symbol">;</a> <a id="880" href="Data.Vec.Base.html#3745" class="Function">zipWith</a><a id="887" class="Symbol">)</a>
<a id="889" class="Keyword">import</a> <a id="896" href="Data.Vec.Relation.Binary.Pointwise.Inductive.html" class="Module">Data.Vec.Relation.Binary.Pointwise.Inductive</a> <a id="941" class="Symbol">as</a> <a id="944" class="Module">Pointwise</a>
<a id="954" class="Keyword">open</a> <a id="959" class="Keyword">import</a> <a id="966" href="Relation.Binary.Definitions.html" class="Module">Relation.Binary.Definitions</a> <a id="994" class="Keyword">using</a> <a id="1000" class="Symbol">(</a><a id="1001" href="Relation.Binary.Definitions.html#6834" class="Function">DecidableEquality</a><a id="1018" class="Symbol">)</a>
<a id="1020" class="Keyword">import</a> <a id="1027" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1060" class="Symbol">as</a> <a id="1063" class="Module">≈-Reasoning</a>
<a id="1075" class="Keyword">import</a> <a id="1082" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>       <a id="1115" class="Symbol">as</a> <a id="1118" class="Module">Dec</a>

<a id="1123" class="Keyword">open</a> <a id="1128" href="Algebra.Bundles.html#9176" class="Module">IdempotentCommutativeMonoid</a> <a id="1156" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#466" class="Bound">M</a>
<a id="1158" class="Keyword">open</a> <a id="1163" href="Algebra.Properties.CommutativeSemigroup.html" class="Module">CSProperties</a> <a id="1176" href="Algebra.Bundles.html#8392" class="Function">commutativeSemigroup</a> <a id="1197" class="Keyword">using</a> <a id="1203" class="Symbol">(</a><a id="1204" href="Algebra.Properties.Semigroup.html#458" class="Function">x∙yz≈xy∙z</a><a id="1213" class="Symbol">;</a> <a id="1215" href="Algebra.Properties.CommutativeSemigroup.html#1424" class="Function">x∙yz≈y∙xz</a><a id="1224" class="Symbol">)</a>
<a id="1226" class="Keyword">open</a> <a id="1231" href="Relation.Binary.Reasoning.Setoid.html" class="Module">≈-Reasoning</a> <a id="1243" href="Algebra.Structures.html#1873" class="Function">setoid</a>

<a id="1251" class="Keyword">private</a>
  <a id="1261" class="Keyword">variable</a>
    <a id="1274" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1274" class="Generalizable">n</a> <a id="1276" class="Symbol">:</a> <a id="1278" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>


<a id="1282" class="Comment">------------------------------------------------------------------------</a>
<a id="1355" class="Comment">-- Monoid expressions</a>

<a id="1378" class="Keyword">open</a> <a id="1383" class="Keyword">import</a> <a id="1390" href="Algebra.Solver.Monoid.Expression.html" class="Module">Algebra.Solver.Monoid.Expression</a> <a id="1423" href="Algebra.Bundles.html#7708" class="Function">rawMonoid</a> <a id="1433" class="Keyword">public</a>
  <a id="1442" class="Keyword">hiding</a> <a id="1449" class="Symbol">(</a><a id="1450" href="Algebra.Solver.Monoid.Expression.html#1386" class="Record">NormalAPI</a><a id="1459" class="Symbol">)</a>

<a id="1462" class="Comment">------------------------------------------------------------------------</a>
<a id="1535" class="Comment">-- Normal forms</a>

<a id="1552" class="Comment">-- A normal form is a vector of bits (a set).</a>

<a id="Normal"></a><a id="1599" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1599" class="Function">Normal</a> <a id="1606" class="Symbol">:</a> <a id="1608" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1610" class="Symbol">→</a> <a id="1612" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="1616" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1599" class="Function">Normal</a> <a id="1623" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1623" class="Bound">n</a> <a id="1625" class="Symbol">=</a> <a id="1627" href="Data.Vec.Base.html#1119" class="Datatype">Vec</a> <a id="1631" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="1636" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1623" class="Bound">n</a>

<a id="1639" class="Comment">-- The semantics of a normal form.</a>

<a id="⟦_⟧⇓"></a><a id="1675" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟦_⟧⇓</a> <a id="1680" class="Symbol">:</a> <a id="1682" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1599" class="Function">Normal</a> <a id="1689" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1274" class="Generalizable">n</a> <a id="1691" class="Symbol">→</a> <a id="1693" href="Algebra.Solver.Monoid.Expression.html#1039" class="Function">Env</a> <a id="1697" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1274" class="Generalizable">n</a> <a id="1699" class="Symbol">→</a> <a id="1701" href="Algebra.Bundles.html#9276" class="Field">Carrier</a>
<a id="1709" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟦</a> <a id="1711" href="Data.Vec.Base.html#1155" class="InductiveConstructor">[]</a>    <a id="1717" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟧⇓</a> <a id="1720" class="Symbol">_</a> <a id="1722" class="Symbol">=</a> <a id="1724" href="Algebra.Bundles.html#9416" class="Field">ε</a>
<a id="1726" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟦</a> <a id="1728" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1728" class="Bound">b</a> <a id="1730" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="1732" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1732" class="Bound">v</a> <a id="1734" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟧⇓</a> <a id="1737" class="Symbol">(</a><a id="1738" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1738" class="Bound">a</a> <a id="1740" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="1742" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1742" class="Bound">ρ</a><a id="1743" class="Symbol">)</a> <a id="1745" class="Symbol">=</a> <a id="1747" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="1750" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1728" class="Bound">b</a> <a id="1752" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="1757" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1738" class="Bound">a</a> <a id="1759" href="Algebra.Bundles.html#9368" class="Field Operator">∙</a> <a id="1761" class="Symbol">(</a><a id="1762" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟦</a> <a id="1764" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1732" class="Bound">v</a> <a id="1766" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟧⇓</a> <a id="1769" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1742" class="Bound">ρ</a><a id="1770" class="Symbol">)</a> <a id="1772" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="1777" class="Symbol">(</a><a id="1778" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟦</a> <a id="1780" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1732" class="Bound">v</a> <a id="1782" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟧⇓</a> <a id="1785" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1742" class="Bound">ρ</a><a id="1786" class="Symbol">)</a>

<a id="1789" class="Comment">-- We can decide if two normal forms are /syntactically/ equal.</a>

<a id="1854" class="Keyword">infix</a> <a id="1860" class="Number">5</a> <a id="1862" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1867" class="Function Operator">_≟_</a>

<a id="_≟_"></a><a id="1867" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1867" class="Function Operator">_≟_</a> <a id="1871" class="Symbol">:</a> <a id="1873" href="Relation.Binary.Definitions.html#6834" class="Function">DecidableEquality</a> <a id="1891" class="Symbol">(</a><a id="1892" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1599" class="Function">Normal</a> <a id="1899" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1274" class="Generalizable">n</a><a id="1900" class="Symbol">)</a>
<a id="1902" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1902" class="Bound">nf₁</a> <a id="1906" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1867" class="Function Operator">≟</a> <a id="1908" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1908" class="Bound">nf₂</a> <a id="1912" class="Symbol">=</a> <a id="1914" href="Relation.Nullary.Decidable.html#1241" class="Function">Dec.map</a> <a id="1922" href="Data.Vec.Relation.Binary.Pointwise.Inductive.html#9718" class="Function">Pointwise-≡↔≡</a> <a id="1936" class="Symbol">(</a><a id="1937" href="Data.Vec.Relation.Binary.Pointwise.Inductive.html#3736" class="Function">decidable</a> <a id="1947" href="Data.Bool.Properties.html#1950" class="Function Operator">Bool._≟_</a> <a id="1956" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1902" class="Bound">nf₁</a> <a id="1960" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1908" class="Bound">nf₂</a><a id="1963" class="Symbol">)</a>
  <a id="1967" class="Keyword">where</a> <a id="1973" class="Keyword">open</a> <a id="1978" href="Data.Vec.Relation.Binary.Pointwise.Inductive.html" class="Module">Pointwise</a> <a id="1988" class="Keyword">using</a> <a id="1994" class="Symbol">(</a><a id="1995" href="Data.Vec.Relation.Binary.Pointwise.Inductive.html#9718" class="Function">Pointwise-≡↔≡</a><a id="2008" class="Symbol">;</a> <a id="2010" href="Data.Vec.Relation.Binary.Pointwise.Inductive.html#3736" class="Function">decidable</a><a id="2019" class="Symbol">)</a>

<a id="2022" class="Comment">------------------------------------------------------------------------</a>
<a id="2095" class="Comment">-- Constructions on normal forms</a>

<a id="2129" class="Comment">-- The empty set.</a>

<a id="empty"></a><a id="2148" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2148" class="Function">empty</a> <a id="2154" class="Symbol">:</a> <a id="2156" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1599" class="Function">Normal</a> <a id="2163" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1274" class="Generalizable">n</a>
<a id="2165" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2148" class="Function">empty</a> <a id="2171" class="Symbol">=</a> <a id="2173" href="Data.Vec.Base.html#6493" class="Function">replicate</a> <a id="2183" class="Symbol">_</a> <a id="2185" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="2192" class="Comment">-- A singleton set.</a>

<a id="singleton"></a><a id="2213" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2213" class="Function">singleton</a> <a id="2223" class="Symbol">:</a> <a id="2225" class="Symbol">(</a><a id="2226" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2226" class="Bound">i</a> <a id="2228" class="Symbol">:</a> <a id="2230" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="2234" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1274" class="Generalizable">n</a><a id="2235" class="Symbol">)</a> <a id="2237" class="Symbol">→</a> <a id="2239" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1599" class="Function">Normal</a> <a id="2246" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1274" class="Generalizable">n</a>
<a id="2248" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2213" class="Function">singleton</a> <a id="2258" href="Data.Fin.Base.html#1181" class="InductiveConstructor">zero</a>    <a id="2266" class="Symbol">=</a> <a id="2268" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="2273" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="2275" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2148" class="Function">empty</a>
<a id="2281" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2213" class="Function">singleton</a> <a id="2291" class="Symbol">(</a><a id="2292" href="Data.Fin.Base.html#1202" class="InductiveConstructor">suc</a> <a id="2296" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2296" class="Bound">i</a><a id="2297" class="Symbol">)</a> <a id="2299" class="Symbol">=</a> <a id="2301" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="2307" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="2309" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2213" class="Function">singleton</a> <a id="2319" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2296" class="Bound">i</a>

<a id="2322" class="Comment">-- The composition of normal forms.</a>
<a id="2358" class="Keyword">infixr</a> <a id="2365" class="Number">10</a> <a id="2368" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2373" class="Function Operator">_•_</a>

<a id="_•_"></a><a id="2373" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2373" class="Function Operator">_•_</a> <a id="2377" class="Symbol">:</a> <a id="2379" class="Symbol">(</a><a id="2380" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2380" class="Bound">v</a> <a id="2382" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2382" class="Bound">w</a> <a id="2384" class="Symbol">:</a> <a id="2386" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1599" class="Function">Normal</a> <a id="2393" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1274" class="Generalizable">n</a><a id="2394" class="Symbol">)</a> <a id="2396" class="Symbol">→</a> <a id="2398" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1599" class="Function">Normal</a> <a id="2405" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1274" class="Generalizable">n</a>
<a id="2407" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2373" class="Function Operator">_•_</a> <a id="2411" class="Symbol">=</a> <a id="2413" href="Data.Vec.Base.html#3745" class="Function">zipWith</a> <a id="2421" href="Data.Bool.Base.html#1053" class="Function Operator">_∨_</a>

<a id="2426" class="Comment">------------------------------------------------------------------------</a>
<a id="2499" class="Comment">-- Correctness of the constructions on normal forms</a>

<a id="2552" class="Comment">-- The empty set stands for the unit ε.</a>

<a id="empty-correct"></a><a id="2593" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2593" class="Function">empty-correct</a> <a id="2607" class="Symbol">:</a> <a id="2609" class="Symbol">(</a><a id="2610" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2610" class="Bound">ρ</a> <a id="2612" class="Symbol">:</a> <a id="2614" href="Algebra.Solver.Monoid.Expression.html#1039" class="Function">Env</a> <a id="2618" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1274" class="Generalizable">n</a><a id="2619" class="Symbol">)</a> <a id="2621" class="Symbol">→</a> <a id="2623" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟦</a> <a id="2625" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2148" class="Function">empty</a> <a id="2631" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟧⇓</a> <a id="2634" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2610" class="Bound">ρ</a> <a id="2636" href="Algebra.Bundles.html#9318" class="Field Operator">≈</a> <a id="2638" href="Algebra.Bundles.html#9416" class="Field">ε</a>
<a id="2640" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2593" class="Function">empty-correct</a> <a id="2654" href="Data.Vec.Base.html#1155" class="InductiveConstructor">[]</a>      <a id="2662" class="Symbol">=</a> <a id="2664" href="Relation.Binary.Structures.html#1596" class="Function">refl</a>
<a id="2669" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2593" class="Function">empty-correct</a> <a id="2683" class="Symbol">(</a><a id="2684" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2684" class="Bound">a</a> <a id="2686" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="2688" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2688" class="Bound">ρ</a><a id="2689" class="Symbol">)</a> <a id="2691" class="Symbol">=</a> <a id="2693" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2593" class="Function">empty-correct</a> <a id="2707" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2688" class="Bound">ρ</a>

<a id="2710" class="Comment">-- The singleton set stands for a single variable.</a>

<a id="singleton-correct"></a><a id="2762" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2762" class="Function">singleton-correct</a> <a id="2780" class="Symbol">:</a> <a id="2782" class="Symbol">(</a><a id="2783" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2783" class="Bound">x</a> <a id="2785" class="Symbol">:</a> <a id="2787" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="2791" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1274" class="Generalizable">n</a><a id="2792" class="Symbol">)</a> <a id="2794" class="Symbol">(</a><a id="2795" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2795" class="Bound">ρ</a> <a id="2797" class="Symbol">:</a> <a id="2799" href="Algebra.Solver.Monoid.Expression.html#1039" class="Function">Env</a> <a id="2803" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1274" class="Generalizable">n</a><a id="2804" class="Symbol">)</a> <a id="2806" class="Symbol">→</a>
                    <a id="2828" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟦</a> <a id="2830" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2213" class="Function">singleton</a> <a id="2840" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2783" class="Bound">x</a> <a id="2842" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟧⇓</a> <a id="2845" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2795" class="Bound">ρ</a> <a id="2847" href="Algebra.Bundles.html#9318" class="Field Operator">≈</a> <a id="2849" href="Data.Vec.Base.html#1676" class="Function">lookup</a> <a id="2856" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2795" class="Bound">ρ</a> <a id="2858" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2783" class="Bound">x</a>
<a id="2860" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2762" class="Function">singleton-correct</a> <a id="2878" href="Data.Fin.Base.html#1181" class="InductiveConstructor">zero</a> <a id="2883" class="Symbol">(</a><a id="2884" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2884" class="Bound">x</a> <a id="2886" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="2888" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2888" class="Bound">ρ</a><a id="2889" class="Symbol">)</a> <a id="2891" class="Symbol">=</a> <a id="2893" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="2903" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2884" class="Bound">x</a> <a id="2905" href="Algebra.Bundles.html#9368" class="Field Operator">∙</a> <a id="2907" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟦</a> <a id="2909" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2148" class="Function">empty</a> <a id="2915" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟧⇓</a> <a id="2918" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2888" class="Bound">ρ</a>   <a id="2922" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="2925" href="Algebra.Structures.html#1948" class="Function">∙-congˡ</a> <a id="2933" class="Symbol">(</a><a id="2934" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2593" class="Function">empty-correct</a> <a id="2948" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2888" class="Bound">ρ</a><a id="2949" class="Symbol">)</a> <a id="2951" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="2957" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2884" class="Bound">x</a> <a id="2959" href="Algebra.Bundles.html#9368" class="Field Operator">∙</a> <a id="2961" href="Algebra.Bundles.html#9416" class="Field">ε</a>              <a id="2976" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="2979" href="Algebra.Structures.html#5048" class="Function">identityʳ</a> <a id="2989" class="Symbol">_</a> <a id="2991" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="2997" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2884" class="Bound">x</a>                  <a id="3016" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
<a id="3018" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2762" class="Function">singleton-correct</a> <a id="3036" class="Symbol">(</a><a id="3037" href="Data.Fin.Base.html#1202" class="InductiveConstructor">suc</a> <a id="3041" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3041" class="Bound">x</a><a id="3042" class="Symbol">)</a> <a id="3044" class="Symbol">(</a><a id="3045" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3045" class="Bound">m</a> <a id="3047" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3049" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3049" class="Bound">ρ</a><a id="3050" class="Symbol">)</a> <a id="3052" class="Symbol">=</a> <a id="3054" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2762" class="Function">singleton-correct</a> <a id="3072" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3041" class="Bound">x</a> <a id="3074" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3049" class="Bound">ρ</a>

<a id="3077" class="Comment">-- Normal form composition corresponds to the composition of the monoid.</a>

<a id="comp-correct"></a><a id="3151" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3151" class="Function">comp-correct</a> <a id="3164" class="Symbol">:</a> <a id="3166" class="Symbol">∀</a> <a id="3168" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3168" class="Bound">v</a> <a id="3170" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3170" class="Bound">w</a> <a id="3172" class="Symbol">(</a><a id="3173" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3173" class="Bound">ρ</a> <a id="3175" class="Symbol">:</a> <a id="3177" href="Algebra.Solver.Monoid.Expression.html#1039" class="Function">Env</a> <a id="3181" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1274" class="Generalizable">n</a><a id="3182" class="Symbol">)</a> <a id="3184" class="Symbol">→</a>
               <a id="3201" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟦</a> <a id="3203" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3168" class="Bound">v</a> <a id="3205" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2373" class="Function Operator">•</a> <a id="3207" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3170" class="Bound">w</a> <a id="3209" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟧⇓</a> <a id="3212" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3173" class="Bound">ρ</a> <a id="3214" href="Algebra.Bundles.html#9318" class="Field Operator">≈</a> <a id="3216" class="Symbol">(</a><a id="3217" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟦</a> <a id="3219" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3168" class="Bound">v</a> <a id="3221" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟧⇓</a> <a id="3224" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3173" class="Bound">ρ</a> <a id="3226" href="Algebra.Bundles.html#9368" class="Field Operator">∙</a> <a id="3228" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟦</a> <a id="3230" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3170" class="Bound">w</a> <a id="3232" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟧⇓</a> <a id="3235" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3173" class="Bound">ρ</a><a id="3236" class="Symbol">)</a>
<a id="3238" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3151" class="Function">comp-correct</a> <a id="3251" href="Data.Vec.Base.html#1155" class="InductiveConstructor">[]</a> <a id="3254" href="Data.Vec.Base.html#1155" class="InductiveConstructor">[]</a> <a id="3257" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3257" class="Bound">ρ</a> <a id="3259" class="Symbol">=</a> <a id="3261" href="Relation.Binary.Structures.html#1622" class="Function">sym</a> <a id="3265" class="Symbol">(</a><a id="3266" href="Algebra.Structures.html#4987" class="Function">identityˡ</a> <a id="3276" class="Symbol">_)</a>
<a id="3279" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3151" class="Function">comp-correct</a> <a id="3292" class="Symbol">(</a><a id="3293" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="3298" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3300" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3300" class="Bound">v</a><a id="3301" class="Symbol">)</a> <a id="3303" class="Symbol">(</a><a id="3304" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="3309" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3311" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3311" class="Bound">w</a><a id="3312" class="Symbol">)</a> <a id="3314" class="Symbol">(</a><a id="3315" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3315" class="Bound">a</a> <a id="3317" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3319" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3319" class="Bound">ρ</a><a id="3320" class="Symbol">)</a> <a id="3322" class="Symbol">=</a>
  <a id="3326" href="Relation.Binary.Structures.html#1648" class="Function">trans</a> <a id="3332" class="Symbol">(</a><a id="3333" href="Algebra.Structures.html#1948" class="Function">∙-congˡ</a> <a id="3341" class="Symbol">(</a><a id="3342" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3151" class="Function">comp-correct</a> <a id="3355" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3300" class="Bound">v</a> <a id="3357" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3311" class="Bound">w</a> <a id="3359" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3319" class="Bound">ρ</a><a id="3360" class="Symbol">))</a> <a id="3363" class="Symbol">(</a><a id="3364" href="Algebra.Properties.IdempotentCommutativeMonoid.html#902" class="Function">∙-distrˡ-∙</a> <a id="3375" class="Symbol">_</a> <a id="3377" class="Symbol">_</a> <a id="3379" class="Symbol">_)</a>
<a id="3382" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3151" class="Function">comp-correct</a> <a id="3395" class="Symbol">(</a><a id="3396" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="3401" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3403" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3403" class="Bound">v</a><a id="3404" class="Symbol">)</a> <a id="3406" class="Symbol">(</a><a id="3407" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3413" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3415" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3415" class="Bound">w</a><a id="3416" class="Symbol">)</a> <a id="3418" class="Symbol">(</a><a id="3419" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3419" class="Bound">a</a> <a id="3421" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3423" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3423" class="Bound">ρ</a><a id="3424" class="Symbol">)</a> <a id="3426" class="Symbol">=</a>
  <a id="3430" href="Relation.Binary.Structures.html#1648" class="Function">trans</a> <a id="3436" class="Symbol">(</a><a id="3437" href="Algebra.Structures.html#1948" class="Function">∙-congˡ</a> <a id="3445" class="Symbol">(</a><a id="3446" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3151" class="Function">comp-correct</a> <a id="3459" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3403" class="Bound">v</a> <a id="3461" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3415" class="Bound">w</a> <a id="3463" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3423" class="Bound">ρ</a><a id="3464" class="Symbol">))</a> <a id="3467" class="Symbol">(</a><a id="3468" href="Algebra.Properties.Semigroup.html#458" class="Function">x∙yz≈xy∙z</a> <a id="3478" class="Symbol">_</a> <a id="3480" class="Symbol">_</a> <a id="3482" class="Symbol">_)</a>
<a id="3485" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3151" class="Function">comp-correct</a> <a id="3498" class="Symbol">(</a><a id="3499" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3505" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3507" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3507" class="Bound">v</a><a id="3508" class="Symbol">)</a> <a id="3510" class="Symbol">(</a><a id="3511" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="3516" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3518" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3518" class="Bound">w</a><a id="3519" class="Symbol">)</a> <a id="3521" class="Symbol">(</a><a id="3522" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3522" class="Bound">a</a> <a id="3524" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3526" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3526" class="Bound">ρ</a><a id="3527" class="Symbol">)</a> <a id="3529" class="Symbol">=</a>
  <a id="3533" href="Relation.Binary.Structures.html#1648" class="Function">trans</a> <a id="3539" class="Symbol">(</a><a id="3540" href="Algebra.Structures.html#1948" class="Function">∙-congˡ</a> <a id="3548" class="Symbol">(</a><a id="3549" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3151" class="Function">comp-correct</a> <a id="3562" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3507" class="Bound">v</a> <a id="3564" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3518" class="Bound">w</a> <a id="3566" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3526" class="Bound">ρ</a><a id="3567" class="Symbol">))</a> <a id="3570" class="Symbol">(</a><a id="3571" href="Algebra.Properties.CommutativeSemigroup.html#1424" class="Function">x∙yz≈y∙xz</a> <a id="3581" class="Symbol">_</a> <a id="3583" class="Symbol">_</a> <a id="3585" class="Symbol">_)</a>
<a id="3588" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3151" class="Function">comp-correct</a> <a id="3601" class="Symbol">(</a><a id="3602" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3608" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3610" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3610" class="Bound">v</a><a id="3611" class="Symbol">)</a> <a id="3613" class="Symbol">(</a><a id="3614" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3620" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3622" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3622" class="Bound">w</a><a id="3623" class="Symbol">)</a> <a id="3625" class="Symbol">(</a><a id="3626" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3626" class="Bound">a</a> <a id="3628" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="3630" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3630" class="Bound">ρ</a><a id="3631" class="Symbol">)</a> <a id="3633" class="Symbol">=</a>
  <a id="3637" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3151" class="Function">comp-correct</a> <a id="3650" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3610" class="Bound">v</a> <a id="3652" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3622" class="Bound">w</a> <a id="3654" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3630" class="Bound">ρ</a>

<a id="3657" class="Comment">------------------------------------------------------------------------</a>
<a id="3730" class="Comment">-- Normalization</a>

<a id="3748" class="Comment">-- A normaliser.</a>

<a id="normalise"></a><a id="3766" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3766" class="Function">normalise</a> <a id="3776" class="Symbol">:</a> <a id="3778" href="Algebra.Solver.Monoid.Expression.html#884" class="Datatype">Expr</a> <a id="3783" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1274" class="Generalizable">n</a> <a id="3785" class="Symbol">→</a> <a id="3787" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1599" class="Function">Normal</a> <a id="3794" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1274" class="Generalizable">n</a>
<a id="3796" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3766" class="Function">normalise</a> <a id="3806" class="Symbol">(</a><a id="3807" href="Algebra.Solver.Monoid.Expression.html#911" class="InductiveConstructor">var</a> <a id="3811" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3811" class="Bound">x</a><a id="3812" class="Symbol">)</a>   <a id="3816" class="Symbol">=</a> <a id="3818" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2213" class="Function">singleton</a> <a id="3828" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3811" class="Bound">x</a>
<a id="3830" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3766" class="Function">normalise</a> <a id="3840" href="Algebra.Solver.Monoid.Expression.html#934" class="InductiveConstructor">id</a>        <a id="3850" class="Symbol">=</a> <a id="3852" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2148" class="Function">empty</a>
<a id="3858" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3766" class="Function">normalise</a> <a id="3868" class="Symbol">(</a><a id="3869" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3869" class="Bound">e₁</a> <a id="3872" href="Algebra.Solver.Monoid.Expression.html#949" class="InductiveConstructor Operator">⊕</a> <a id="3874" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3874" class="Bound">e₂</a><a id="3876" class="Symbol">)</a> <a id="3878" class="Symbol">=</a> <a id="3880" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3766" class="Function">normalise</a> <a id="3890" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3869" class="Bound">e₁</a> <a id="3893" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2373" class="Function Operator">•</a> <a id="3895" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3766" class="Function">normalise</a> <a id="3905" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3874" class="Bound">e₂</a>

<a id="3909" class="Comment">-- The normaliser preserves the semantics of the expression.</a>

<a id="correct"></a><a id="3971" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3971" class="Function">correct</a> <a id="3979" class="Symbol">:</a> <a id="3981" class="Symbol">∀</a> <a id="3983" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3983" class="Bound">e</a> <a id="3985" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3985" class="Bound">ρ</a> <a id="3987" class="Symbol">→</a> <a id="3989" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟦</a> <a id="3991" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3766" class="Function">normalise</a> <a id="4001" class="Symbol">{</a><a id="4002" class="Argument">n</a> <a id="4004" class="Symbol">=</a> <a id="4006" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1274" class="Generalizable">n</a><a id="4007" class="Symbol">}</a> <a id="4009" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3983" class="Bound">e</a> <a id="4011" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟧⇓</a> <a id="4014" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3985" class="Bound">ρ</a> <a id="4016" href="Algebra.Bundles.html#9318" class="Field Operator">≈</a> <a id="4018" href="Algebra.Solver.Monoid.Expression.html#1162" class="Function Operator">⟦</a> <a id="4020" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3983" class="Bound">e</a> <a id="4022" href="Algebra.Solver.Monoid.Expression.html#1162" class="Function Operator">⟧</a> <a id="4024" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3985" class="Bound">ρ</a>
<a id="4026" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3971" class="Function">correct</a> <a id="4034" class="Symbol">(</a><a id="4035" href="Algebra.Solver.Monoid.Expression.html#911" class="InductiveConstructor">var</a> <a id="4039" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4039" class="Bound">x</a><a id="4040" class="Symbol">)</a>   <a id="4044" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4044" class="Bound">ρ</a> <a id="4046" class="Symbol">=</a> <a id="4048" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2762" class="Function">singleton-correct</a> <a id="4066" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4039" class="Bound">x</a> <a id="4068" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4044" class="Bound">ρ</a>
<a id="4070" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3971" class="Function">correct</a> <a id="4078" href="Algebra.Solver.Monoid.Expression.html#934" class="InductiveConstructor">id</a>        <a id="4088" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4088" class="Bound">ρ</a> <a id="4090" class="Symbol">=</a> <a id="4092" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2593" class="Function">empty-correct</a> <a id="4106" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4088" class="Bound">ρ</a>
<a id="4108" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3971" class="Function">correct</a> <a id="4116" class="Symbol">(</a><a id="4117" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4117" class="Bound">e₁</a> <a id="4120" href="Algebra.Solver.Monoid.Expression.html#949" class="InductiveConstructor Operator">⊕</a> <a id="4122" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4122" class="Bound">e₂</a><a id="4124" class="Symbol">)</a> <a id="4126" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4126" class="Bound">ρ</a> <a id="4128" class="Symbol">=</a> <a id="4130" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
  <a id="4138" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟦</a> <a id="4140" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3766" class="Function">normalise</a> <a id="4150" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4117" class="Bound">e₁</a> <a id="4153" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2373" class="Function Operator">•</a> <a id="4155" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3766" class="Function">normalise</a> <a id="4165" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4122" class="Bound">e₂</a> <a id="4168" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟧⇓</a> <a id="4171" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4126" class="Bound">ρ</a>
    <a id="4177" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="4180" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3151" class="Function">comp-correct</a> <a id="4193" class="Symbol">(</a><a id="4194" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3766" class="Function">normalise</a> <a id="4204" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4117" class="Bound">e₁</a><a id="4206" class="Symbol">)</a> <a id="4208" class="Symbol">(</a><a id="4209" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3766" class="Function">normalise</a> <a id="4219" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4122" class="Bound">e₂</a><a id="4221" class="Symbol">)</a> <a id="4223" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4126" class="Bound">ρ</a> <a id="4225" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
  <a id="4229" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟦</a> <a id="4231" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3766" class="Function">normalise</a> <a id="4241" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4117" class="Bound">e₁</a> <a id="4244" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟧⇓</a> <a id="4247" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4126" class="Bound">ρ</a> <a id="4249" href="Algebra.Bundles.html#9368" class="Field Operator">∙</a> <a id="4251" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟦</a> <a id="4253" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3766" class="Function">normalise</a> <a id="4263" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4122" class="Bound">e₂</a> <a id="4266" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#1675" class="Function Operator">⟧⇓</a> <a id="4269" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4126" class="Bound">ρ</a>
    <a id="4275" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="4278" href="Algebra.Structures.html#1798" class="Function">∙-cong</a> <a id="4285" class="Symbol">(</a><a id="4286" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3971" class="Function">correct</a> <a id="4294" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4117" class="Bound">e₁</a> <a id="4297" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4126" class="Bound">ρ</a><a id="4298" class="Symbol">)</a> <a id="4300" class="Symbol">(</a><a id="4301" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#3971" class="Function">correct</a> <a id="4309" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4122" class="Bound">e₂</a> <a id="4312" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4126" class="Bound">ρ</a><a id="4313" class="Symbol">)</a> <a id="4315" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
  <a id="4319" href="Algebra.Solver.Monoid.Expression.html#1162" class="Function Operator">⟦</a> <a id="4321" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4117" class="Bound">e₁</a> <a id="4324" href="Algebra.Solver.Monoid.Expression.html#1162" class="Function Operator">⟧</a> <a id="4326" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4126" class="Bound">ρ</a> <a id="4328" href="Algebra.Bundles.html#9368" class="Field Operator">∙</a> <a id="4330" href="Algebra.Solver.Monoid.Expression.html#1162" class="Function Operator">⟦</a> <a id="4332" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4122" class="Bound">e₂</a> <a id="4335" href="Algebra.Solver.Monoid.Expression.html#1162" class="Function Operator">⟧</a> <a id="4337" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4126" class="Bound">ρ</a>
    <a id="4343" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>


<a id="4347" class="Comment">------------------------------------------------------------------------</a>
<a id="4420" class="Comment">-- DEPRECATED NAMES</a>
<a id="4440" class="Comment">------------------------------------------------------------------------</a>
<a id="4513" class="Comment">-- Please use the new names as continuing support for the old names is</a>
<a id="4584" class="Comment">-- not guaranteed.</a>

<a id="4604" class="Comment">-- Version 2.2</a>

<a id="flip12"></a><a id="4620" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4620" class="Function">flip12</a> <a id="4627" class="Symbol">=</a> <a id="4629" href="Algebra.Properties.CommutativeSemigroup.html#1424" class="Function">x∙yz≈y∙xz</a>
<a id="4639" class="Symbol">{-#</a> <a id="4643" class="Keyword">WARNING_ON_USAGE</a> <a id="4660" class="Pragma">flip12</a>
<a id="4667" class="String">&quot;Warning: flip12 was deprecated in v2.2.
Please use Algebra.Properties.CommutativeSemigroup.x∙yz≈y∙xz instead.&quot;</a>
<a id="4779" class="Symbol">#-}</a>
<a id="distr"></a><a id="4783" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4783" class="Function">distr</a> <a id="4789" class="Symbol">=</a> <a id="4791" href="Algebra.Properties.IdempotentCommutativeMonoid.html#902" class="Function">∙-distrˡ-∙</a>
<a id="4802" class="Symbol">{-#</a> <a id="4806" class="Keyword">WARNING_ON_USAGE</a> <a id="4823" class="Pragma">distr</a>
<a id="4829" class="String">&quot;Warning: distr was deprecated in v2.2.
Please use Algebra.Properties.IdempotentCommutativeMonoid.∙-distrˡ-∙ instead.&quot;</a>
<a id="4948" class="Symbol">#-}</a>
<a id="sg"></a><a id="4952" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#4952" class="Function">sg</a> <a id="4955" class="Symbol">=</a> <a id="4957" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2213" class="Function">singleton</a>
<a id="4967" class="Symbol">{-#</a> <a id="4971" class="Keyword">WARNING_ON_USAGE</a> <a id="4988" class="Pragma">sg</a>
<a id="4991" class="String">&quot;Warning: sg was deprecated in v2.2.
Please use singleton instead.&quot;</a>
<a id="5059" class="Symbol">#-}</a>
<a id="sg-correct"></a><a id="5063" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#5063" class="Function">sg-correct</a> <a id="5074" class="Symbol">=</a> <a id="5076" href="Algebra.Solver.IdempotentCommutativeMonoid.Normal.html#2762" class="Function">singleton-correct</a>
<a id="5094" class="Symbol">{-#</a> <a id="5098" class="Keyword">WARNING_ON_USAGE</a> <a id="5115" class="Pragma">sg-correct</a>
<a id="5126" class="String">&quot;Warning: sg-correct was deprecated in v2.2.
Please use singleton-correct instead.&quot;</a>
<a id="5210" class="Symbol">#-}</a>
</pre></body></html>