<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Char.Unsafe</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Unsafe Char operations and proofs</a>
<a id="143" class="Comment">------------------------------------------------------------------------</a>

<a id="217" class="Keyword">module</a> <a id="224" href="Data.Char.Unsafe.html" class="Module">Data.Char.Unsafe</a> <a id="241" class="Keyword">where</a>

<a id="248" class="Keyword">open</a> <a id="253" class="Keyword">import</a> <a id="260" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="275" class="Keyword">using</a> <a id="281" class="Symbol">(</a><a id="282" href="Agda.Builtin.Bool.html#67" class="Datatype">Bool</a><a id="286" class="Symbol">;</a> <a id="288" href="Agda.Builtin.Bool.html#92" class="InductiveConstructor">true</a><a id="292" class="Symbol">;</a> <a id="294" href="Agda.Builtin.Bool.html#86" class="InductiveConstructor">false</a><a id="299" class="Symbol">)</a>
<a id="301" class="Keyword">open</a> <a id="306" class="Keyword">import</a> <a id="313" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="330" class="Keyword">using</a> <a id="336" class="Symbol">(</a><a id="337" href="Relation.Nullary.html#570" class="InductiveConstructor">yes</a><a id="340" class="Symbol">;</a> <a id="342" href="Relation.Nullary.html#597" class="InductiveConstructor">no</a><a id="344" class="Symbol">)</a>
<a id="346" class="Keyword">open</a> <a id="351" class="Keyword">import</a> <a id="358" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="385" class="Keyword">using</a> <a id="391" class="Symbol">(</a><a id="392" href="Relation.Nullary.Decidable.html#822" class="Function Operator">⌊_⌋</a><a id="395" class="Symbol">)</a>
<a id="397" class="Keyword">open</a> <a id="402" class="Keyword">import</a> <a id="409" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="425" class="Keyword">using</a> <a id="431" class="Symbol">(</a><a id="432" href="Relation.Binary.Core.html#4499" class="Function">Decidable</a><a id="441" class="Symbol">;</a> <a id="443" href="Relation.Binary.html#3012" class="Record">DecSetoid</a><a id="452" class="Symbol">)</a>
<a id="454" class="Keyword">open</a> <a id="459" class="Keyword">import</a> <a id="466" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="504" class="Symbol">as</a> <a id="507" class="Module">PropEq</a> <a id="514" class="Keyword">using</a> <a id="520" class="Symbol">(</a><a id="521" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="524" class="Symbol">)</a>
<a id="526" class="Keyword">open</a> <a id="531" class="Keyword">import</a> <a id="538" href="Relation.Binary.PropositionalEquality.TrustMe.html" class="Module">Relation.Binary.PropositionalEquality.TrustMe</a>

<a id="585" class="Keyword">open</a> <a id="590" class="Keyword">import</a> <a id="597" href="Agda.Builtin.Char.html" class="Module">Agda.Builtin.Char</a> <a id="615" class="Keyword">using</a> <a id="621" class="Symbol">(</a><a id="622" href="Agda.Builtin.Char.html#400" class="Primitive">primCharEquality</a><a id="638" class="Symbol">)</a>
<a id="640" class="Keyword">open</a> <a id="645" class="Keyword">import</a> <a id="652" href="Data.Char.html" class="Module">Data.Char</a>

<a id="663" class="Comment">------------------------------------------------------------------------</a>
<a id="736" class="Comment">-- An informative equality test.</a>

<a id="770" class="Keyword">infix</a> <a id="776" class="Number">4</a> <a id="778" href="Data.Char.Unsafe.html#783" class="Function Operator">_≟_</a>

<a id="_≟_"></a><a id="783" href="Data.Char.Unsafe.html#783" class="Function Operator">_≟_</a> <a id="787" class="Symbol">:</a> <a id="789" href="Relation.Binary.Core.html#4499" class="Function">Decidable</a> <a id="799" class="Symbol">{</a><a id="800" class="Argument">A</a> <a id="802" class="Symbol">=</a> <a id="804" href="Agda.Builtin.Char.html#132" class="Postulate">Char</a><a id="808" class="Symbol">}</a> <a id="810" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a>
<a id="814" href="Data.Char.Unsafe.html#814" class="Bound">s₁</a> <a id="817" href="Data.Char.Unsafe.html#783" class="Function Operator">≟</a> <a id="819" href="Data.Char.Unsafe.html#819" class="Bound">s₂</a> <a id="822" class="Keyword">with</a> <a id="827" href="Agda.Builtin.Char.html#400" class="Primitive">primCharEquality</a> <a id="844" href="Data.Char.Unsafe.html#814" class="Bound">s₁</a> <a id="847" href="Data.Char.Unsafe.html#819" class="Bound">s₂</a>
<a id="850" class="Symbol">...</a> <a id="854" class="Symbol">|</a> <a id="856" href="Agda.Builtin.Bool.html#92" class="InductiveConstructor">true</a>  <a id="862" class="Symbol">=</a> <a id="864" href="Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="868" href="Relation.Binary.PropositionalEquality.TrustMe.html#525" class="Function">trustMe</a>
<a id="876" class="Symbol">...</a> <a id="880" class="Symbol">|</a> <a id="882" href="Agda.Builtin.Bool.html#86" class="InductiveConstructor">false</a> <a id="888" class="Symbol">=</a> <a id="890" href="Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="893" href="Data.Char.Unsafe.html#920" class="Postulate">whatever</a>
  <a id="904" class="Keyword">where</a> <a id="910" class="Keyword">postulate</a> <a id="920" href="Data.Char.Unsafe.html#920" class="Postulate">whatever</a> <a id="929" class="Symbol">:</a> <a id="931" class="Symbol">_</a>

<a id="934" class="Comment">------------------------------------------------------------------------</a>
<a id="1007" class="Comment">-- Boolean equality test.</a>
<a id="1033" class="Comment">--</a>
<a id="1036" class="Comment">-- Why is the definition _==_ = primCharEquality not used? One reason</a>
<a id="1106" class="Comment">-- is that the present definition can sometimes improve type</a>
<a id="1167" class="Comment">-- inference, at least with the version of Agda that is current at the</a>
<a id="1238" class="Comment">-- time of writing: see unit-test below.</a>

<a id="1280" class="Keyword">infix</a> <a id="1286" class="Number">4</a> <a id="1288" href="Data.Char.Unsafe.html#1294" class="Function Operator">_==_</a>

<a id="_==_"></a><a id="1294" href="Data.Char.Unsafe.html#1294" class="Function Operator">_==_</a> <a id="1299" class="Symbol">:</a> <a id="1301" href="Agda.Builtin.Char.html#132" class="Postulate">Char</a> <a id="1306" class="Symbol">→</a> <a id="1308" href="Agda.Builtin.Char.html#132" class="Postulate">Char</a> <a id="1313" class="Symbol">→</a> <a id="1315" href="Agda.Builtin.Bool.html#67" class="Datatype">Bool</a>
<a id="1320" href="Data.Char.Unsafe.html#1320" class="Bound">c₁</a> <a id="1323" href="Data.Char.Unsafe.html#1294" class="Function Operator">==</a> <a id="1326" href="Data.Char.Unsafe.html#1326" class="Bound">c₂</a> <a id="1329" class="Symbol">=</a> <a id="1331" href="Relation.Nullary.Decidable.html#822" class="Function Operator">⌊</a> <a id="1333" href="Data.Char.Unsafe.html#1320" class="Bound">c₁</a> <a id="1336" href="Data.Char.Unsafe.html#783" class="Function Operator">≟</a> <a id="1338" href="Data.Char.Unsafe.html#1326" class="Bound">c₂</a> <a id="1341" href="Relation.Nullary.Decidable.html#822" class="Function Operator">⌋</a>

<a id="1344" class="Keyword">private</a>

  <a id="1355" class="Comment">-- The following unit test does not type-check (at the time of</a>
  <a id="1420" class="Comment">-- writing) if _==_ is replaced by primCharEquality.</a>

  <a id="1476" class="Keyword">data</a> <a id="P"></a><a id="1481" href="Data.Char.Unsafe.html#1481" class="Datatype">P</a> <a id="1483" class="Symbol">:</a> <a id="1485" class="Symbol">(</a><a id="1486" href="Agda.Builtin.Char.html#132" class="Postulate">Char</a> <a id="1491" class="Symbol">→</a> <a id="1493" href="Agda.Builtin.Bool.html#67" class="Datatype">Bool</a><a id="1497" class="Symbol">)</a> <a id="1499" class="Symbol">→</a> <a id="1501" class="PrimitiveType">Set</a> <a id="1505" class="Keyword">where</a>
    <a id="P.p"></a><a id="1515" href="Data.Char.Unsafe.html#1515" class="InductiveConstructor">p</a> <a id="1517" class="Symbol">:</a> <a id="1519" class="Symbol">(</a><a id="1520" href="Data.Char.Unsafe.html#1520" class="Bound">c</a> <a id="1522" class="Symbol">:</a> <a id="1524" href="Agda.Builtin.Char.html#132" class="Postulate">Char</a><a id="1528" class="Symbol">)</a> <a id="1530" class="Symbol">→</a> <a id="1532" href="Data.Char.Unsafe.html#1481" class="Datatype">P</a> <a id="1534" class="Symbol">(</a><a id="1535" href="Data.Char.Unsafe.html#1520" class="Bound">c</a> <a id="1537" href="Data.Char.Unsafe.html#1294" class="Function Operator">==_</a><a id="1540" class="Symbol">)</a>

  <a id="unit-test"></a><a id="1545" href="Data.Char.Unsafe.html#1545" class="Function">unit-test</a> <a id="1555" class="Symbol">:</a> <a id="1557" href="Data.Char.Unsafe.html#1481" class="Datatype">P</a> <a id="1559" class="Symbol">(</a><a id="1560" class="String">&#39;x&#39;</a> <a id="1564" href="Data.Char.Unsafe.html#1294" class="Function Operator">==_</a><a id="1567" class="Symbol">)</a>
  <a id="1571" href="Data.Char.Unsafe.html#1545" class="Function">unit-test</a> <a id="1581" class="Symbol">=</a> <a id="1583" href="Data.Char.Unsafe.html#1515" class="InductiveConstructor">p</a> <a id="1585" class="Symbol">_</a>

<a id="1588" class="Comment">------------------------------------------------------------------------</a>
<a id="1661" class="Comment">-- Decidable equality</a>

<a id="decSetoid"></a><a id="1684" href="Data.Char.Unsafe.html#1684" class="Function">decSetoid</a> <a id="1694" class="Symbol">:</a> <a id="1696" href="Relation.Binary.html#3012" class="Record">DecSetoid</a> <a id="1706" class="Symbol">_</a> <a id="1708" class="Symbol">_</a>
<a id="1710" href="Data.Char.Unsafe.html#1684" class="Function">decSetoid</a> <a id="1720" class="Symbol">=</a> <a id="1722" href="Relation.Binary.PropositionalEquality.html#1598" class="Function">PropEq.decSetoid</a> <a id="1739" href="Data.Char.Unsafe.html#783" class="Function Operator">_≟_</a>
</pre></body></html>