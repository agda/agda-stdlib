<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Rational.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Rational numbers</a>
<a id="126" class="Comment">------------------------------------------------------------------------</a>

<a id="200" class="Symbol">{-#</a> <a id="204" class="Keyword">OPTIONS</a> <a id="212" class="Pragma">--without-K</a> <a id="224" class="Pragma">--safe</a> <a id="231" class="Symbol">#-}</a>

<a id="236" class="Keyword">module</a> <a id="243" href="Data.Rational.Base.html" class="Module">Data.Rational.Base</a> <a id="262" class="Keyword">where</a>

<a id="269" class="Keyword">open</a> <a id="274" class="Keyword">import</a> <a id="281" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="296" class="Keyword">using</a> <a id="302" class="Symbol">(</a><a id="303" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a><a id="307" class="Symbol">;</a> <a id="309" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="313" class="Symbol">;</a> <a id="315" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a><a id="320" class="Symbol">;</a> <a id="322" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a><a id="335" class="Symbol">)</a>
<a id="337" class="Keyword">open</a> <a id="342" class="Keyword">import</a> <a id="349" href="Function.Base.html" class="Module">Function.Base</a> <a id="363" class="Keyword">using</a> <a id="369" class="Symbol">(</a><a id="370" href="Function.Base.html#615" class="Function">id</a><a id="372" class="Symbol">)</a>
<a id="374" class="Keyword">open</a> <a id="379" class="Keyword">import</a> <a id="386" href="Data.Integer.Base.html" class="Module">Data.Integer.Base</a> <a id="404" class="Symbol">as</a> <a id="407" class="Module">ℤ</a> <a id="409" class="Keyword">using</a> <a id="415" class="Symbol">(</a><a id="416" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a><a id="417" class="Symbol">;</a> <a id="419" href="Agda.Builtin.Int.html#264" class="InductiveConstructor">+_</a><a id="421" class="Symbol">;</a> <a id="423" href="Data.Integer.Base.html#1444" class="InductiveConstructor">+0</a><a id="425" class="Symbol">;</a> <a id="427" href="Agda.Builtin.Int.html#291" class="InductiveConstructor">-[1+_]</a><a id="433" class="Symbol">)</a>
<a id="435" class="Keyword">import</a> <a id="442" href="Data.Integer.GCD.html" class="Module">Data.Integer.GCD</a> <a id="459" class="Symbol">as</a> <a id="462" class="Module">ℤ</a>
<a id="464" class="Keyword">import</a> <a id="471" href="Data.Integer.DivMod.html" class="Module">Data.Integer.DivMod</a> <a id="491" class="Symbol">as</a> <a id="494" class="Module">ℤ</a>
<a id="496" class="Keyword">open</a> <a id="501" class="Keyword">import</a> <a id="508" href="Data.Nat.GCD.html" class="Module">Data.Nat.GCD</a>
<a id="521" class="Keyword">open</a> <a id="526" class="Keyword">import</a> <a id="533" href="Data.Nat.Divisibility.html" class="Module">Data.Nat.Divisibility</a> <a id="555" class="Symbol">as</a> <a id="558" class="Module">ℕDiv</a> <a id="563" class="Keyword">using</a> <a id="569" class="Symbol">(</a><a id="570" href="Data.Nat.Divisibility.Core.html#1177" class="InductiveConstructor">divides</a><a id="577" class="Symbol">;</a> <a id="579" href="Data.Nat.Divisibility.html#3910" class="Function">0∣⇒≡0</a><a id="584" class="Symbol">)</a>
<a id="586" class="Keyword">open</a> <a id="591" class="Keyword">import</a> <a id="598" href="Data.Nat.Coprimality.html" class="Module">Data.Nat.Coprimality</a> <a id="619" class="Symbol">as</a> <a id="622" class="Module">C</a>
  <a id="626" class="Keyword">using</a> <a id="632" class="Symbol">(</a><a id="633" href="Data.Nat.Coprimality.html#1254" class="Function">Coprime</a><a id="640" class="Symbol">;</a> <a id="642" href="Data.Nat.Coprimality.html#3526" class="Function">Bézout-coprime</a><a id="656" class="Symbol">;</a> <a id="658" href="Data.Nat.Coprimality.html#1944" class="Function">coprime-/gcd</a><a id="670" class="Symbol">;</a> <a id="672" href="Data.Nat.Coprimality.html#2339" class="Function">coprime?</a><a id="680" class="Symbol">;</a> <a id="682" href="Data.Nat.Coprimality.html#2911" class="Function">¬0-coprimeTo-2+</a><a id="697" class="Symbol">)</a>
<a id="699" class="Keyword">open</a> <a id="704" class="Keyword">import</a> <a id="711" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="725" class="Symbol">as</a> <a id="728" class="Module">ℕ</a> <a id="730" class="Keyword">using</a> <a id="736" class="Symbol">(</a><a id="737" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="738" class="Symbol">;</a> <a id="740" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="744" class="Symbol">;</a> <a id="746" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="749" class="Symbol">)</a> <a id="751" class="Keyword">hiding</a> <a id="758" class="Symbol">(</a><a id="759" class="Keyword">module</a> <a id="766" href="Agda.Builtin.Nat.html#192" class="Module">ℕ</a><a id="767" class="Symbol">)</a>
<a id="769" class="Keyword">import</a> <a id="776" href="Data.Nat.DivMod.html" class="Module">Data.Nat.DivMod</a> <a id="792" class="Symbol">as</a> <a id="795" class="Module">ℕ</a>
<a id="797" class="Keyword">open</a> <a id="802" class="Keyword">import</a> <a id="809" href="Data.Rational.Unnormalised.Base.html" class="Module">Data.Rational.Unnormalised.Base</a> <a id="841" class="Symbol">as</a> <a id="844" class="Module">ℚᵘ</a> <a id="847" class="Keyword">using</a> <a id="853" class="Symbol">(</a><a id="854" href="Data.Rational.Unnormalised.Base.html#1309" class="Record">ℚᵘ</a><a id="856" class="Symbol">;</a> <a id="858" href="Data.Rational.Unnormalised.Base.html#1338" class="InductiveConstructor">mkℚᵘ</a><a id="862" class="Symbol">;</a> <a id="864" href="Data.Rational.Unnormalised.Base.html#2681" class="Function Operator">_≢0</a><a id="867" class="Symbol">)</a>
<a id="869" class="Keyword">open</a> <a id="874" class="Keyword">import</a> <a id="881" href="Data.Product.html" class="Module">Data.Product</a>
<a id="894" class="Keyword">open</a> <a id="899" class="Keyword">import</a> <a id="906" href="Data.Sign.html" class="Module">Data.Sign</a> <a id="916" class="Keyword">using</a> <a id="922" class="Symbol">(</a><a id="923" href="Data.Sign.Base.html#507" class="Datatype">Sign</a><a id="927" class="Symbol">)</a>
<a id="929" class="Keyword">open</a> <a id="934" class="Keyword">import</a> <a id="941" href="Data.Sum.Base.html" class="Module">Data.Sum.Base</a> <a id="955" class="Keyword">using</a> <a id="961" class="Symbol">(</a><a id="962" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a><a id="966" class="Symbol">)</a>
<a id="968" class="Keyword">open</a> <a id="973" class="Keyword">import</a> <a id="980" href="Level.html" class="Module">Level</a> <a id="986" class="Keyword">using</a> <a id="992" class="Symbol">(</a><a id="993" href="Level.html#512" class="Function">0ℓ</a><a id="995" class="Symbol">)</a>
<a id="997" class="Keyword">open</a> <a id="1002" class="Keyword">import</a> <a id="1009" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="1026" class="Keyword">using</a> <a id="1032" class="Symbol">(</a><a id="1033" href="Relation.Nullary.html#656" class="Function Operator">¬_</a><a id="1035" class="Symbol">;</a> <a id="1037" href="Relation.Nullary.html#1838" class="Function">recompute</a><a id="1046" class="Symbol">)</a>
<a id="1048" class="Keyword">open</a> <a id="1053" class="Keyword">import</a> <a id="1060" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>
  <a id="1089" class="Keyword">using</a> <a id="1095" class="Symbol">(</a><a id="1096" href="Relation.Nullary.Decidable.Core.html#1406" class="Function">False</a><a id="1101" class="Symbol">;</a> <a id="1103" href="Relation.Nullary.Decidable.Core.html#1653" class="Function">fromWitness</a><a id="1114" class="Symbol">;</a> <a id="1116" href="Relation.Nullary.Decidable.Core.html#1961" class="Function">fromWitnessFalse</a><a id="1132" class="Symbol">;</a> <a id="1134" href="Relation.Nullary.Decidable.Core.html#1815" class="Function">toWitnessFalse</a><a id="1148" class="Symbol">)</a>
<a id="1150" class="Keyword">open</a> <a id="1155" class="Keyword">import</a> <a id="1162" href="Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="1188" class="Keyword">using</a> <a id="1194" class="Symbol">(</a><a id="1195" href="Relation.Nullary.Negation.Core.html#778" class="Function">contradiction</a><a id="1208" class="Symbol">)</a>
<a id="1210" class="Keyword">open</a> <a id="1215" class="Keyword">import</a> <a id="1222" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="1237" class="Keyword">using</a> <a id="1243" class="Symbol">(</a><a id="1244" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="1248" class="Symbol">)</a>
<a id="1250" class="Keyword">open</a> <a id="1255" class="Keyword">import</a> <a id="1262" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="1278" class="Keyword">using</a> <a id="1284" class="Symbol">(</a><a id="1285" href="Relation.Binary.Core.html#882" class="Function">Rel</a><a id="1288" class="Symbol">)</a>
<a id="1290" class="Keyword">open</a> <a id="1295" class="Keyword">import</a> <a id="1302" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
  <a id="1342" class="Keyword">using</a> <a id="1348" class="Symbol">(</a><a id="1349" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="1352" class="Symbol">;</a> <a id="1354" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">_≢_</a><a id="1357" class="Symbol">;</a> <a id="1359" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="1363" class="Symbol">;</a> <a id="1365" href="Relation.Binary.PropositionalEquality.Core.html#1780" class="Function">subst</a><a id="1370" class="Symbol">;</a> <a id="1372" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="1376" class="Symbol">;</a> <a id="1378" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a><a id="1383" class="Symbol">;</a> <a id="1385" class="Keyword">module</a> <a id="1392" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a><a id="1403" class="Symbol">)</a>

<a id="1406" class="Keyword">open</a> <a id="1411" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a>

<a id="1424" class="Comment">-- Note, these are re-exported publicly to maintain backwards</a>
<a id="1486" class="Comment">-- compatability. Although we are unable (?) to put a warning on them,</a>
<a id="1557" class="Comment">-- using these from `Data.Rational` should be viewed as a deprecated</a>
<a id="1626" class="Comment">-- feature.</a>

<a id="1639" class="Keyword">open</a> <a id="1644" class="Keyword">import</a> <a id="1651" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="1664" class="Keyword">public</a> <a id="1671" class="Keyword">using</a> <a id="1677" class="Symbol">(</a><a id="1678" href="Data.Integer.Base.html#1444" class="InductiveConstructor">+0</a><a id="1680" class="Symbol">;</a> <a id="1682" href="Data.Integer.Base.html#1467" class="InductiveConstructor Operator">+[1+_]</a><a id="1688" class="Symbol">)</a>

<a id="1691" class="Comment">------------------------------------------------------------------------</a>
<a id="1764" class="Comment">-- Rational numbers in reduced form. Note that there is exactly one</a>
<a id="1832" class="Comment">-- way to represent every rational number.</a>

<a id="1876" class="Keyword">record</a> <a id="ℚ"></a><a id="1883" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="1885" class="Symbol">:</a> <a id="1887" class="PrimitiveType">Set</a> <a id="1891" class="Keyword">where</a>
  <a id="1899" class="Keyword">constructor</a> <a id="mkℚ"></a><a id="1911" href="Data.Rational.Base.html#1911" class="InductiveConstructor">mkℚ</a>
  <a id="1917" class="Keyword">field</a>
    <a id="ℚ.numerator"></a><a id="1927" href="Data.Rational.Base.html#1927" class="Field">numerator</a>     <a id="1941" class="Symbol">:</a> <a id="1943" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>
    <a id="ℚ.denominator-1"></a><a id="1949" href="Data.Rational.Base.html#1949" class="Field">denominator-1</a> <a id="1963" class="Symbol">:</a> <a id="1965" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="1971" class="Symbol">.</a><a id="ℚ.isCoprime"></a><a id="1972" href="Data.Rational.Base.html#1972" class="Field">isCoprime</a>    <a id="1985" class="Symbol">:</a> <a id="1987" href="Data.Nat.Coprimality.html#1254" class="Function">Coprime</a> <a id="1995" href="Data.Integer.Base.html#1748" class="Function Operator">ℤ.∣</a> <a id="1999" href="Data.Rational.Base.html#1927" class="Field">numerator</a> <a id="2009" href="Data.Integer.Base.html#1748" class="Function Operator">∣</a> <a id="2011" class="Symbol">(</a><a id="2012" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="2016" href="Data.Rational.Base.html#1949" class="Field">denominator-1</a><a id="2029" class="Symbol">)</a>

  <a id="ℚ.denominatorℕ"></a><a id="2034" href="Data.Rational.Base.html#2034" class="Function">denominatorℕ</a> <a id="2047" class="Symbol">:</a> <a id="2049" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
  <a id="2053" href="Data.Rational.Base.html#2034" class="Function">denominatorℕ</a> <a id="2066" class="Symbol">=</a> <a id="2068" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="2072" href="Data.Rational.Base.html#1949" class="Field">denominator-1</a>

  <a id="ℚ.denominator"></a><a id="2089" href="Data.Rational.Base.html#2089" class="Function">denominator</a> <a id="2101" class="Symbol">:</a> <a id="2103" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>
  <a id="2107" href="Data.Rational.Base.html#2089" class="Function">denominator</a> <a id="2119" class="Symbol">=</a> <a id="2121" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="2123" href="Data.Rational.Base.html#2034" class="Function">denominatorℕ</a>

<a id="2137" class="Keyword">open</a> <a id="2142" href="Data.Rational.Base.html#1883" class="Module">ℚ</a> <a id="2144" class="Keyword">public</a> <a id="2151" class="Keyword">using</a> <a id="2157" class="Symbol">()</a>
  <a id="2162" class="Keyword">renaming</a>
  <a id="2173" class="Symbol">(</a> <a id="2175" href="Data.Rational.Base.html#1927" class="Field">numerator</a>    <a id="2188" class="Symbol">to</a> <a id="ℚ.numerator"></a><a id="2191" href="Data.Rational.Base.html#2191" class="Field">↥_</a>
  <a id="2196" class="Symbol">;</a> <a id="2198" href="Data.Rational.Base.html#2089" class="Function">denominator</a>  <a id="2211" class="Symbol">to</a> <a id="ℚ.denominator"></a><a id="2214" href="Data.Rational.Base.html#2214" class="Function">↧_</a>
  <a id="2219" class="Symbol">;</a> <a id="2221" href="Data.Rational.Base.html#2034" class="Function">denominatorℕ</a> <a id="2234" class="Symbol">to</a> <a id="ℚ.denominatorℕ"></a><a id="2237" href="Data.Rational.Base.html#2237" class="Function">↧ₙ_</a>
  <a id="2243" class="Symbol">)</a>

<a id="mkℚ+"></a><a id="2246" href="Data.Rational.Base.html#2246" class="Function">mkℚ+</a> <a id="2251" class="Symbol">:</a> <a id="2253" class="Symbol">∀</a> <a id="2255" href="Data.Rational.Base.html#2255" class="Bound">n</a> <a id="2257" href="Data.Rational.Base.html#2257" class="Bound">d</a> <a id="2259" class="Symbol">→</a> <a id="2261" class="Symbol">.{</a><a id="2263" href="Data.Rational.Base.html#2263" class="Bound">d≢0</a> <a id="2267" class="Symbol">:</a> <a id="2269" href="Data.Rational.Base.html#2257" class="Bound">d</a> <a id="2271" href="Data.Rational.Unnormalised.Base.html#2681" class="Function Operator">≢0</a><a id="2273" class="Symbol">}</a> <a id="2275" class="Symbol">→</a> <a id="2277" class="Symbol">.(</a><a id="2279" href="Data.Nat.Coprimality.html#1254" class="Function">Coprime</a> <a id="2287" href="Data.Rational.Base.html#2255" class="Bound">n</a> <a id="2289" href="Data.Rational.Base.html#2257" class="Bound">d</a><a id="2290" class="Symbol">)</a> <a id="2292" class="Symbol">→</a> <a id="2294" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
<a id="2296" href="Data.Rational.Base.html#2246" class="Function">mkℚ+</a> <a id="2301" href="Data.Rational.Base.html#2301" class="Bound">n</a> <a id="2303" class="Symbol">(</a><a id="2304" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="2308" href="Data.Rational.Base.html#2308" class="Bound">d</a><a id="2309" class="Symbol">)</a> <a id="2311" href="Data.Rational.Base.html#2311" class="Bound">coprime</a> <a id="2319" class="Symbol">=</a> <a id="2321" href="Data.Rational.Base.html#1911" class="InductiveConstructor">mkℚ</a> <a id="2325" class="Symbol">(</a><a id="2326" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="2328" href="Data.Rational.Base.html#2301" class="Bound">n</a><a id="2329" class="Symbol">)</a> <a id="2331" href="Data.Rational.Base.html#2308" class="Bound">d</a> <a id="2333" href="Data.Rational.Base.html#2311" class="Bound">coprime</a>

<a id="2342" class="Comment">------------------------------------------------------------------------</a>
<a id="2415" class="Comment">-- Equality of rational numbers (coincides with _≡_)</a>

<a id="2469" class="Keyword">infix</a> <a id="2475" class="Number">4</a> <a id="2477" href="Data.Rational.Base.html#2482" class="Function Operator">_≃_</a>

<a id="_≃_"></a><a id="2482" href="Data.Rational.Base.html#2482" class="Function Operator">_≃_</a> <a id="2486" class="Symbol">:</a> <a id="2488" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2492" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="2494" href="Level.html#512" class="Function">0ℓ</a>
<a id="2497" href="Data.Rational.Base.html#2497" class="Bound">p</a> <a id="2499" href="Data.Rational.Base.html#2482" class="Function Operator">≃</a> <a id="2501" href="Data.Rational.Base.html#2501" class="Bound">q</a> <a id="2503" class="Symbol">=</a> <a id="2505" class="Symbol">(</a><a id="2506" href="Data.Rational.Base.html#2191" class="Field Operator">↥</a> <a id="2508" href="Data.Rational.Base.html#2497" class="Bound">p</a> <a id="2510" href="Data.Integer.Base.html#5169" class="Function Operator">ℤ.*</a> <a id="2514" href="Data.Rational.Base.html#2214" class="Function Operator">↧</a> <a id="2516" href="Data.Rational.Base.html#2501" class="Bound">q</a><a id="2517" class="Symbol">)</a> <a id="2519" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2521" class="Symbol">(</a><a id="2522" href="Data.Rational.Base.html#2191" class="Field Operator">↥</a> <a id="2524" href="Data.Rational.Base.html#2501" class="Bound">q</a> <a id="2526" href="Data.Integer.Base.html#5169" class="Function Operator">ℤ.*</a> <a id="2530" href="Data.Rational.Base.html#2214" class="Function Operator">↧</a> <a id="2532" href="Data.Rational.Base.html#2497" class="Bound">p</a><a id="2533" class="Symbol">)</a>

<a id="2536" class="Comment">------------------------------------------------------------------------</a>
<a id="2609" class="Comment">-- Ordering of rationals</a>

<a id="2635" class="Keyword">infix</a> <a id="2641" class="Number">4</a> <a id="2643" href="Data.Rational.Base.html#2681" class="Datatype Operator">_≤_</a> <a id="2647" href="Data.Rational.Base.html#2766" class="Datatype Operator">_&lt;_</a> <a id="2651" href="Data.Rational.Base.html#2846" class="Function Operator">_≥_</a> <a id="2655" href="Data.Rational.Base.html#2876" class="Function Operator">_&gt;_</a> <a id="2659" href="Data.Rational.Base.html#2906" class="Function Operator">_≰_</a> <a id="2663" href="Data.Rational.Base.html#2940" class="Function Operator">_≱_</a> <a id="2667" href="Data.Rational.Base.html#2974" class="Function Operator">_≮_</a> <a id="2671" href="Data.Rational.Base.html#3008" class="Function Operator">_≯_</a>

<a id="2676" class="Keyword">data</a> <a id="_≤_"></a><a id="2681" href="Data.Rational.Base.html#2681" class="Datatype Operator">_≤_</a> <a id="2685" class="Symbol">:</a> <a id="2687" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2691" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="2693" href="Level.html#512" class="Function">0ℓ</a> <a id="2696" class="Keyword">where</a>
  <a id="_≤_.*≤*"></a><a id="2704" href="Data.Rational.Base.html#2704" class="InductiveConstructor">*≤*</a> <a id="2708" class="Symbol">:</a> <a id="2710" class="Symbol">∀</a> <a id="2712" class="Symbol">{</a><a id="2713" href="Data.Rational.Base.html#2713" class="Bound">p</a> <a id="2715" href="Data.Rational.Base.html#2715" class="Bound">q</a><a id="2716" class="Symbol">}</a> <a id="2718" class="Symbol">→</a> <a id="2720" class="Symbol">(</a><a id="2721" href="Data.Rational.Base.html#2191" class="Field Operator">↥</a> <a id="2723" href="Data.Rational.Base.html#2713" class="Bound">p</a> <a id="2725" href="Data.Integer.Base.html#5169" class="Function Operator">ℤ.*</a> <a id="2729" href="Data.Rational.Base.html#2214" class="Function Operator">↧</a> <a id="2731" href="Data.Rational.Base.html#2715" class="Bound">q</a><a id="2732" class="Symbol">)</a> <a id="2734" href="Data.Integer.Base.html#2024" class="Datatype Operator">ℤ.≤</a> <a id="2738" class="Symbol">(</a><a id="2739" href="Data.Rational.Base.html#2191" class="Field Operator">↥</a> <a id="2741" href="Data.Rational.Base.html#2715" class="Bound">q</a> <a id="2743" href="Data.Integer.Base.html#5169" class="Function Operator">ℤ.*</a> <a id="2747" href="Data.Rational.Base.html#2214" class="Function Operator">↧</a> <a id="2749" href="Data.Rational.Base.html#2713" class="Bound">p</a><a id="2750" class="Symbol">)</a> <a id="2752" class="Symbol">→</a> <a id="2754" href="Data.Rational.Base.html#2713" class="Bound">p</a> <a id="2756" href="Data.Rational.Base.html#2681" class="Datatype Operator">≤</a> <a id="2758" href="Data.Rational.Base.html#2715" class="Bound">q</a>

<a id="2761" class="Keyword">data</a> <a id="_&lt;_"></a><a id="2766" href="Data.Rational.Base.html#2766" class="Datatype Operator">_&lt;_</a> <a id="2770" class="Symbol">:</a> <a id="2772" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2776" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="2778" href="Level.html#512" class="Function">0ℓ</a> <a id="2781" class="Keyword">where</a>
  <a id="_&lt;_.*&lt;*"></a><a id="2789" href="Data.Rational.Base.html#2789" class="InductiveConstructor">*&lt;*</a> <a id="2793" class="Symbol">:</a> <a id="2795" class="Symbol">∀</a> <a id="2797" class="Symbol">{</a><a id="2798" href="Data.Rational.Base.html#2798" class="Bound">p</a> <a id="2800" href="Data.Rational.Base.html#2800" class="Bound">q</a><a id="2801" class="Symbol">}</a> <a id="2803" class="Symbol">→</a> <a id="2805" class="Symbol">(</a><a id="2806" href="Data.Rational.Base.html#2191" class="Field Operator">↥</a> <a id="2808" href="Data.Rational.Base.html#2798" class="Bound">p</a> <a id="2810" href="Data.Integer.Base.html#5169" class="Function Operator">ℤ.*</a> <a id="2814" href="Data.Rational.Base.html#2214" class="Function Operator">↧</a> <a id="2816" href="Data.Rational.Base.html#2800" class="Bound">q</a><a id="2817" class="Symbol">)</a> <a id="2819" href="Data.Integer.Base.html#2189" class="Datatype Operator">ℤ.&lt;</a> <a id="2823" class="Symbol">(</a><a id="2824" href="Data.Rational.Base.html#2191" class="Field Operator">↥</a> <a id="2826" href="Data.Rational.Base.html#2800" class="Bound">q</a> <a id="2828" href="Data.Integer.Base.html#5169" class="Function Operator">ℤ.*</a> <a id="2832" href="Data.Rational.Base.html#2214" class="Function Operator">↧</a> <a id="2834" href="Data.Rational.Base.html#2798" class="Bound">p</a><a id="2835" class="Symbol">)</a> <a id="2837" class="Symbol">→</a> <a id="2839" href="Data.Rational.Base.html#2798" class="Bound">p</a> <a id="2841" href="Data.Rational.Base.html#2766" class="Datatype Operator">&lt;</a> <a id="2843" href="Data.Rational.Base.html#2800" class="Bound">q</a>

<a id="_≥_"></a><a id="2846" href="Data.Rational.Base.html#2846" class="Function Operator">_≥_</a> <a id="2850" class="Symbol">:</a> <a id="2852" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2856" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="2858" href="Level.html#512" class="Function">0ℓ</a>
<a id="2861" href="Data.Rational.Base.html#2861" class="Bound">x</a> <a id="2863" href="Data.Rational.Base.html#2846" class="Function Operator">≥</a> <a id="2865" href="Data.Rational.Base.html#2865" class="Bound">y</a> <a id="2867" class="Symbol">=</a> <a id="2869" href="Data.Rational.Base.html#2865" class="Bound">y</a> <a id="2871" href="Data.Rational.Base.html#2681" class="Datatype Operator">≤</a> <a id="2873" href="Data.Rational.Base.html#2861" class="Bound">x</a>

<a id="_&gt;_"></a><a id="2876" href="Data.Rational.Base.html#2876" class="Function Operator">_&gt;_</a> <a id="2880" class="Symbol">:</a> <a id="2882" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2886" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="2888" href="Level.html#512" class="Function">0ℓ</a>
<a id="2891" href="Data.Rational.Base.html#2891" class="Bound">x</a> <a id="2893" href="Data.Rational.Base.html#2876" class="Function Operator">&gt;</a> <a id="2895" href="Data.Rational.Base.html#2895" class="Bound">y</a> <a id="2897" class="Symbol">=</a> <a id="2899" href="Data.Rational.Base.html#2895" class="Bound">y</a> <a id="2901" href="Data.Rational.Base.html#2766" class="Datatype Operator">&lt;</a> <a id="2903" href="Data.Rational.Base.html#2891" class="Bound">x</a>

<a id="_≰_"></a><a id="2906" href="Data.Rational.Base.html#2906" class="Function Operator">_≰_</a> <a id="2910" class="Symbol">:</a> <a id="2912" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2916" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="2918" href="Level.html#512" class="Function">0ℓ</a>
<a id="2921" href="Data.Rational.Base.html#2921" class="Bound">x</a> <a id="2923" href="Data.Rational.Base.html#2906" class="Function Operator">≰</a> <a id="2925" href="Data.Rational.Base.html#2925" class="Bound">y</a> <a id="2927" class="Symbol">=</a> <a id="2929" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="2931" class="Symbol">(</a><a id="2932" href="Data.Rational.Base.html#2921" class="Bound">x</a> <a id="2934" href="Data.Rational.Base.html#2681" class="Datatype Operator">≤</a> <a id="2936" href="Data.Rational.Base.html#2925" class="Bound">y</a><a id="2937" class="Symbol">)</a>

<a id="_≱_"></a><a id="2940" href="Data.Rational.Base.html#2940" class="Function Operator">_≱_</a> <a id="2944" class="Symbol">:</a> <a id="2946" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2950" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="2952" href="Level.html#512" class="Function">0ℓ</a>
<a id="2955" href="Data.Rational.Base.html#2955" class="Bound">x</a> <a id="2957" href="Data.Rational.Base.html#2940" class="Function Operator">≱</a> <a id="2959" href="Data.Rational.Base.html#2959" class="Bound">y</a> <a id="2961" class="Symbol">=</a> <a id="2963" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="2965" class="Symbol">(</a><a id="2966" href="Data.Rational.Base.html#2955" class="Bound">x</a> <a id="2968" href="Data.Rational.Base.html#2846" class="Function Operator">≥</a> <a id="2970" href="Data.Rational.Base.html#2959" class="Bound">y</a><a id="2971" class="Symbol">)</a>

<a id="_≮_"></a><a id="2974" href="Data.Rational.Base.html#2974" class="Function Operator">_≮_</a> <a id="2978" class="Symbol">:</a> <a id="2980" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2984" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="2986" href="Level.html#512" class="Function">0ℓ</a>
<a id="2989" href="Data.Rational.Base.html#2989" class="Bound">x</a> <a id="2991" href="Data.Rational.Base.html#2974" class="Function Operator">≮</a> <a id="2993" href="Data.Rational.Base.html#2993" class="Bound">y</a> <a id="2995" class="Symbol">=</a> <a id="2997" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="2999" class="Symbol">(</a><a id="3000" href="Data.Rational.Base.html#2989" class="Bound">x</a> <a id="3002" href="Data.Rational.Base.html#2766" class="Datatype Operator">&lt;</a> <a id="3004" href="Data.Rational.Base.html#2993" class="Bound">y</a><a id="3005" class="Symbol">)</a>

<a id="_≯_"></a><a id="3008" href="Data.Rational.Base.html#3008" class="Function Operator">_≯_</a> <a id="3012" class="Symbol">:</a> <a id="3014" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="3018" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="3020" href="Level.html#512" class="Function">0ℓ</a>
<a id="3023" href="Data.Rational.Base.html#3023" class="Bound">x</a> <a id="3025" href="Data.Rational.Base.html#3008" class="Function Operator">≯</a> <a id="3027" href="Data.Rational.Base.html#3027" class="Bound">y</a> <a id="3029" class="Symbol">=</a> <a id="3031" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="3033" class="Symbol">(</a><a id="3034" href="Data.Rational.Base.html#3023" class="Bound">x</a> <a id="3036" href="Data.Rational.Base.html#2876" class="Function Operator">&gt;</a> <a id="3038" href="Data.Rational.Base.html#3027" class="Bound">y</a><a id="3039" class="Symbol">)</a>

<a id="3042" class="Comment">------------------------------------------------------------------------</a>
<a id="3115" class="Comment">-- Boolean ordering</a>

<a id="3136" class="Keyword">infix</a> <a id="3142" class="Number">4</a> <a id="3144" href="Data.Rational.Base.html#3150" class="Function Operator">_≤ᵇ_</a>

<a id="_≤ᵇ_"></a><a id="3150" href="Data.Rational.Base.html#3150" class="Function Operator">_≤ᵇ_</a> <a id="3155" class="Symbol">:</a> <a id="3157" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="3159" class="Symbol">→</a> <a id="3161" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="3163" class="Symbol">→</a> <a id="3165" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
<a id="3170" href="Data.Rational.Base.html#3170" class="Bound">p</a> <a id="3172" href="Data.Rational.Base.html#3150" class="Function Operator">≤ᵇ</a> <a id="3175" href="Data.Rational.Base.html#3175" class="Bound">q</a> <a id="3177" class="Symbol">=</a> <a id="3179" class="Symbol">(</a><a id="3180" href="Data.Rational.Base.html#2191" class="Field Operator">↥</a> <a id="3182" href="Data.Rational.Base.html#3170" class="Bound">p</a> <a id="3184" href="Data.Integer.Base.html#5169" class="Function Operator">ℤ.*</a> <a id="3188" href="Data.Rational.Base.html#2214" class="Function Operator">↧</a> <a id="3190" href="Data.Rational.Base.html#3175" class="Bound">q</a><a id="3191" class="Symbol">)</a> <a id="3193" href="Data.Integer.Base.html#2661" class="Function Operator">ℤ.≤ᵇ</a> <a id="3198" class="Symbol">(</a><a id="3199" href="Data.Rational.Base.html#2191" class="Field Operator">↥</a> <a id="3201" href="Data.Rational.Base.html#3175" class="Bound">q</a> <a id="3203" href="Data.Integer.Base.html#5169" class="Function Operator">ℤ.*</a> <a id="3207" href="Data.Rational.Base.html#2214" class="Function Operator">↧</a> <a id="3209" href="Data.Rational.Base.html#3170" class="Bound">p</a><a id="3210" class="Symbol">)</a>

<a id="3213" class="Comment">------------------------------------------------------------------------</a>
<a id="3286" class="Comment">-- Negation</a>

<a id="-_"></a><a id="3299" href="Data.Rational.Base.html#3299" class="Function Operator">-_</a> <a id="3302" class="Symbol">:</a> <a id="3304" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="3306" class="Symbol">→</a> <a id="3308" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
<a id="3310" href="Data.Rational.Base.html#3299" class="Function Operator">-</a> <a id="3312" href="Data.Rational.Base.html#1911" class="InductiveConstructor">mkℚ</a> <a id="3316" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="3321" href="Data.Rational.Base.html#3321" class="Bound">n</a> <a id="3323" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="3325" href="Data.Rational.Base.html#3325" class="Bound">d</a> <a id="3327" href="Data.Rational.Base.html#3327" class="Bound">prf</a> <a id="3331" class="Symbol">=</a> <a id="3333" href="Data.Rational.Base.html#1911" class="InductiveConstructor">mkℚ</a> <a id="3337" href="Data.Integer.Base.html#1467" class="InductiveConstructor Operator">+[1+</a> <a id="3342" href="Data.Rational.Base.html#3321" class="Bound">n</a> <a id="3344" href="Data.Integer.Base.html#1467" class="InductiveConstructor Operator">]</a> <a id="3346" href="Data.Rational.Base.html#3325" class="Bound">d</a> <a id="3348" href="Data.Rational.Base.html#3327" class="Bound">prf</a>
<a id="3352" href="Data.Rational.Base.html#3299" class="Function Operator">-</a> <a id="3354" href="Data.Rational.Base.html#1911" class="InductiveConstructor">mkℚ</a> <a id="3358" href="Data.Integer.Base.html#1444" class="InductiveConstructor">+0</a>       <a id="3367" href="Data.Rational.Base.html#3367" class="Bound">d</a> <a id="3369" href="Data.Rational.Base.html#3369" class="Bound">prf</a> <a id="3373" class="Symbol">=</a> <a id="3375" href="Data.Rational.Base.html#1911" class="InductiveConstructor">mkℚ</a> <a id="3379" href="Data.Integer.Base.html#1444" class="InductiveConstructor">+0</a>       <a id="3388" href="Data.Rational.Base.html#3367" class="Bound">d</a> <a id="3390" href="Data.Rational.Base.html#3369" class="Bound">prf</a>
<a id="3394" href="Data.Rational.Base.html#3299" class="Function Operator">-</a> <a id="3396" href="Data.Rational.Base.html#1911" class="InductiveConstructor">mkℚ</a> <a id="3400" href="Data.Integer.Base.html#1467" class="InductiveConstructor Operator">+[1+</a> <a id="3405" href="Data.Rational.Base.html#3405" class="Bound">n</a> <a id="3407" href="Data.Integer.Base.html#1467" class="InductiveConstructor Operator">]</a> <a id="3409" href="Data.Rational.Base.html#3409" class="Bound">d</a> <a id="3411" href="Data.Rational.Base.html#3411" class="Bound">prf</a> <a id="3415" class="Symbol">=</a> <a id="3417" href="Data.Rational.Base.html#1911" class="InductiveConstructor">mkℚ</a> <a id="3421" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="3426" href="Data.Rational.Base.html#3405" class="Bound">n</a> <a id="3428" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="3430" href="Data.Rational.Base.html#3409" class="Bound">d</a> <a id="3432" href="Data.Rational.Base.html#3411" class="Bound">prf</a>

<a id="3437" class="Comment">------------------------------------------------------------------------</a>
<a id="3510" class="Comment">-- Constructing rationals</a>

<a id="3537" class="Comment">-- A constructor for ℚ that takes two natural numbers, say 6 and 21,</a>
<a id="3606" class="Comment">-- and returns them in a normalized form, e.g. say 2 and 7</a>

<a id="normalize"></a><a id="3666" href="Data.Rational.Base.html#3666" class="Function">normalize</a> <a id="3676" class="Symbol">:</a> <a id="3678" class="Symbol">∀</a> <a id="3680" class="Symbol">(</a><a id="3681" href="Data.Rational.Base.html#3681" class="Bound">m</a> <a id="3683" href="Data.Rational.Base.html#3683" class="Bound">n</a> <a id="3685" class="Symbol">:</a> <a id="3687" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3688" class="Symbol">)</a> <a id="3690" class="Symbol">{</a><a id="3691" href="Data.Rational.Base.html#3691" class="Bound">n≢0</a> <a id="3695" class="Symbol">:</a> <a id="3697" href="Data.Rational.Base.html#3683" class="Bound">n</a> <a id="3699" href="Data.Rational.Unnormalised.Base.html#2681" class="Function Operator">≢0</a><a id="3701" class="Symbol">}</a> <a id="3703" class="Symbol">→</a> <a id="3705" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
<a id="3707" href="Data.Rational.Base.html#3666" class="Function">normalize</a> <a id="3717" href="Data.Rational.Base.html#3717" class="Bound">m</a> <a id="3719" href="Data.Rational.Base.html#3719" class="Bound">n</a> <a id="3721" class="Symbol">{</a><a id="3722" href="Data.Rational.Base.html#3722" class="Bound">n≢0</a><a id="3725" class="Symbol">}</a> <a id="3727" class="Symbol">=</a> <a id="3729" href="Data.Rational.Base.html#2246" class="Function">mkℚ+</a> <a id="3734" class="Symbol">(</a><a id="3735" href="Data.Rational.Base.html#3717" class="Bound">m</a> <a id="3737" href="Data.Nat.DivMod.html#1440" class="Function Operator">ℕ./</a> <a id="3741" href="Data.Nat.GCD.html#1564" class="Function">gcd</a> <a id="3745" href="Data.Rational.Base.html#3717" class="Bound">m</a> <a id="3747" href="Data.Rational.Base.html#3719" class="Bound">n</a><a id="3748" class="Symbol">)</a> <a id="3750" class="Symbol">(</a><a id="3751" href="Data.Rational.Base.html#3719" class="Bound">n</a> <a id="3753" href="Data.Nat.DivMod.html#1440" class="Function Operator">ℕ./</a> <a id="3757" href="Data.Nat.GCD.html#1564" class="Function">gcd</a> <a id="3761" href="Data.Rational.Base.html#3717" class="Bound">m</a> <a id="3763" href="Data.Rational.Base.html#3719" class="Bound">n</a><a id="3764" class="Symbol">)</a>
  <a id="3768" class="Symbol">{</a><a id="3769" href="Data.Rational.Base.html#3883" class="Function">n/g≢0</a><a id="3774" class="Symbol">}</a> <a id="3776" class="Symbol">(</a><a id="3777" href="Data.Nat.Coprimality.html#1944" class="Function">coprime-/gcd</a> <a id="3790" href="Data.Rational.Base.html#3717" class="Bound">m</a> <a id="3792" href="Data.Rational.Base.html#3719" class="Bound">n</a> <a id="3794" class="Symbol">{</a><a id="3795" href="Data.Rational.Base.html#3811" class="Function">g≢0</a><a id="3798" class="Symbol">})</a>
  <a id="3803" class="Keyword">where</a>
  <a id="3811" href="Data.Rational.Base.html#3811" class="Function">g≢0</a>   <a id="3817" class="Symbol">=</a> <a id="3819" href="Relation.Nullary.Decidable.Core.html#1961" class="Function">fromWitnessFalse</a> <a id="3836" class="Symbol">(</a><a id="3837" href="Data.Nat.GCD.html#3378" class="Function">gcd[m,n]≢0</a> <a id="3848" href="Data.Rational.Base.html#3717" class="Bound">m</a> <a id="3850" href="Data.Rational.Base.html#3719" class="Bound">n</a> <a id="3852" class="Symbol">(</a><a id="3853" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="3858" class="Symbol">(</a><a id="3859" href="Relation.Nullary.Decidable.Core.html#1815" class="Function">toWitnessFalse</a> <a id="3874" href="Data.Rational.Base.html#3722" class="Bound">n≢0</a><a id="3877" class="Symbol">)))</a>
  <a id="3883" href="Data.Rational.Base.html#3883" class="Function">n/g≢0</a> <a id="3889" class="Symbol">=</a> <a id="3891" href="Relation.Nullary.Decidable.Core.html#1961" class="Function">fromWitnessFalse</a> <a id="3908" class="Symbol">(</a><a id="3909" href="Data.Nat.GCD.html#5701" class="Function">n/gcd[m,n]≢0</a> <a id="3922" href="Data.Rational.Base.html#3717" class="Bound">m</a> <a id="3924" href="Data.Rational.Base.html#3719" class="Bound">n</a> <a id="3926" class="Symbol">{</a><a id="3927" href="Data.Rational.Base.html#3722" class="Bound">n≢0</a><a id="3930" class="Symbol">}</a> <a id="3932" class="Symbol">{</a><a id="3933" href="Data.Rational.Base.html#3811" class="Function">g≢0</a><a id="3936" class="Symbol">})</a>

<a id="3940" class="Comment">-- A constructor for ℚ that (unlike mkℚ) automatically normalises it&#39;s</a>
<a id="4011" class="Comment">-- arguments. See the constants section below for how to use this operator.</a>

<a id="4088" class="Keyword">infixl</a> <a id="4095" class="Number">7</a> <a id="4097" href="Data.Rational.Base.html#4102" class="Function Operator">_/_</a>

<a id="_/_"></a><a id="4102" href="Data.Rational.Base.html#4102" class="Function Operator">_/_</a> <a id="4106" class="Symbol">:</a> <a id="4108" class="Symbol">(</a><a id="4109" href="Data.Rational.Base.html#4109" class="Bound">n</a> <a id="4111" class="Symbol">:</a> <a id="4113" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a><a id="4114" class="Symbol">)</a> <a id="4116" class="Symbol">(</a><a id="4117" href="Data.Rational.Base.html#4117" class="Bound">d</a> <a id="4119" class="Symbol">:</a> <a id="4121" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="4122" class="Symbol">)</a> <a id="4124" class="Symbol">→</a> <a id="4126" class="Symbol">{</a><a id="4127" href="Data.Rational.Base.html#4127" class="Bound">d≢0</a> <a id="4131" class="Symbol">:</a> <a id="4133" href="Data.Rational.Base.html#4117" class="Bound">d</a> <a id="4135" href="Data.Rational.Unnormalised.Base.html#2681" class="Function Operator">≢0</a><a id="4137" class="Symbol">}</a> <a id="4139" class="Symbol">→</a> <a id="4141" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
<a id="4143" class="Symbol">(</a><a id="4144" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="4146" href="Data.Rational.Base.html#4146" class="Bound">n</a>      <a id="4153" href="Data.Rational.Base.html#4102" class="Function Operator">/</a> <a id="4155" href="Data.Rational.Base.html#4155" class="Bound">d</a><a id="4156" class="Symbol">)</a> <a id="4158" class="Symbol">{</a><a id="4159" href="Data.Rational.Base.html#4159" class="Bound">d≢0</a><a id="4162" class="Symbol">}</a> <a id="4164" class="Symbol">=</a>   <a id="4168" href="Data.Rational.Base.html#3666" class="Function">normalize</a> <a id="4178" href="Data.Rational.Base.html#4146" class="Bound">n</a>       <a id="4186" href="Data.Rational.Base.html#4155" class="Bound">d</a> <a id="4188" class="Symbol">{</a><a id="4189" href="Data.Rational.Base.html#4159" class="Bound">d≢0</a><a id="4192" class="Symbol">}</a>
<a id="4194" class="Symbol">(</a><a id="4195" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="4200" href="Data.Rational.Base.html#4200" class="Bound">n</a> <a id="4202" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="4204" href="Data.Rational.Base.html#4102" class="Function Operator">/</a> <a id="4206" href="Data.Rational.Base.html#4206" class="Bound">d</a><a id="4207" class="Symbol">)</a> <a id="4209" class="Symbol">{</a><a id="4210" href="Data.Rational.Base.html#4210" class="Bound">d≢0</a><a id="4213" class="Symbol">}</a> <a id="4215" class="Symbol">=</a> <a id="4217" href="Data.Rational.Base.html#3299" class="Function Operator">-</a> <a id="4219" href="Data.Rational.Base.html#3666" class="Function">normalize</a> <a id="4229" class="Symbol">(</a><a id="4230" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="4234" href="Data.Rational.Base.html#4200" class="Bound">n</a><a id="4235" class="Symbol">)</a> <a id="4237" href="Data.Rational.Base.html#4206" class="Bound">d</a> <a id="4239" class="Symbol">{</a><a id="4240" href="Data.Rational.Base.html#4210" class="Bound">d≢0</a><a id="4243" class="Symbol">}</a>

<a id="4246" class="Comment">------------------------------------------------------------------------</a>
<a id="4319" class="Comment">-- Conversion to and from unnormalized rationals</a>

<a id="toℚᵘ"></a><a id="4369" href="Data.Rational.Base.html#4369" class="Function">toℚᵘ</a> <a id="4374" class="Symbol">:</a> <a id="4376" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="4378" class="Symbol">→</a> <a id="4380" href="Data.Rational.Unnormalised.Base.html#1309" class="Record">ℚᵘ</a>
<a id="4383" href="Data.Rational.Base.html#4369" class="Function">toℚᵘ</a> <a id="4388" class="Symbol">(</a><a id="4389" href="Data.Rational.Base.html#1911" class="InductiveConstructor">mkℚ</a> <a id="4393" href="Data.Rational.Base.html#4393" class="Bound">n</a> <a id="4395" href="Data.Rational.Base.html#4395" class="Bound">d-1</a> <a id="4399" class="Symbol">_)</a> <a id="4402" class="Symbol">=</a> <a id="4404" href="Data.Rational.Unnormalised.Base.html#1338" class="InductiveConstructor">mkℚᵘ</a> <a id="4409" href="Data.Rational.Base.html#4393" class="Bound">n</a> <a id="4411" href="Data.Rational.Base.html#4395" class="Bound">d-1</a>

<a id="fromℚᵘ"></a><a id="4416" href="Data.Rational.Base.html#4416" class="Function">fromℚᵘ</a> <a id="4423" class="Symbol">:</a> <a id="4425" href="Data.Rational.Unnormalised.Base.html#1309" class="Record">ℚᵘ</a> <a id="4428" class="Symbol">→</a> <a id="4430" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
<a id="4432" href="Data.Rational.Base.html#4416" class="Function">fromℚᵘ</a> <a id="4439" class="Symbol">(</a><a id="4440" href="Data.Rational.Unnormalised.Base.html#1338" class="InductiveConstructor">mkℚᵘ</a> <a id="4445" href="Data.Rational.Base.html#4445" class="Bound">n</a> <a id="4447" href="Data.Rational.Base.html#4447" class="Bound">d-1</a><a id="4450" class="Symbol">)</a> <a id="4452" class="Symbol">=</a> <a id="4454" href="Data.Rational.Base.html#4445" class="Bound">n</a> <a id="4456" href="Data.Rational.Base.html#4102" class="Function Operator">/</a> <a id="4458" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="4462" href="Data.Rational.Base.html#4447" class="Bound">d-1</a>

<a id="4467" class="Comment">------------------------------------------------------------------------------</a>
<a id="4546" class="Comment">-- Some constants</a>

<a id="0ℚ"></a><a id="4565" href="Data.Rational.Base.html#4565" class="Function">0ℚ</a> <a id="4568" class="Symbol">:</a> <a id="4570" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
<a id="4572" href="Data.Rational.Base.html#4565" class="Function">0ℚ</a> <a id="4575" class="Symbol">=</a> <a id="4577" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="4579" class="Number">0</a> <a id="4581" href="Data.Rational.Base.html#4102" class="Function Operator">/</a> <a id="4583" class="Number">1</a>

<a id="1ℚ"></a><a id="4586" href="Data.Rational.Base.html#4586" class="Function">1ℚ</a> <a id="4589" class="Symbol">:</a> <a id="4591" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
<a id="4593" href="Data.Rational.Base.html#4586" class="Function">1ℚ</a> <a id="4596" class="Symbol">=</a> <a id="4598" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="4600" class="Number">1</a> <a id="4602" href="Data.Rational.Base.html#4102" class="Function Operator">/</a> <a id="4604" class="Number">1</a>

<a id="½"></a><a id="4607" href="Data.Rational.Base.html#4607" class="Function">½</a> <a id="4609" class="Symbol">:</a> <a id="4611" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
<a id="4613" href="Data.Rational.Base.html#4607" class="Function">½</a> <a id="4615" class="Symbol">=</a> <a id="4617" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="4619" class="Number">1</a> <a id="4621" href="Data.Rational.Base.html#4102" class="Function Operator">/</a> <a id="4623" class="Number">2</a>

<a id="-½"></a><a id="4626" href="Data.Rational.Base.html#4626" class="Function">-½</a> <a id="4629" class="Symbol">:</a> <a id="4631" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
<a id="4633" href="Data.Rational.Base.html#4626" class="Function">-½</a> <a id="4636" class="Symbol">=</a> <a id="4638" href="Data.Rational.Base.html#3299" class="Function Operator">-</a> <a id="4640" href="Data.Rational.Base.html#4607" class="Function">½</a>

<a id="4643" class="Comment">------------------------------------------------------------------------</a>
<a id="4716" class="Comment">-- Simple predicates</a>

<a id="NonZero"></a><a id="4738" href="Data.Rational.Base.html#4738" class="Function">NonZero</a> <a id="4746" class="Symbol">:</a> <a id="4748" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="4753" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="4755" href="Level.html#512" class="Function">0ℓ</a>
<a id="4758" href="Data.Rational.Base.html#4738" class="Function">NonZero</a> <a id="4766" href="Data.Rational.Base.html#4766" class="Bound">p</a> <a id="4768" class="Symbol">=</a> <a id="4770" href="Data.Rational.Unnormalised.Base.html#4153" class="Function">ℚᵘ.NonZero</a> <a id="4781" class="Symbol">(</a><a id="4782" href="Data.Rational.Base.html#4369" class="Function">toℚᵘ</a> <a id="4787" href="Data.Rational.Base.html#4766" class="Bound">p</a><a id="4788" class="Symbol">)</a>

<a id="Positive"></a><a id="4791" href="Data.Rational.Base.html#4791" class="Function">Positive</a> <a id="4800" class="Symbol">:</a> <a id="4802" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="4807" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="4809" href="Level.html#512" class="Function">0ℓ</a>
<a id="4812" href="Data.Rational.Base.html#4791" class="Function">Positive</a> <a id="4821" href="Data.Rational.Base.html#4821" class="Bound">p</a> <a id="4823" class="Symbol">=</a> <a id="4825" href="Data.Rational.Unnormalised.Base.html#4203" class="Function">ℚᵘ.Positive</a> <a id="4837" class="Symbol">(</a><a id="4838" href="Data.Rational.Base.html#4369" class="Function">toℚᵘ</a> <a id="4843" href="Data.Rational.Base.html#4821" class="Bound">p</a><a id="4844" class="Symbol">)</a>

<a id="Negative"></a><a id="4847" href="Data.Rational.Base.html#4847" class="Function">Negative</a> <a id="4856" class="Symbol">:</a> <a id="4858" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="4863" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="4865" href="Level.html#512" class="Function">0ℓ</a>
<a id="4868" href="Data.Rational.Base.html#4847" class="Function">Negative</a> <a id="4877" href="Data.Rational.Base.html#4877" class="Bound">p</a> <a id="4879" class="Symbol">=</a> <a id="4881" href="Data.Rational.Unnormalised.Base.html#4256" class="Function">ℚᵘ.Negative</a> <a id="4893" class="Symbol">(</a><a id="4894" href="Data.Rational.Base.html#4369" class="Function">toℚᵘ</a> <a id="4899" href="Data.Rational.Base.html#4877" class="Bound">p</a><a id="4900" class="Symbol">)</a>

<a id="NonPositive"></a><a id="4903" href="Data.Rational.Base.html#4903" class="Function">NonPositive</a> <a id="4915" class="Symbol">:</a> <a id="4917" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="4922" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="4924" href="Level.html#512" class="Function">0ℓ</a>
<a id="4927" href="Data.Rational.Base.html#4903" class="Function">NonPositive</a> <a id="4939" href="Data.Rational.Base.html#4939" class="Bound">p</a> <a id="4941" class="Symbol">=</a> <a id="4943" href="Data.Rational.Unnormalised.Base.html#4309" class="Function">ℚᵘ.NonPositive</a> <a id="4958" class="Symbol">(</a><a id="4959" href="Data.Rational.Base.html#4369" class="Function">toℚᵘ</a> <a id="4964" href="Data.Rational.Base.html#4939" class="Bound">p</a><a id="4965" class="Symbol">)</a>

<a id="NonNegative"></a><a id="4968" href="Data.Rational.Base.html#4968" class="Function">NonNegative</a> <a id="4980" class="Symbol">:</a> <a id="4982" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="4987" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="4989" href="Level.html#512" class="Function">0ℓ</a>
<a id="4992" href="Data.Rational.Base.html#4968" class="Function">NonNegative</a> <a id="5004" href="Data.Rational.Base.html#5004" class="Bound">p</a> <a id="5006" class="Symbol">=</a> <a id="5008" href="Data.Rational.Unnormalised.Base.html#4371" class="Function">ℚᵘ.NonNegative</a> <a id="5023" class="Symbol">(</a><a id="5024" href="Data.Rational.Base.html#4369" class="Function">toℚᵘ</a> <a id="5029" href="Data.Rational.Base.html#5004" class="Bound">p</a><a id="5030" class="Symbol">)</a>

<a id="5033" class="Comment">-- Constructors</a>

<a id="≢-nonZero"></a><a id="5050" href="Data.Rational.Base.html#5050" class="Function">≢-nonZero</a> <a id="5060" class="Symbol">:</a> <a id="5062" class="Symbol">∀</a> <a id="5064" class="Symbol">{</a><a id="5065" href="Data.Rational.Base.html#5065" class="Bound">p</a><a id="5066" class="Symbol">}</a> <a id="5068" class="Symbol">→</a> <a id="5070" href="Data.Rational.Base.html#5065" class="Bound">p</a> <a id="5072" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="5074" href="Data.Rational.Base.html#4565" class="Function">0ℚ</a> <a id="5077" class="Symbol">→</a> <a id="5079" href="Data.Rational.Base.html#4738" class="Function">NonZero</a> <a id="5087" href="Data.Rational.Base.html#5065" class="Bound">p</a>
<a id="5089" href="Data.Rational.Base.html#5050" class="Function">≢-nonZero</a> <a id="5099" class="Symbol">{</a><a id="5100" href="Data.Rational.Base.html#1911" class="InductiveConstructor">mkℚ</a> <a id="5104" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="5109" class="Symbol">_</a> <a id="5111" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="5113" class="Symbol">_</a>       <a id="5121" class="Symbol">_}</a> <a id="5124" class="Symbol">_</a>   <a id="5128" class="Symbol">=</a> <a id="5130" class="Symbol">_</a>
<a id="5132" href="Data.Rational.Base.html#5050" class="Function">≢-nonZero</a> <a id="5142" class="Symbol">{</a><a id="5143" href="Data.Rational.Base.html#1911" class="InductiveConstructor">mkℚ</a> <a id="5147" href="Data.Integer.Base.html#1467" class="InductiveConstructor Operator">+[1+</a> <a id="5152" class="Symbol">_</a> <a id="5154" href="Data.Integer.Base.html#1467" class="InductiveConstructor Operator">]</a> <a id="5156" class="Symbol">_</a>       <a id="5164" class="Symbol">_}</a> <a id="5167" class="Symbol">_</a>   <a id="5171" class="Symbol">=</a> <a id="5173" class="Symbol">_</a>
<a id="5175" href="Data.Rational.Base.html#5050" class="Function">≢-nonZero</a> <a id="5185" class="Symbol">{</a><a id="5186" href="Data.Rational.Base.html#1911" class="InductiveConstructor">mkℚ</a> <a id="5190" href="Data.Integer.Base.html#1444" class="InductiveConstructor">+0</a>       <a id="5199" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>    <a id="5207" class="Symbol">_}</a> <a id="5210" href="Data.Rational.Base.html#5210" class="Bound">p≢0</a> <a id="5214" class="Symbol">=</a> <a id="5216" href="Data.Rational.Base.html#5210" class="Bound">p≢0</a> <a id="5220" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="5225" href="Data.Rational.Base.html#5050" class="Function">≢-nonZero</a> <a id="5235" class="Symbol">{</a><a id="5236" href="Data.Rational.Base.html#1911" class="InductiveConstructor">mkℚ</a> <a id="5240" href="Data.Integer.Base.html#1444" class="InductiveConstructor">+0</a>       <a id="5249" class="Symbol">(</a><a id="5250" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="5254" href="Data.Rational.Base.html#5254" class="Bound">d</a><a id="5255" class="Symbol">)</a> <a id="5257" href="Data.Rational.Base.html#5257" class="Bound">c</a><a id="5258" class="Symbol">}</a> <a id="5260" href="Data.Rational.Base.html#5260" class="Bound">p≢0</a> <a id="5264" class="Symbol">=</a> <a id="5266" href="Data.Nat.Coprimality.html#2911" class="Function">¬0-coprimeTo-2+</a> <a id="5282" class="Symbol">(</a><a id="5283" href="Data.Nat.Coprimality.html#3214" class="Function">C.recompute</a> <a id="5295" href="Data.Rational.Base.html#5257" class="Bound">c</a><a id="5296" class="Symbol">)</a>

<a id="&gt;-nonZero"></a><a id="5299" href="Data.Rational.Base.html#5299" class="Function">&gt;-nonZero</a> <a id="5309" class="Symbol">:</a> <a id="5311" class="Symbol">∀</a> <a id="5313" class="Symbol">{</a><a id="5314" href="Data.Rational.Base.html#5314" class="Bound">p</a><a id="5315" class="Symbol">}</a> <a id="5317" class="Symbol">→</a> <a id="5319" href="Data.Rational.Base.html#5314" class="Bound">p</a> <a id="5321" href="Data.Rational.Base.html#2876" class="Function Operator">&gt;</a> <a id="5323" href="Data.Rational.Base.html#4565" class="Function">0ℚ</a> <a id="5326" class="Symbol">→</a> <a id="5328" href="Data.Rational.Base.html#4738" class="Function">NonZero</a> <a id="5336" href="Data.Rational.Base.html#5314" class="Bound">p</a>
<a id="5338" href="Data.Rational.Base.html#5299" class="Function">&gt;-nonZero</a> <a id="5348" class="Symbol">{</a><a id="5349" href="Data.Rational.Base.html#5349" class="Bound">p</a><a id="5350" class="Symbol">}</a> <a id="5352" class="Symbol">(</a><a id="5353" href="Data.Rational.Base.html#2789" class="InductiveConstructor">*&lt;*</a> <a id="5357" href="Data.Rational.Base.html#5357" class="Bound">p&lt;q</a><a id="5360" class="Symbol">)</a> <a id="5362" class="Symbol">=</a> <a id="5364" href="Data.Rational.Unnormalised.Base.html#4856" class="Function">ℚᵘ.&gt;-nonZero</a> <a id="5377" class="Symbol">{</a><a id="5378" href="Data.Rational.Base.html#4369" class="Function">toℚᵘ</a> <a id="5383" href="Data.Rational.Base.html#5349" class="Bound">p</a><a id="5384" class="Symbol">}</a> <a id="5386" class="Symbol">(</a><a id="5387" href="Data.Rational.Unnormalised.Base.html#2137" class="InductiveConstructor">ℚᵘ.*&lt;*</a> <a id="5394" href="Data.Rational.Base.html#5357" class="Bound">p&lt;q</a><a id="5397" class="Symbol">)</a>

<a id="&lt;-nonZero"></a><a id="5400" href="Data.Rational.Base.html#5400" class="Function">&lt;-nonZero</a> <a id="5410" class="Symbol">:</a> <a id="5412" class="Symbol">∀</a> <a id="5414" class="Symbol">{</a><a id="5415" href="Data.Rational.Base.html#5415" class="Bound">p</a><a id="5416" class="Symbol">}</a> <a id="5418" class="Symbol">→</a> <a id="5420" href="Data.Rational.Base.html#5415" class="Bound">p</a> <a id="5422" href="Data.Rational.Base.html#2766" class="Datatype Operator">&lt;</a> <a id="5424" href="Data.Rational.Base.html#4565" class="Function">0ℚ</a> <a id="5427" class="Symbol">→</a> <a id="5429" href="Data.Rational.Base.html#4738" class="Function">NonZero</a> <a id="5437" href="Data.Rational.Base.html#5415" class="Bound">p</a>
<a id="5439" href="Data.Rational.Base.html#5400" class="Function">&lt;-nonZero</a> <a id="5449" class="Symbol">{</a><a id="5450" href="Data.Rational.Base.html#5450" class="Bound">p</a><a id="5451" class="Symbol">}</a> <a id="5453" class="Symbol">(</a><a id="5454" href="Data.Rational.Base.html#2789" class="InductiveConstructor">*&lt;*</a> <a id="5458" href="Data.Rational.Base.html#5458" class="Bound">p&lt;q</a><a id="5461" class="Symbol">)</a> <a id="5463" class="Symbol">=</a> <a id="5465" href="Data.Rational.Unnormalised.Base.html#4980" class="Function">ℚᵘ.&lt;-nonZero</a> <a id="5478" class="Symbol">{</a><a id="5479" href="Data.Rational.Base.html#4369" class="Function">toℚᵘ</a> <a id="5484" href="Data.Rational.Base.html#5450" class="Bound">p</a><a id="5485" class="Symbol">}</a> <a id="5487" class="Symbol">(</a><a id="5488" href="Data.Rational.Unnormalised.Base.html#2137" class="InductiveConstructor">ℚᵘ.*&lt;*</a> <a id="5495" href="Data.Rational.Base.html#5458" class="Bound">p&lt;q</a><a id="5498" class="Symbol">)</a>

<a id="positive"></a><a id="5501" href="Data.Rational.Base.html#5501" class="Function">positive</a> <a id="5510" class="Symbol">:</a> <a id="5512" class="Symbol">∀</a> <a id="5514" class="Symbol">{</a><a id="5515" href="Data.Rational.Base.html#5515" class="Bound">p</a><a id="5516" class="Symbol">}</a> <a id="5518" class="Symbol">→</a> <a id="5520" href="Data.Rational.Base.html#5515" class="Bound">p</a> <a id="5522" href="Data.Rational.Base.html#2876" class="Function Operator">&gt;</a> <a id="5524" href="Data.Rational.Base.html#4565" class="Function">0ℚ</a> <a id="5527" class="Symbol">→</a> <a id="5529" href="Data.Rational.Base.html#4791" class="Function">Positive</a> <a id="5538" href="Data.Rational.Base.html#5515" class="Bound">p</a>
<a id="5540" href="Data.Rational.Base.html#5501" class="Function">positive</a> <a id="5549" class="Symbol">{</a><a id="5550" href="Data.Rational.Base.html#5550" class="Bound">p</a><a id="5551" class="Symbol">}</a> <a id="5553" class="Symbol">(</a><a id="5554" href="Data.Rational.Base.html#2789" class="InductiveConstructor">*&lt;*</a> <a id="5558" href="Data.Rational.Base.html#5558" class="Bound">p&lt;q</a><a id="5561" class="Symbol">)</a> <a id="5563" class="Symbol">=</a> <a id="5565" href="Data.Rational.Unnormalised.Base.html#5144" class="Function">ℚᵘ.positive</a> <a id="5577" class="Symbol">{</a><a id="5578" href="Data.Rational.Base.html#4369" class="Function">toℚᵘ</a> <a id="5583" href="Data.Rational.Base.html#5550" class="Bound">p</a><a id="5584" class="Symbol">}</a> <a id="5586" class="Symbol">(</a><a id="5587" href="Data.Rational.Unnormalised.Base.html#2137" class="InductiveConstructor">ℚᵘ.*&lt;*</a> <a id="5594" href="Data.Rational.Base.html#5558" class="Bound">p&lt;q</a><a id="5597" class="Symbol">)</a>

<a id="negative"></a><a id="5600" href="Data.Rational.Base.html#5600" class="Function">negative</a> <a id="5609" class="Symbol">:</a> <a id="5611" class="Symbol">∀</a> <a id="5613" class="Symbol">{</a><a id="5614" href="Data.Rational.Base.html#5614" class="Bound">p</a><a id="5615" class="Symbol">}</a> <a id="5617" class="Symbol">→</a> <a id="5619" href="Data.Rational.Base.html#5614" class="Bound">p</a> <a id="5621" href="Data.Rational.Base.html#2766" class="Datatype Operator">&lt;</a> <a id="5623" href="Data.Rational.Base.html#4565" class="Function">0ℚ</a> <a id="5626" class="Symbol">→</a> <a id="5628" href="Data.Rational.Base.html#4847" class="Function">Negative</a> <a id="5637" href="Data.Rational.Base.html#5614" class="Bound">p</a>
<a id="5639" href="Data.Rational.Base.html#5600" class="Function">negative</a> <a id="5648" class="Symbol">{</a><a id="5649" href="Data.Rational.Base.html#5649" class="Bound">p</a><a id="5650" class="Symbol">}</a> <a id="5652" class="Symbol">(</a><a id="5653" href="Data.Rational.Base.html#2789" class="InductiveConstructor">*&lt;*</a> <a id="5657" href="Data.Rational.Base.html#5657" class="Bound">p&lt;q</a><a id="5660" class="Symbol">)</a> <a id="5662" class="Symbol">=</a> <a id="5664" href="Data.Rational.Unnormalised.Base.html#5308" class="Function">ℚᵘ.negative</a> <a id="5676" class="Symbol">{</a><a id="5677" href="Data.Rational.Base.html#4369" class="Function">toℚᵘ</a> <a id="5682" href="Data.Rational.Base.html#5649" class="Bound">p</a><a id="5683" class="Symbol">}</a> <a id="5685" class="Symbol">(</a><a id="5686" href="Data.Rational.Unnormalised.Base.html#2137" class="InductiveConstructor">ℚᵘ.*&lt;*</a> <a id="5693" href="Data.Rational.Base.html#5657" class="Bound">p&lt;q</a><a id="5696" class="Symbol">)</a>

<a id="nonPositive"></a><a id="5699" href="Data.Rational.Base.html#5699" class="Function">nonPositive</a> <a id="5711" class="Symbol">:</a> <a id="5713" class="Symbol">∀</a> <a id="5715" class="Symbol">{</a><a id="5716" href="Data.Rational.Base.html#5716" class="Bound">p</a><a id="5717" class="Symbol">}</a> <a id="5719" class="Symbol">→</a> <a id="5721" href="Data.Rational.Base.html#5716" class="Bound">p</a> <a id="5723" href="Data.Rational.Base.html#2681" class="Datatype Operator">≤</a> <a id="5725" href="Data.Rational.Base.html#4565" class="Function">0ℚ</a> <a id="5728" class="Symbol">→</a> <a id="5730" href="Data.Rational.Base.html#4903" class="Function">NonPositive</a> <a id="5742" href="Data.Rational.Base.html#5716" class="Bound">p</a>
<a id="5744" href="Data.Rational.Base.html#5699" class="Function">nonPositive</a> <a id="5756" class="Symbol">{</a><a id="5757" href="Data.Rational.Base.html#5757" class="Bound">p</a><a id="5758" class="Symbol">}</a> <a id="5760" class="Symbol">(</a><a id="5761" href="Data.Rational.Base.html#2704" class="InductiveConstructor">*≤*</a> <a id="5765" href="Data.Rational.Base.html#5765" class="Bound">p≤q</a><a id="5768" class="Symbol">)</a> <a id="5770" class="Symbol">=</a> <a id="5772" href="Data.Rational.Unnormalised.Base.html#5485" class="Function">ℚᵘ.nonPositive</a> <a id="5787" class="Symbol">{</a><a id="5788" href="Data.Rational.Base.html#4369" class="Function">toℚᵘ</a> <a id="5793" href="Data.Rational.Base.html#5757" class="Bound">p</a><a id="5794" class="Symbol">}</a> <a id="5796" class="Symbol">(</a><a id="5797" href="Data.Rational.Unnormalised.Base.html#2051" class="InductiveConstructor">ℚᵘ.*≤*</a> <a id="5804" href="Data.Rational.Base.html#5765" class="Bound">p≤q</a><a id="5807" class="Symbol">)</a>

<a id="nonNegative"></a><a id="5810" href="Data.Rational.Base.html#5810" class="Function">nonNegative</a> <a id="5822" class="Symbol">:</a> <a id="5824" class="Symbol">∀</a> <a id="5826" class="Symbol">{</a><a id="5827" href="Data.Rational.Base.html#5827" class="Bound">p</a><a id="5828" class="Symbol">}</a> <a id="5830" class="Symbol">→</a> <a id="5832" href="Data.Rational.Base.html#5827" class="Bound">p</a> <a id="5834" href="Data.Rational.Base.html#2846" class="Function Operator">≥</a> <a id="5836" href="Data.Rational.Base.html#4565" class="Function">0ℚ</a> <a id="5839" class="Symbol">→</a> <a id="5841" href="Data.Rational.Base.html#4968" class="Function">NonNegative</a> <a id="5853" href="Data.Rational.Base.html#5827" class="Bound">p</a>
<a id="5855" href="Data.Rational.Base.html#5810" class="Function">nonNegative</a> <a id="5867" class="Symbol">{</a><a id="5868" href="Data.Rational.Base.html#5868" class="Bound">p</a><a id="5869" class="Symbol">}</a> <a id="5871" class="Symbol">(</a><a id="5872" href="Data.Rational.Base.html#2704" class="InductiveConstructor">*≤*</a> <a id="5876" href="Data.Rational.Base.html#5876" class="Bound">p≤q</a><a id="5879" class="Symbol">)</a> <a id="5881" class="Symbol">=</a> <a id="5883" href="Data.Rational.Unnormalised.Base.html#5661" class="Function">ℚᵘ.nonNegative</a> <a id="5898" class="Symbol">{</a><a id="5899" href="Data.Rational.Base.html#4369" class="Function">toℚᵘ</a> <a id="5904" href="Data.Rational.Base.html#5868" class="Bound">p</a><a id="5905" class="Symbol">}</a> <a id="5907" class="Symbol">(</a><a id="5908" href="Data.Rational.Unnormalised.Base.html#2051" class="InductiveConstructor">ℚᵘ.*≤*</a> <a id="5915" href="Data.Rational.Base.html#5876" class="Bound">p≤q</a><a id="5918" class="Symbol">)</a>

<a id="5921" class="Comment">------------------------------------------------------------------------------</a>
<a id="6000" class="Comment">-- Operations on rationals</a>

<a id="6028" class="Keyword">infix</a>  <a id="6035" class="Number">8</a> <a id="6037" href="Data.Rational.Base.html#3299" class="Function Operator">-_</a> <a id="6040" href="Data.Rational.Base.html#6360" class="Function Operator">1/_</a>
<a id="6044" class="Keyword">infixl</a> <a id="6051" class="Number">7</a> <a id="6053" href="Data.Rational.Base.html#6190" class="Function Operator">_*_</a> <a id="6057" href="Data.Rational.Base.html#6568" class="Function Operator">_÷_</a> <a id="6061" href="Data.Rational.Base.html#6713" class="Function Operator">_⊓_</a>
<a id="6065" class="Keyword">infixl</a> <a id="6072" class="Number">6</a> <a id="6074" href="Data.Rational.Base.html#6262" class="Function Operator">_-_</a> <a id="6078" href="Data.Rational.Base.html#6099" class="Function Operator">_+_</a> <a id="6082" href="Data.Rational.Base.html#6653" class="Function Operator">_⊔_</a>

<a id="6087" class="Comment">-- addition</a>
<a id="_+_"></a><a id="6099" href="Data.Rational.Base.html#6099" class="Function Operator">_+_</a> <a id="6103" class="Symbol">:</a> <a id="6105" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="6107" class="Symbol">→</a> <a id="6109" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="6111" class="Symbol">→</a> <a id="6113" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
<a id="6115" href="Data.Rational.Base.html#6115" class="Bound">p</a> <a id="6117" href="Data.Rational.Base.html#6099" class="Function Operator">+</a> <a id="6119" href="Data.Rational.Base.html#6119" class="Bound">q</a> <a id="6121" class="Symbol">=</a> <a id="6123" class="Symbol">(</a><a id="6124" href="Data.Rational.Base.html#2191" class="Field Operator">↥</a> <a id="6126" href="Data.Rational.Base.html#6115" class="Bound">p</a> <a id="6128" href="Data.Integer.Base.html#5169" class="Function Operator">ℤ.*</a> <a id="6132" href="Data.Rational.Base.html#2214" class="Function Operator">↧</a> <a id="6134" href="Data.Rational.Base.html#6119" class="Bound">q</a> <a id="6136" href="Data.Integer.Base.html#4844" class="Function Operator">ℤ.+</a> <a id="6140" href="Data.Rational.Base.html#2191" class="Field Operator">↥</a> <a id="6142" href="Data.Rational.Base.html#6119" class="Bound">q</a> <a id="6144" href="Data.Integer.Base.html#5169" class="Function Operator">ℤ.*</a> <a id="6148" href="Data.Rational.Base.html#2214" class="Function Operator">↧</a> <a id="6150" href="Data.Rational.Base.html#6115" class="Bound">p</a><a id="6151" class="Symbol">)</a> <a id="6153" href="Data.Rational.Base.html#4102" class="Function Operator">/</a> <a id="6155" class="Symbol">(</a><a id="6156" href="Data.Rational.Base.html#2237" class="Function Operator">↧ₙ</a> <a id="6159" href="Data.Rational.Base.html#6115" class="Bound">p</a> <a id="6161" href="Agda.Builtin.Nat.html#528" class="Primitive Operator">ℕ.*</a> <a id="6165" href="Data.Rational.Base.html#2237" class="Function Operator">↧ₙ</a> <a id="6168" href="Data.Rational.Base.html#6119" class="Bound">q</a><a id="6169" class="Symbol">)</a>

<a id="6172" class="Comment">-- multiplication</a>
<a id="_*_"></a><a id="6190" href="Data.Rational.Base.html#6190" class="Function Operator">_*_</a> <a id="6194" class="Symbol">:</a> <a id="6196" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="6198" class="Symbol">→</a> <a id="6200" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="6202" class="Symbol">→</a> <a id="6204" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
<a id="6206" href="Data.Rational.Base.html#6206" class="Bound">p</a> <a id="6208" href="Data.Rational.Base.html#6190" class="Function Operator">*</a> <a id="6210" href="Data.Rational.Base.html#6210" class="Bound">q</a> <a id="6212" class="Symbol">=</a> <a id="6214" class="Symbol">(</a><a id="6215" href="Data.Rational.Base.html#2191" class="Field Operator">↥</a> <a id="6217" href="Data.Rational.Base.html#6206" class="Bound">p</a> <a id="6219" href="Data.Integer.Base.html#5169" class="Function Operator">ℤ.*</a> <a id="6223" href="Data.Rational.Base.html#2191" class="Field Operator">↥</a> <a id="6225" href="Data.Rational.Base.html#6210" class="Bound">q</a><a id="6226" class="Symbol">)</a> <a id="6228" href="Data.Rational.Base.html#4102" class="Function Operator">/</a> <a id="6230" class="Symbol">(</a><a id="6231" href="Data.Rational.Base.html#2237" class="Function Operator">↧ₙ</a> <a id="6234" href="Data.Rational.Base.html#6206" class="Bound">p</a> <a id="6236" href="Agda.Builtin.Nat.html#528" class="Primitive Operator">ℕ.*</a> <a id="6240" href="Data.Rational.Base.html#2237" class="Function Operator">↧ₙ</a> <a id="6243" href="Data.Rational.Base.html#6210" class="Bound">q</a><a id="6244" class="Symbol">)</a>

<a id="6247" class="Comment">-- subtraction</a>
<a id="_-_"></a><a id="6262" href="Data.Rational.Base.html#6262" class="Function Operator">_-_</a> <a id="6266" class="Symbol">:</a> <a id="6268" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="6270" class="Symbol">→</a> <a id="6272" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="6274" class="Symbol">→</a> <a id="6276" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
<a id="6278" href="Data.Rational.Base.html#6278" class="Bound">p</a> <a id="6280" href="Data.Rational.Base.html#6262" class="Function Operator">-</a> <a id="6282" href="Data.Rational.Base.html#6282" class="Bound">q</a> <a id="6284" class="Symbol">=</a> <a id="6286" href="Data.Rational.Base.html#6278" class="Bound">p</a> <a id="6288" href="Data.Rational.Base.html#6099" class="Function Operator">+</a> <a id="6290" class="Symbol">(</a><a id="6291" href="Data.Rational.Base.html#3299" class="Function Operator">-</a> <a id="6293" href="Data.Rational.Base.html#6282" class="Bound">q</a><a id="6294" class="Symbol">)</a>

<a id="6297" class="Comment">-- reciprocal: requires a proof that the numerator is not zero</a>
<a id="1/_"></a><a id="6360" href="Data.Rational.Base.html#6360" class="Function Operator">1/_</a> <a id="6364" class="Symbol">:</a> <a id="6366" class="Symbol">(</a><a id="6367" href="Data.Rational.Base.html#6367" class="Bound">p</a> <a id="6369" class="Symbol">:</a> <a id="6371" href="Data.Rational.Base.html#1883" class="Record">ℚ</a><a id="6372" class="Symbol">)</a> <a id="6374" class="Symbol">→</a> <a id="6376" class="Symbol">.{</a><a id="6378" href="Data.Rational.Base.html#6378" class="Bound">n≢0</a> <a id="6382" class="Symbol">:</a> <a id="6384" href="Data.Integer.Base.html#1748" class="Function Operator">ℤ.∣</a> <a id="6388" href="Data.Rational.Base.html#2191" class="Field Operator">↥</a> <a id="6390" href="Data.Rational.Base.html#6367" class="Bound">p</a> <a id="6392" href="Data.Integer.Base.html#1748" class="Function Operator">∣</a> <a id="6394" href="Data.Rational.Unnormalised.Base.html#2681" class="Function Operator">≢0</a><a id="6396" class="Symbol">}</a> <a id="6398" class="Symbol">→</a> <a id="6400" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
<a id="6402" href="Data.Rational.Base.html#6360" class="Function Operator">1/</a> <a id="6405" href="Data.Rational.Base.html#1911" class="InductiveConstructor">mkℚ</a> <a id="6409" href="Data.Integer.Base.html#1467" class="InductiveConstructor Operator">+[1+</a> <a id="6414" href="Data.Rational.Base.html#6414" class="Bound">n</a> <a id="6416" href="Data.Integer.Base.html#1467" class="InductiveConstructor Operator">]</a> <a id="6418" href="Data.Rational.Base.html#6418" class="Bound">d</a> <a id="6420" href="Data.Rational.Base.html#6420" class="Bound">prf</a> <a id="6424" class="Symbol">=</a> <a id="6426" href="Data.Rational.Base.html#1911" class="InductiveConstructor">mkℚ</a> <a id="6430" href="Data.Integer.Base.html#1467" class="InductiveConstructor Operator">+[1+</a> <a id="6435" href="Data.Rational.Base.html#6418" class="Bound">d</a> <a id="6437" href="Data.Integer.Base.html#1467" class="InductiveConstructor Operator">]</a> <a id="6439" href="Data.Rational.Base.html#6414" class="Bound">n</a> <a id="6441" class="Symbol">(</a><a id="6442" href="Data.Nat.Coprimality.html#2221" class="Function">C.sym</a> <a id="6448" href="Data.Rational.Base.html#6420" class="Bound">prf</a><a id="6451" class="Symbol">)</a>
<a id="6453" href="Data.Rational.Base.html#6360" class="Function Operator">1/</a> <a id="6456" href="Data.Rational.Base.html#1911" class="InductiveConstructor">mkℚ</a> <a id="6460" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="6465" href="Data.Rational.Base.html#6465" class="Bound">n</a> <a id="6467" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="6469" href="Data.Rational.Base.html#6469" class="Bound">d</a> <a id="6471" href="Data.Rational.Base.html#6471" class="Bound">prf</a> <a id="6475" class="Symbol">=</a> <a id="6477" href="Data.Rational.Base.html#1911" class="InductiveConstructor">mkℚ</a> <a id="6481" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="6486" href="Data.Rational.Base.html#6469" class="Bound">d</a> <a id="6488" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="6490" href="Data.Rational.Base.html#6465" class="Bound">n</a> <a id="6492" class="Symbol">(</a><a id="6493" href="Data.Nat.Coprimality.html#2221" class="Function">C.sym</a> <a id="6499" href="Data.Rational.Base.html#6471" class="Bound">prf</a><a id="6502" class="Symbol">)</a>

<a id="6505" class="Comment">-- division: requires a proof that the denominator is not zero</a>
<a id="_÷_"></a><a id="6568" href="Data.Rational.Base.html#6568" class="Function Operator">_÷_</a> <a id="6572" class="Symbol">:</a> <a id="6574" class="Symbol">(</a><a id="6575" href="Data.Rational.Base.html#6575" class="Bound">p</a> <a id="6577" href="Data.Rational.Base.html#6577" class="Bound">q</a> <a id="6579" class="Symbol">:</a> <a id="6581" href="Data.Rational.Base.html#1883" class="Record">ℚ</a><a id="6582" class="Symbol">)</a> <a id="6584" class="Symbol">→</a> <a id="6586" class="Symbol">.{</a><a id="6588" href="Data.Rational.Base.html#6588" class="Bound">n≢0</a> <a id="6592" class="Symbol">:</a> <a id="6594" href="Data.Integer.Base.html#1748" class="Function Operator">ℤ.∣</a> <a id="6598" href="Data.Rational.Base.html#2191" class="Field Operator">↥</a> <a id="6600" href="Data.Rational.Base.html#6577" class="Bound">q</a> <a id="6602" href="Data.Integer.Base.html#1748" class="Function Operator">∣</a> <a id="6604" href="Data.Rational.Unnormalised.Base.html#2681" class="Function Operator">≢0</a><a id="6606" class="Symbol">}</a> <a id="6608" class="Symbol">→</a> <a id="6610" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
<a id="6612" class="Symbol">(</a><a id="6613" href="Data.Rational.Base.html#6613" class="Bound">p</a> <a id="6615" href="Data.Rational.Base.html#6568" class="Function Operator">÷</a> <a id="6617" href="Data.Rational.Base.html#6617" class="Bound">q</a><a id="6618" class="Symbol">)</a> <a id="6620" class="Symbol">{</a><a id="6621" href="Data.Rational.Base.html#6621" class="Bound">n≢0</a><a id="6624" class="Symbol">}</a> <a id="6626" class="Symbol">=</a> <a id="6628" href="Data.Rational.Base.html#6613" class="Bound">p</a> <a id="6630" href="Data.Rational.Base.html#6190" class="Function Operator">*</a> <a id="6632" class="Symbol">(</a><a id="6633" href="Data.Rational.Base.html#6360" class="Function Operator">1/</a> <a id="6636" href="Data.Rational.Base.html#6617" class="Bound">q</a><a id="6637" class="Symbol">)</a> <a id="6639" class="Symbol">{</a><a id="6640" href="Data.Rational.Base.html#6621" class="Bound">n≢0</a><a id="6643" class="Symbol">}</a>

<a id="6646" class="Comment">-- max</a>
<a id="_⊔_"></a><a id="6653" href="Data.Rational.Base.html#6653" class="Function Operator">_⊔_</a> <a id="6657" class="Symbol">:</a> <a id="6659" class="Symbol">(</a><a id="6660" href="Data.Rational.Base.html#6660" class="Bound">p</a> <a id="6662" href="Data.Rational.Base.html#6662" class="Bound">q</a> <a id="6664" class="Symbol">:</a> <a id="6666" href="Data.Rational.Base.html#1883" class="Record">ℚ</a><a id="6667" class="Symbol">)</a> <a id="6669" class="Symbol">→</a> <a id="6671" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
<a id="6673" href="Data.Rational.Base.html#6673" class="Bound">p</a> <a id="6675" href="Data.Rational.Base.html#6653" class="Function Operator">⊔</a> <a id="6677" href="Data.Rational.Base.html#6677" class="Bound">q</a> <a id="6679" class="Symbol">=</a> <a id="6681" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="6684" href="Data.Rational.Base.html#6673" class="Bound">p</a> <a id="6686" href="Data.Rational.Base.html#3150" class="Function Operator">≤ᵇ</a> <a id="6689" href="Data.Rational.Base.html#6677" class="Bound">q</a> <a id="6691" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="6696" href="Data.Rational.Base.html#6677" class="Bound">q</a> <a id="6698" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="6703" href="Data.Rational.Base.html#6673" class="Bound">p</a>

<a id="6706" class="Comment">-- min</a>
<a id="_⊓_"></a><a id="6713" href="Data.Rational.Base.html#6713" class="Function Operator">_⊓_</a> <a id="6717" class="Symbol">:</a> <a id="6719" class="Symbol">(</a><a id="6720" href="Data.Rational.Base.html#6720" class="Bound">p</a> <a id="6722" href="Data.Rational.Base.html#6722" class="Bound">q</a> <a id="6724" class="Symbol">:</a> <a id="6726" href="Data.Rational.Base.html#1883" class="Record">ℚ</a><a id="6727" class="Symbol">)</a> <a id="6729" class="Symbol">→</a> <a id="6731" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
<a id="6733" href="Data.Rational.Base.html#6733" class="Bound">p</a> <a id="6735" href="Data.Rational.Base.html#6713" class="Function Operator">⊓</a> <a id="6737" href="Data.Rational.Base.html#6737" class="Bound">q</a> <a id="6739" class="Symbol">=</a> <a id="6741" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="6744" href="Data.Rational.Base.html#6733" class="Bound">p</a> <a id="6746" href="Data.Rational.Base.html#3150" class="Function Operator">≤ᵇ</a> <a id="6749" href="Data.Rational.Base.html#6737" class="Bound">q</a> <a id="6751" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="6756" href="Data.Rational.Base.html#6733" class="Bound">p</a> <a id="6758" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="6763" href="Data.Rational.Base.html#6737" class="Bound">q</a>

<a id="6766" class="Comment">-- absolute value</a>
<a id="∣_∣"></a><a id="6784" href="Data.Rational.Base.html#6784" class="Function Operator">∣_∣</a> <a id="6788" class="Symbol">:</a> <a id="6790" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="6792" class="Symbol">→</a> <a id="6794" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
<a id="6796" href="Data.Rational.Base.html#6784" class="Function Operator">∣</a> <a id="6798" href="Data.Rational.Base.html#1911" class="InductiveConstructor">mkℚ</a> <a id="6802" href="Data.Rational.Base.html#6802" class="Bound">n</a> <a id="6804" href="Data.Rational.Base.html#6804" class="Bound">d</a> <a id="6806" href="Data.Rational.Base.html#6806" class="Bound">c</a> <a id="6808" href="Data.Rational.Base.html#6784" class="Function Operator">∣</a> <a id="6810" class="Symbol">=</a> <a id="6812" href="Data.Rational.Base.html#1911" class="InductiveConstructor">mkℚ</a> <a id="6816" class="Symbol">(</a><a id="6817" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="6819" href="Data.Integer.Base.html#1748" class="Function Operator">ℤ.∣</a> <a id="6823" href="Data.Rational.Base.html#6802" class="Bound">n</a> <a id="6825" href="Data.Integer.Base.html#1748" class="Function Operator">∣</a><a id="6826" class="Symbol">)</a> <a id="6828" href="Data.Rational.Base.html#6804" class="Bound">d</a> <a id="6830" href="Data.Rational.Base.html#6806" class="Bound">c</a>
</pre></body></html>