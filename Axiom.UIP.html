<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Axiom.UIP</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Results concerning uniqueness of identity proofs</a>
<a id="158" class="Comment">------------------------------------------------------------------------</a>

<a id="232" class="Symbol">{-#</a> <a id="236" class="Keyword">OPTIONS</a> <a id="244" class="Option">--without-K</a> <a id="256" class="Option">--safe</a> <a id="263" class="Symbol">#-}</a>

<a id="268" class="Keyword">module</a> <a id="275" href="Axiom.UIP.html" class="Module">Axiom.UIP</a> <a id="285" class="Keyword">where</a>

<a id="292" class="Keyword">open</a> <a id="297" class="Keyword">import</a> <a id="304" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="315" class="Keyword">open</a> <a id="320" class="Keyword">import</a> <a id="327" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="344" class="Keyword">open</a> <a id="349" class="Keyword">import</a> <a id="356" href="Relation.Binary.Core.html" class="Module">Relation.Binary.Core</a>
<a id="377" class="Keyword">open</a> <a id="382" class="Keyword">import</a> <a id="389" href="Relation.Binary.PropositionalEquality.Core.html" class="Module">Relation.Binary.PropositionalEquality.Core</a>

<a id="433" class="Comment">------------------------------------------------------------------------</a>
<a id="506" class="Comment">-- Uniqueness of Identity Proofs (UIP) states that all proofs of</a>
<a id="571" class="Comment">-- equality are themselves equal. In other words, the equality relation</a>
<a id="643" class="Comment">-- is irrelevant. Here we define UIP relative to a given type.</a>

<a id="UIP"></a><a id="707" href="Axiom.UIP.html#707" class="Function">UIP</a> <a id="711" class="Symbol">:</a> <a id="713" class="Symbol">∀</a> <a id="715" class="Symbol">{</a><a id="716" href="Axiom.UIP.html#716" class="Bound">a</a><a id="717" class="Symbol">}</a> <a id="719" class="Symbol">(</a><a id="720" href="Axiom.UIP.html#720" class="Bound">A</a> <a id="722" class="Symbol">:</a> <a id="724" class="PrimitiveType">Set</a> <a id="728" href="Axiom.UIP.html#716" class="Bound">a</a><a id="729" class="Symbol">)</a> <a id="731" class="Symbol">→</a> <a id="733" class="PrimitiveType">Set</a> <a id="737" href="Axiom.UIP.html#716" class="Bound">a</a>
<a id="739" href="Axiom.UIP.html#707" class="Function">UIP</a> <a id="743" href="Axiom.UIP.html#743" class="Bound">A</a> <a id="745" class="Symbol">=</a> <a id="747" href="Relation.Binary.Core.html#5433" class="Function">Irrelevant</a> <a id="758" class="Symbol">{</a><a id="759" class="Argument">A</a> <a id="761" class="Symbol">=</a> <a id="763" href="Axiom.UIP.html#743" class="Bound">A</a><a id="764" class="Symbol">}</a> <a id="766" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a>

<a id="771" class="Comment">------------------------------------------------------------------------</a>
<a id="844" class="Comment">-- UIP always holds when using axiom K (see `Axiom.UIP.WithK`).</a>

<a id="909" class="Comment">------------------------------------------------------------------------</a>
<a id="982" class="Comment">-- The existence of a constant function over proofs of equality for</a>
<a id="1050" class="Comment">-- elements in A is enough to prove UIP for A. Indeed, we can relate any</a>
<a id="1123" class="Comment">-- proof to its image via this function which we then know is equal to</a>
<a id="1194" class="Comment">-- the image of any other proof.</a>

<a id="1228" class="Keyword">module</a> <a id="Constant⇒UIP"></a><a id="1235" href="Axiom.UIP.html#1235" class="Module">Constant⇒UIP</a>
  <a id="1250" class="Symbol">{</a><a id="1251" href="Axiom.UIP.html#1251" class="Bound">a</a><a id="1252" class="Symbol">}</a> <a id="1254" class="Symbol">{</a><a id="1255" href="Axiom.UIP.html#1255" class="Bound">A</a> <a id="1257" class="Symbol">:</a> <a id="1259" class="PrimitiveType">Set</a> <a id="1263" href="Axiom.UIP.html#1251" class="Bound">a</a><a id="1264" class="Symbol">}</a> <a id="1266" class="Symbol">(</a><a id="1267" href="Axiom.UIP.html#1267" class="Bound">f</a> <a id="1269" class="Symbol">:</a> <a id="1271" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a> <a id="1275" class="Symbol">{</a><a id="1276" class="Argument">A</a> <a id="1278" class="Symbol">=</a> <a id="1280" href="Axiom.UIP.html#1255" class="Bound">A</a><a id="1281" class="Symbol">}</a> <a id="1283" href="Relation.Binary.Core.html#1240" class="Function Operator">⇒</a> <a id="1285" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="1288" class="Symbol">)</a>
  <a id="1292" class="Symbol">(</a><a id="1293" href="Axiom.UIP.html#1293" class="Bound">f-constant</a> <a id="1304" class="Symbol">:</a> <a id="1306" class="Symbol">∀</a> <a id="1308" class="Symbol">{</a><a id="1309" href="Axiom.UIP.html#1309" class="Bound">a</a> <a id="1311" href="Axiom.UIP.html#1311" class="Bound">b</a><a id="1312" class="Symbol">}</a> <a id="1314" class="Symbol">(</a><a id="1315" href="Axiom.UIP.html#1315" class="Bound">p</a> <a id="1317" href="Axiom.UIP.html#1317" class="Bound">q</a> <a id="1319" class="Symbol">:</a> <a id="1321" href="Axiom.UIP.html#1309" class="Bound">a</a> <a id="1323" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1325" href="Axiom.UIP.html#1311" class="Bound">b</a><a id="1326" class="Symbol">)</a> <a id="1328" class="Symbol">→</a> <a id="1330" href="Axiom.UIP.html#1267" class="Bound">f</a> <a id="1332" href="Axiom.UIP.html#1315" class="Bound">p</a> <a id="1334" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1336" href="Axiom.UIP.html#1267" class="Bound">f</a> <a id="1338" href="Axiom.UIP.html#1317" class="Bound">q</a><a id="1339" class="Symbol">)</a>
  <a id="1343" class="Keyword">where</a>

  <a id="Constant⇒UIP.≡-canonical"></a><a id="1352" href="Axiom.UIP.html#1352" class="Function">≡-canonical</a> <a id="1364" class="Symbol">:</a> <a id="1366" class="Symbol">∀</a> <a id="1368" class="Symbol">{</a><a id="1369" href="Axiom.UIP.html#1369" class="Bound">a</a> <a id="1371" href="Axiom.UIP.html#1371" class="Bound">b</a><a id="1372" class="Symbol">}</a> <a id="1374" class="Symbol">(</a><a id="1375" href="Axiom.UIP.html#1375" class="Bound">p</a> <a id="1377" class="Symbol">:</a> <a id="1379" href="Axiom.UIP.html#1369" class="Bound">a</a> <a id="1381" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1383" href="Axiom.UIP.html#1371" class="Bound">b</a><a id="1384" class="Symbol">)</a> <a id="1386" class="Symbol">→</a> <a id="1388" href="Relation.Binary.PropositionalEquality.Core.html#923" class="Function">trans</a> <a id="1394" class="Symbol">(</a><a id="1395" href="Relation.Binary.PropositionalEquality.Core.html#874" class="Function">sym</a> <a id="1399" class="Symbol">(</a><a id="1400" href="Axiom.UIP.html#1267" class="Bound">f</a> <a id="1402" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="1406" class="Symbol">))</a> <a id="1409" class="Symbol">(</a><a id="1410" href="Axiom.UIP.html#1267" class="Bound">f</a> <a id="1412" href="Axiom.UIP.html#1375" class="Bound">p</a><a id="1413" class="Symbol">)</a> <a id="1415" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1417" href="Axiom.UIP.html#1375" class="Bound">p</a>
  <a id="1421" href="Axiom.UIP.html#1352" class="Function">≡-canonical</a> <a id="1433" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="1438" class="Symbol">=</a> <a id="1440" href="Relation.Binary.PropositionalEquality.Core.html#1868" class="Function">trans-symˡ</a> <a id="1451" class="Symbol">(</a><a id="1452" href="Axiom.UIP.html#1267" class="Bound">f</a> <a id="1454" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="1458" class="Symbol">)</a>

  <a id="Constant⇒UIP.≡-irrelevant"></a><a id="1463" href="Axiom.UIP.html#1463" class="Function">≡-irrelevant</a> <a id="1476" class="Symbol">:</a> <a id="1478" href="Axiom.UIP.html#707" class="Function">UIP</a> <a id="1482" href="Axiom.UIP.html#1255" class="Bound">A</a>
  <a id="1486" href="Axiom.UIP.html#1463" class="Function">≡-irrelevant</a> <a id="1499" href="Axiom.UIP.html#1499" class="Bound">p</a> <a id="1501" href="Axiom.UIP.html#1501" class="Bound">q</a> <a id="1503" class="Symbol">=</a> <a id="1505" href="Relation.Binary.PropositionalEquality.Core.html#2477" class="Function Operator">begin</a>
    <a id="1515" href="Axiom.UIP.html#1499" class="Bound">p</a>                          <a id="1542" href="Relation.Binary.PropositionalEquality.Core.html#2594" class="Function Operator">≡⟨</a> <a id="1545" href="Relation.Binary.PropositionalEquality.Core.html#874" class="Function">sym</a> <a id="1549" class="Symbol">(</a><a id="1550" href="Axiom.UIP.html#1352" class="Function">≡-canonical</a> <a id="1562" href="Axiom.UIP.html#1499" class="Bound">p</a><a id="1563" class="Symbol">)</a> <a id="1565" href="Relation.Binary.PropositionalEquality.Core.html#2594" class="Function Operator">⟩</a>
    <a id="1571" href="Relation.Binary.PropositionalEquality.Core.html#923" class="Function">trans</a> <a id="1577" class="Symbol">(</a><a id="1578" href="Relation.Binary.PropositionalEquality.Core.html#874" class="Function">sym</a> <a id="1582" class="Symbol">(</a><a id="1583" href="Axiom.UIP.html#1267" class="Bound">f</a> <a id="1585" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="1589" class="Symbol">))</a> <a id="1592" class="Symbol">(</a><a id="1593" href="Axiom.UIP.html#1267" class="Bound">f</a> <a id="1595" href="Axiom.UIP.html#1499" class="Bound">p</a><a id="1596" class="Symbol">)</a> <a id="1598" href="Relation.Binary.PropositionalEquality.Core.html#2594" class="Function Operator">≡⟨</a> <a id="1601" href="Relation.Binary.PropositionalEquality.Core.html#1045" class="Function">cong</a> <a id="1606" class="Symbol">(</a><a id="1607" href="Relation.Binary.PropositionalEquality.Core.html#923" class="Function">trans</a> <a id="1613" class="Symbol">_)</a> <a id="1616" class="Symbol">(</a><a id="1617" href="Axiom.UIP.html#1293" class="Bound">f-constant</a> <a id="1628" href="Axiom.UIP.html#1499" class="Bound">p</a> <a id="1630" href="Axiom.UIP.html#1501" class="Bound">q</a><a id="1631" class="Symbol">)</a> <a id="1633" href="Relation.Binary.PropositionalEquality.Core.html#2594" class="Function Operator">⟩</a>
    <a id="1639" href="Relation.Binary.PropositionalEquality.Core.html#923" class="Function">trans</a> <a id="1645" class="Symbol">(</a><a id="1646" href="Relation.Binary.PropositionalEquality.Core.html#874" class="Function">sym</a> <a id="1650" class="Symbol">(</a><a id="1651" href="Axiom.UIP.html#1267" class="Bound">f</a> <a id="1653" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="1657" class="Symbol">))</a> <a id="1660" class="Symbol">(</a><a id="1661" href="Axiom.UIP.html#1267" class="Bound">f</a> <a id="1663" href="Axiom.UIP.html#1501" class="Bound">q</a><a id="1664" class="Symbol">)</a> <a id="1666" href="Relation.Binary.PropositionalEquality.Core.html#2594" class="Function Operator">≡⟨</a> <a id="1669" href="Axiom.UIP.html#1352" class="Function">≡-canonical</a> <a id="1681" href="Axiom.UIP.html#1501" class="Bound">q</a> <a id="1683" href="Relation.Binary.PropositionalEquality.Core.html#2594" class="Function Operator">⟩</a>
    <a id="1689" href="Axiom.UIP.html#1501" class="Bound">q</a>                          <a id="1716" href="Relation.Binary.PropositionalEquality.Core.html#2772" class="Function Operator">∎</a> <a id="1718" class="Keyword">where</a> <a id="1724" class="Keyword">open</a> <a id="1729" href="Relation.Binary.PropositionalEquality.Core.html#2375" class="Module">≡-Reasoning</a>


<a id="1743" class="Comment">------------------------------------------------------------------------</a>
<a id="1816" class="Comment">-- If equality is decidable for a given type, then we can prove UIP for</a>
<a id="1888" class="Comment">-- that type. Indeed, the decision procedure allows us to define a</a>
<a id="1955" class="Comment">-- function over proofs of equality which is constant: it returns the</a>
<a id="2025" class="Comment">-- proof produced by the decision procedure.</a>

<a id="2071" class="Keyword">module</a> <a id="Decidable⇒UIP"></a><a id="2078" href="Axiom.UIP.html#2078" class="Module">Decidable⇒UIP</a>
  <a id="2094" class="Symbol">{</a><a id="2095" href="Axiom.UIP.html#2095" class="Bound">a</a><a id="2096" class="Symbol">}</a> <a id="2098" class="Symbol">{</a><a id="2099" href="Axiom.UIP.html#2099" class="Bound">A</a> <a id="2101" class="Symbol">:</a> <a id="2103" class="PrimitiveType">Set</a> <a id="2107" href="Axiom.UIP.html#2095" class="Bound">a</a><a id="2108" class="Symbol">}</a> <a id="2110" class="Symbol">(</a><a id="2111" href="Axiom.UIP.html#2111" class="Bound Operator">_≟_</a> <a id="2115" class="Symbol">:</a> <a id="2117" href="Relation.Binary.Core.html#5213" class="Function">Decidable</a> <a id="2127" class="Symbol">(</a><a id="2128" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a> <a id="2132" class="Symbol">{</a><a id="2133" class="Argument">A</a> <a id="2135" class="Symbol">=</a> <a id="2137" href="Axiom.UIP.html#2099" class="Bound">A</a><a id="2138" class="Symbol">}))</a>
  <a id="2144" class="Keyword">where</a>

  <a id="Decidable⇒UIP.≡-normalise"></a><a id="2153" href="Axiom.UIP.html#2153" class="Function">≡-normalise</a> <a id="2165" class="Symbol">:</a> <a id="2167" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a> <a id="2171" class="Symbol">{</a><a id="2172" class="Argument">A</a> <a id="2174" class="Symbol">=</a> <a id="2176" href="Axiom.UIP.html#2099" class="Bound">A</a><a id="2177" class="Symbol">}</a> <a id="2179" href="Relation.Binary.Core.html#1240" class="Function Operator">⇒</a> <a id="2181" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a>
  <a id="2187" href="Axiom.UIP.html#2153" class="Function">≡-normalise</a> <a id="2199" class="Symbol">{</a><a id="2200" href="Axiom.UIP.html#2200" class="Bound">a</a><a id="2201" class="Symbol">}</a> <a id="2203" class="Symbol">{</a><a id="2204" href="Axiom.UIP.html#2204" class="Bound">b</a><a id="2205" class="Symbol">}</a> <a id="2207" href="Axiom.UIP.html#2207" class="Bound">a≡b</a> <a id="2211" class="Keyword">with</a> <a id="2216" href="Axiom.UIP.html#2200" class="Bound">a</a> <a id="2218" href="Axiom.UIP.html#2111" class="Bound Operator">≟</a> <a id="2220" href="Axiom.UIP.html#2204" class="Bound">b</a>
  <a id="2224" class="Symbol">...</a> <a id="2228" class="Symbol">|</a> <a id="2230" href="Relation.Nullary.html#606" class="InductiveConstructor">yes</a> <a id="2234" href="Axiom.UIP.html#2234" class="Bound">p</a> <a id="2236" class="Symbol">=</a> <a id="2238" href="Axiom.UIP.html#2234" class="Bound">p</a>
  <a id="2242" class="Symbol">...</a> <a id="2246" class="Symbol">|</a> <a id="2248" href="Relation.Nullary.html#633" class="InductiveConstructor">no</a> <a id="2251" href="Axiom.UIP.html#2251" class="Bound">¬p</a> <a id="2254" class="Symbol">=</a> <a id="2256" href="Data.Empty.html#396" class="Function">⊥-elim</a> <a id="2263" class="Symbol">(</a><a id="2264" href="Axiom.UIP.html#2251" class="Bound">¬p</a> <a id="2267" class="Bound">a≡b</a><a id="2270" class="Symbol">)</a>

  <a id="Decidable⇒UIP.≡-normalise-constant"></a><a id="2275" href="Axiom.UIP.html#2275" class="Function">≡-normalise-constant</a> <a id="2296" class="Symbol">:</a> <a id="2298" class="Symbol">∀</a> <a id="2300" class="Symbol">{</a><a id="2301" href="Axiom.UIP.html#2301" class="Bound">a</a> <a id="2303" href="Axiom.UIP.html#2303" class="Bound">b</a><a id="2304" class="Symbol">}</a> <a id="2306" class="Symbol">(</a><a id="2307" href="Axiom.UIP.html#2307" class="Bound">p</a> <a id="2309" href="Axiom.UIP.html#2309" class="Bound">q</a> <a id="2311" class="Symbol">:</a> <a id="2313" href="Axiom.UIP.html#2301" class="Bound">a</a> <a id="2315" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="2317" href="Axiom.UIP.html#2303" class="Bound">b</a><a id="2318" class="Symbol">)</a> <a id="2320" class="Symbol">→</a> <a id="2322" href="Axiom.UIP.html#2153" class="Function">≡-normalise</a> <a id="2334" href="Axiom.UIP.html#2307" class="Bound">p</a> <a id="2336" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="2338" href="Axiom.UIP.html#2153" class="Function">≡-normalise</a> <a id="2350" href="Axiom.UIP.html#2309" class="Bound">q</a>
  <a id="2354" href="Axiom.UIP.html#2275" class="Function">≡-normalise-constant</a> <a id="2375" class="Symbol">{</a><a id="2376" href="Axiom.UIP.html#2376" class="Bound">a</a><a id="2377" class="Symbol">}</a> <a id="2379" class="Symbol">{</a><a id="2380" href="Axiom.UIP.html#2380" class="Bound">b</a><a id="2381" class="Symbol">}</a> <a id="2383" href="Axiom.UIP.html#2383" class="Bound">p</a> <a id="2385" href="Axiom.UIP.html#2385" class="Bound">q</a> <a id="2387" class="Keyword">with</a> <a id="2392" href="Axiom.UIP.html#2376" class="Bound">a</a> <a id="2394" href="Axiom.UIP.html#2111" class="Bound Operator">≟</a> <a id="2396" href="Axiom.UIP.html#2380" class="Bound">b</a>
  <a id="2400" class="Symbol">...</a> <a id="2404" class="Symbol">|</a> <a id="2406" href="Relation.Nullary.html#606" class="InductiveConstructor">yes</a> <a id="2410" class="Symbol">_</a> <a id="2412" class="Symbol">=</a> <a id="2414" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
  <a id="2421" class="Symbol">...</a> <a id="2425" class="Symbol">|</a> <a id="2427" href="Relation.Nullary.html#633" class="InductiveConstructor">no</a> <a id="2430" href="Axiom.UIP.html#2430" class="Bound">¬p</a> <a id="2433" class="Symbol">=</a> <a id="2435" href="Data.Empty.html#396" class="Function">⊥-elim</a> <a id="2442" class="Symbol">(</a><a id="2443" href="Axiom.UIP.html#2430" class="Bound">¬p</a> <a id="2446" class="Bound">p</a><a id="2447" class="Symbol">)</a>

  <a id="Decidable⇒UIP.≡-irrelevant"></a><a id="2452" href="Axiom.UIP.html#2452" class="Function">≡-irrelevant</a> <a id="2465" class="Symbol">:</a> <a id="2467" href="Axiom.UIP.html#707" class="Function">UIP</a> <a id="2471" href="Axiom.UIP.html#2099" class="Bound">A</a>
  <a id="2475" href="Axiom.UIP.html#2452" class="Function">≡-irrelevant</a> <a id="2488" class="Symbol">=</a> <a id="2490" href="Axiom.UIP.html#1463" class="Function">Constant⇒UIP.≡-irrelevant</a> <a id="2516" href="Axiom.UIP.html#2153" class="Function">≡-normalise</a> <a id="2528" href="Axiom.UIP.html#2275" class="Function">≡-normalise-constant</a>
</pre></body></html>