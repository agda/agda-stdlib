<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Container.Indexed.WithK</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Some code related to indexed containers that uses heterogeneous</a>
<a id="173" class="Comment">-- equality</a>
<a id="185" class="Comment">------------------------------------------------------------------------</a>

<a id="259" class="Comment">-- The notation and presentation here is perhaps close to those used</a>
<a id="328" class="Comment">-- by Hancock and Hyvernat in &quot;Programming interfaces and basic</a>
<a id="392" class="Comment">-- topology&quot; (2006).</a>

<a id="414" class="Symbol">{-#</a> <a id="418" class="Keyword">OPTIONS</a> <a id="426" class="Option">--with-K</a> <a id="435" class="Option">--safe</a> <a id="442" class="Symbol">#-}</a>

<a id="447" class="Keyword">module</a> <a id="454" href="Data.Container.Indexed.WithK.html" class="Module">Data.Container.Indexed.WithK</a> <a id="483" class="Keyword">where</a>

<a id="490" class="Keyword">open</a> <a id="495" class="Keyword">import</a> <a id="502" href="Axiom.Extensionality.Heterogeneous.html" class="Module">Axiom.Extensionality.Heterogeneous</a> <a id="537" class="Keyword">using</a> <a id="543" class="Symbol">(</a><a id="544" href="Axiom.Extensionality.Heterogeneous.html#775" class="Function">Extensionality</a><a id="558" class="Symbol">)</a>
<a id="560" class="Keyword">open</a> <a id="565" class="Keyword">import</a> <a id="572" href="Data.Container.Indexed.html" class="Module">Data.Container.Indexed</a> <a id="595" class="Keyword">hiding</a> <a id="602" class="Symbol">(</a><a id="603" class="Keyword">module</a> <a id="610" href="Data.Container.Indexed.html#4232" class="Module">PlainMorphism</a><a id="623" class="Symbol">)</a>
<a id="625" class="Keyword">open</a> <a id="630" class="Keyword">import</a> <a id="637" href="Data.Product.html" class="Module">Data.Product</a> <a id="650" class="Symbol">as</a> <a id="653" class="Module">Prod</a> <a id="658" class="Keyword">hiding</a> <a id="665" class="Symbol">(</a><a id="666" href="Data.Product.html#2190" class="Function">map</a><a id="669" class="Symbol">)</a>
<a id="671" class="Keyword">open</a> <a id="676" class="Keyword">import</a> <a id="683" href="Function.html" class="Module">Function</a> <a id="692" class="Keyword">renaming</a> <a id="701" class="Symbol">(</a><a id="702" href="Function.html#1104" class="Function">id</a> <a id="705" class="Symbol">to</a> <a id="708" href="Function.html#1104" class="Function">⟨id⟩</a><a id="712" class="Symbol">;</a> <a id="714" href="Function.html#805" class="Function Operator">_∘_</a> <a id="718" class="Symbol">to</a> <a id="721" href="Function.html#805" class="Function Operator">_⟨∘⟩_</a><a id="726" class="Symbol">)</a>
<a id="728" class="Keyword">open</a> <a id="733" class="Keyword">import</a> <a id="740" href="Level.html" class="Module">Level</a>
<a id="746" class="Keyword">open</a> <a id="751" class="Keyword">import</a> <a id="758" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="773" class="Keyword">using</a> <a id="779" class="Symbol">(</a><a id="780" href="Relation.Unary.html#618" class="Function">Pred</a><a id="784" class="Symbol">;</a> <a id="786" href="Relation.Unary.html#1511" class="Function Operator">_⊆_</a><a id="789" class="Symbol">)</a>
<a id="791" class="Keyword">open</a> <a id="796" class="Keyword">import</a> <a id="803" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="841" class="Symbol">as</a> <a id="844" class="Module">P</a> <a id="846" class="Keyword">using</a> <a id="852" class="Symbol">(</a><a id="853" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="856" class="Symbol">;</a> <a id="858" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="862" class="Symbol">)</a>
<a id="864" class="Keyword">open</a> <a id="869" class="Keyword">import</a> <a id="876" href="Relation.Binary.HeterogeneousEquality.html" class="Module">Relation.Binary.HeterogeneousEquality</a> <a id="914" class="Symbol">as</a> <a id="917" class="Module">H</a> <a id="919" class="Keyword">using</a> <a id="925" class="Symbol">(</a><a id="926" href="Relation.Binary.HeterogeneousEquality.Core.html#599" class="Datatype Operator">_≅_</a><a id="929" class="Symbol">;</a> <a id="931" href="Relation.Binary.HeterogeneousEquality.Core.html#662" class="InductiveConstructor">refl</a><a id="935" class="Symbol">)</a>
<a id="937" class="Keyword">open</a> <a id="942" class="Keyword">import</a> <a id="949" href="Relation.Binary.Indexed.Heterogeneous.html" class="Module">Relation.Binary.Indexed.Heterogeneous</a>

<a id="988" class="Comment">------------------------------------------------------------------------</a>

<a id="1062" class="Comment">-- Equality, parametrised on an underlying relation.</a>

<a id="Eq"></a><a id="1116" href="Data.Container.Indexed.WithK.html#1116" class="Function">Eq</a> <a id="1119" class="Symbol">:</a> <a id="1121" class="Symbol">∀</a> <a id="1123" class="Symbol">{</a><a id="1124" href="Data.Container.Indexed.WithK.html#1124" class="Bound">i</a> <a id="1126" href="Data.Container.Indexed.WithK.html#1126" class="Bound">o</a> <a id="1128" href="Data.Container.Indexed.WithK.html#1128" class="Bound">c</a> <a id="1130" href="Data.Container.Indexed.WithK.html#1130" class="Bound">r</a> <a id="1132" href="Data.Container.Indexed.WithK.html#1132" class="Bound">ℓ</a><a id="1133" class="Symbol">}</a> <a id="1135" class="Symbol">{</a><a id="1136" href="Data.Container.Indexed.WithK.html#1136" class="Bound">I</a> <a id="1138" class="Symbol">:</a> <a id="1140" class="PrimitiveType">Set</a> <a id="1144" href="Data.Container.Indexed.WithK.html#1124" class="Bound">i</a><a id="1145" class="Symbol">}</a> <a id="1147" class="Symbol">{</a><a id="1148" href="Data.Container.Indexed.WithK.html#1148" class="Bound">O</a> <a id="1150" class="Symbol">:</a> <a id="1152" class="PrimitiveType">Set</a> <a id="1156" href="Data.Container.Indexed.WithK.html#1126" class="Bound">o</a><a id="1157" class="Symbol">}</a> <a id="1159" class="Symbol">(</a><a id="1160" href="Data.Container.Indexed.WithK.html#1160" class="Bound">C</a> <a id="1162" class="Symbol">:</a> <a id="1164" href="Data.Container.Indexed.Core.html#378" class="Record">Container</a> <a id="1174" href="Data.Container.Indexed.WithK.html#1136" class="Bound">I</a> <a id="1176" href="Data.Container.Indexed.WithK.html#1148" class="Bound">O</a> <a id="1178" href="Data.Container.Indexed.WithK.html#1128" class="Bound">c</a> <a id="1180" href="Data.Container.Indexed.WithK.html#1130" class="Bound">r</a><a id="1181" class="Symbol">)</a>
     <a id="1188" class="Symbol">(</a><a id="1189" href="Data.Container.Indexed.WithK.html#1189" class="Bound">X</a> <a id="1191" href="Data.Container.Indexed.WithK.html#1191" class="Bound">Y</a> <a id="1193" class="Symbol">:</a> <a id="1195" href="Relation.Unary.html#618" class="Function">Pred</a> <a id="1200" href="Data.Container.Indexed.WithK.html#1136" class="Bound">I</a> <a id="1202" href="Data.Container.Indexed.WithK.html#1132" class="Bound">ℓ</a><a id="1203" class="Symbol">)</a> <a id="1205" class="Symbol">→</a> <a id="1207" href="Relation.Binary.Indexed.Heterogeneous.Core.html#646" class="Function">IREL</a> <a id="1212" href="Data.Container.Indexed.WithK.html#1189" class="Bound">X</a> <a id="1214" href="Data.Container.Indexed.WithK.html#1191" class="Bound">Y</a> <a id="1216" href="Data.Container.Indexed.WithK.html#1132" class="Bound">ℓ</a> <a id="1218" class="Symbol">→</a> <a id="1220" href="Relation.Binary.Indexed.Heterogeneous.Core.html#646" class="Function">IREL</a> <a id="1225" class="Symbol">(</a><a id="1226" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟦</a> <a id="1228" href="Data.Container.Indexed.WithK.html#1160" class="Bound">C</a> <a id="1230" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟧</a> <a id="1232" href="Data.Container.Indexed.WithK.html#1189" class="Bound">X</a><a id="1233" class="Symbol">)</a> <a id="1235" class="Symbol">(</a><a id="1236" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟦</a> <a id="1238" href="Data.Container.Indexed.WithK.html#1160" class="Bound">C</a> <a id="1240" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟧</a> <a id="1242" href="Data.Container.Indexed.WithK.html#1191" class="Bound">Y</a><a id="1243" class="Symbol">)</a> <a id="1245" class="Symbol">_</a>
<a id="1247" href="Data.Container.Indexed.WithK.html#1116" class="Function">Eq</a> <a id="1250" href="Data.Container.Indexed.WithK.html#1250" class="Bound">C</a> <a id="1252" class="Symbol">_</a> <a id="1254" class="Symbol">_</a> <a id="1256" href="Data.Container.Indexed.WithK.html#1256" class="Bound Operator">_≈_</a> <a id="1260" class="Symbol">{</a><a id="1261" href="Data.Container.Indexed.WithK.html#1261" class="Bound">o₁</a><a id="1263" class="Symbol">}</a> <a id="1265" class="Symbol">{</a><a id="1266" href="Data.Container.Indexed.WithK.html#1266" class="Bound">o₂</a><a id="1268" class="Symbol">}</a> <a id="1270" class="Symbol">(</a><a id="1271" href="Data.Container.Indexed.WithK.html#1271" class="Bound">c</a> <a id="1273" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1275" href="Data.Container.Indexed.WithK.html#1275" class="Bound">k</a><a id="1276" class="Symbol">)</a> <a id="1278" class="Symbol">(</a><a id="1279" href="Data.Container.Indexed.WithK.html#1279" class="Bound">c′</a> <a id="1282" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1284" href="Data.Container.Indexed.WithK.html#1284" class="Bound">k′</a><a id="1286" class="Symbol">)</a> <a id="1288" class="Symbol">=</a>
  <a id="1292" href="Data.Container.Indexed.WithK.html#1261" class="Bound">o₁</a> <a id="1295" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1297" href="Data.Container.Indexed.WithK.html#1266" class="Bound">o₂</a> <a id="1300" href="Data.Product.html#1389" class="Function Operator">×</a> <a id="1302" href="Data.Container.Indexed.WithK.html#1271" class="Bound">c</a> <a id="1304" href="Relation.Binary.HeterogeneousEquality.Core.html#599" class="Datatype Operator">≅</a> <a id="1306" href="Data.Container.Indexed.WithK.html#1279" class="Bound">c′</a> <a id="1309" href="Data.Product.html#1389" class="Function Operator">×</a> <a id="1311" class="Symbol">(∀</a> <a id="1314" href="Data.Container.Indexed.WithK.html#1314" class="Bound">r</a> <a id="1316" href="Data.Container.Indexed.WithK.html#1316" class="Bound">r′</a> <a id="1319" class="Symbol">→</a> <a id="1321" href="Data.Container.Indexed.WithK.html#1314" class="Bound">r</a> <a id="1323" href="Relation.Binary.HeterogeneousEquality.Core.html#599" class="Datatype Operator">≅</a> <a id="1325" href="Data.Container.Indexed.WithK.html#1316" class="Bound">r′</a> <a id="1328" class="Symbol">→</a> <a id="1330" href="Data.Container.Indexed.WithK.html#1275" class="Bound">k</a> <a id="1332" href="Data.Container.Indexed.WithK.html#1314" class="Bound">r</a> <a id="1334" href="Data.Container.Indexed.WithK.html#1256" class="Bound Operator">≈</a> <a id="1336" href="Data.Container.Indexed.WithK.html#1284" class="Bound">k′</a> <a id="1339" href="Data.Container.Indexed.WithK.html#1316" class="Bound">r′</a><a id="1341" class="Symbol">)</a>

<a id="1344" class="Keyword">private</a>

  <a id="1355" class="Comment">-- Note that, if propositional equality were extensional, then Eq _≅_</a>
  <a id="1427" class="Comment">-- and _≅_ would coincide.</a>

  <a id="Eq⇒≅"></a><a id="1457" href="Data.Container.Indexed.WithK.html#1457" class="Function">Eq⇒≅</a> <a id="1462" class="Symbol">:</a> <a id="1464" class="Symbol">∀</a> <a id="1466" class="Symbol">{</a><a id="1467" href="Data.Container.Indexed.WithK.html#1467" class="Bound">i</a> <a id="1469" href="Data.Container.Indexed.WithK.html#1469" class="Bound">o</a> <a id="1471" href="Data.Container.Indexed.WithK.html#1471" class="Bound">c</a> <a id="1473" href="Data.Container.Indexed.WithK.html#1473" class="Bound">r</a> <a id="1475" href="Data.Container.Indexed.WithK.html#1475" class="Bound">ℓ</a><a id="1476" class="Symbol">}</a> <a id="1478" class="Symbol">{</a><a id="1479" href="Data.Container.Indexed.WithK.html#1479" class="Bound">I</a> <a id="1481" class="Symbol">:</a> <a id="1483" class="PrimitiveType">Set</a> <a id="1487" href="Data.Container.Indexed.WithK.html#1467" class="Bound">i</a><a id="1488" class="Symbol">}</a> <a id="1490" class="Symbol">{</a><a id="1491" href="Data.Container.Indexed.WithK.html#1491" class="Bound">O</a> <a id="1493" class="Symbol">:</a> <a id="1495" class="PrimitiveType">Set</a> <a id="1499" href="Data.Container.Indexed.WithK.html#1469" class="Bound">o</a><a id="1500" class="Symbol">}</a>
         <a id="1511" class="Symbol">{</a><a id="1512" href="Data.Container.Indexed.WithK.html#1512" class="Bound">C</a> <a id="1514" class="Symbol">:</a> <a id="1516" href="Data.Container.Indexed.Core.html#378" class="Record">Container</a> <a id="1526" href="Data.Container.Indexed.WithK.html#1479" class="Bound">I</a> <a id="1528" href="Data.Container.Indexed.WithK.html#1491" class="Bound">O</a> <a id="1530" href="Data.Container.Indexed.WithK.html#1471" class="Bound">c</a> <a id="1532" href="Data.Container.Indexed.WithK.html#1473" class="Bound">r</a><a id="1533" class="Symbol">}</a> <a id="1535" class="Symbol">{</a><a id="1536" href="Data.Container.Indexed.WithK.html#1536" class="Bound">X</a> <a id="1538" class="Symbol">:</a> <a id="1540" href="Relation.Unary.html#618" class="Function">Pred</a> <a id="1545" href="Data.Container.Indexed.WithK.html#1479" class="Bound">I</a> <a id="1547" href="Data.Container.Indexed.WithK.html#1475" class="Bound">ℓ</a><a id="1548" class="Symbol">}</a> <a id="1550" class="Symbol">{</a><a id="1551" href="Data.Container.Indexed.WithK.html#1551" class="Bound">o₁</a> <a id="1554" href="Data.Container.Indexed.WithK.html#1554" class="Bound">o₂</a> <a id="1557" class="Symbol">:</a> <a id="1559" href="Data.Container.Indexed.WithK.html#1491" class="Bound">O</a><a id="1560" class="Symbol">}</a>
         <a id="1571" class="Symbol">{</a><a id="1572" href="Data.Container.Indexed.WithK.html#1572" class="Bound">xs</a> <a id="1575" class="Symbol">:</a> <a id="1577" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟦</a> <a id="1579" href="Data.Container.Indexed.WithK.html#1512" class="Bound">C</a> <a id="1581" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟧</a> <a id="1583" href="Data.Container.Indexed.WithK.html#1536" class="Bound">X</a> <a id="1585" href="Data.Container.Indexed.WithK.html#1551" class="Bound">o₁</a><a id="1587" class="Symbol">}</a> <a id="1589" class="Symbol">{</a><a id="1590" href="Data.Container.Indexed.WithK.html#1590" class="Bound">ys</a> <a id="1593" class="Symbol">:</a> <a id="1595" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟦</a> <a id="1597" href="Data.Container.Indexed.WithK.html#1512" class="Bound">C</a> <a id="1599" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟧</a> <a id="1601" href="Data.Container.Indexed.WithK.html#1536" class="Bound">X</a> <a id="1603" href="Data.Container.Indexed.WithK.html#1554" class="Bound">o₂</a><a id="1605" class="Symbol">}</a> <a id="1607" class="Symbol">→</a> <a id="1609" href="Axiom.Extensionality.Heterogeneous.html#775" class="Function">Extensionality</a> <a id="1624" href="Data.Container.Indexed.WithK.html#1473" class="Bound">r</a> <a id="1626" href="Data.Container.Indexed.WithK.html#1475" class="Bound">ℓ</a> <a id="1628" class="Symbol">→</a>
         <a id="1639" href="Data.Container.Indexed.WithK.html#1116" class="Function">Eq</a> <a id="1642" href="Data.Container.Indexed.WithK.html#1512" class="Bound">C</a> <a id="1644" href="Data.Container.Indexed.WithK.html#1536" class="Bound">X</a> <a id="1646" href="Data.Container.Indexed.WithK.html#1536" class="Bound">X</a> <a id="1648" class="Symbol">(λ</a> <a id="1651" href="Data.Container.Indexed.WithK.html#1651" class="Bound">x₁</a> <a id="1654" href="Data.Container.Indexed.WithK.html#1654" class="Bound">x₂</a> <a id="1657" class="Symbol">→</a> <a id="1659" href="Data.Container.Indexed.WithK.html#1651" class="Bound">x₁</a> <a id="1662" href="Relation.Binary.HeterogeneousEquality.Core.html#599" class="Datatype Operator">≅</a> <a id="1664" href="Data.Container.Indexed.WithK.html#1654" class="Bound">x₂</a><a id="1666" class="Symbol">)</a> <a id="1668" href="Data.Container.Indexed.WithK.html#1572" class="Bound">xs</a> <a id="1671" href="Data.Container.Indexed.WithK.html#1590" class="Bound">ys</a> <a id="1674" class="Symbol">→</a> <a id="1676" href="Data.Container.Indexed.WithK.html#1572" class="Bound">xs</a> <a id="1679" href="Relation.Binary.HeterogeneousEquality.Core.html#599" class="Datatype Operator">≅</a> <a id="1681" href="Data.Container.Indexed.WithK.html#1590" class="Bound">ys</a>
  <a id="1686" href="Data.Container.Indexed.WithK.html#1457" class="Function">Eq⇒≅</a> <a id="1691" class="Symbol">{</a><a id="1692" class="Argument">xs</a> <a id="1695" class="Symbol">=</a> <a id="1697" href="Data.Container.Indexed.WithK.html#1697" class="Bound">c</a> <a id="1699" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1701" href="Data.Container.Indexed.WithK.html#1701" class="Bound">k</a><a id="1702" class="Symbol">}</a> <a id="1704" class="Symbol">{</a><a id="1705" class="DottedPattern Symbol">.</a><a id="1706" href="Data.Container.Indexed.WithK.html#1697" class="DottedPattern Bound">c</a> <a id="1708" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1710" href="Data.Container.Indexed.WithK.html#1710" class="Bound">k′</a><a id="1712" class="Symbol">}</a> <a id="1714" href="Data.Container.Indexed.WithK.html#1714" class="Bound">ext</a> <a id="1718" class="Symbol">(</a><a id="1719" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="1724" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1726" href="Relation.Binary.HeterogeneousEquality.Core.html#662" class="InductiveConstructor">refl</a> <a id="1731" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1733" href="Data.Container.Indexed.WithK.html#1733" class="Bound">k≈k′</a><a id="1737" class="Symbol">)</a> <a id="1739" class="Symbol">=</a>
    <a id="1745" href="Relation.Binary.HeterogeneousEquality.html#2429" class="Function">H.cong</a> <a id="1752" class="Symbol">(</a><a id="1753" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">_,_</a> <a id="1757" href="Data.Container.Indexed.WithK.html#1697" class="Bound">c</a><a id="1758" class="Symbol">)</a> <a id="1760" class="Symbol">(</a><a id="1761" href="Data.Container.Indexed.WithK.html#1714" class="Bound">ext</a> <a id="1765" class="Symbol">(λ</a> <a id="1768" href="Data.Container.Indexed.WithK.html#1768" class="Bound">_</a> <a id="1770" class="Symbol">→</a> <a id="1772" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="1776" class="Symbol">)</a> <a id="1778" class="Symbol">(λ</a> <a id="1781" href="Data.Container.Indexed.WithK.html#1781" class="Bound">r</a> <a id="1783" class="Symbol">→</a> <a id="1785" href="Data.Container.Indexed.WithK.html#1733" class="Bound">k≈k′</a> <a id="1790" href="Data.Container.Indexed.WithK.html#1781" class="Bound">r</a> <a id="1792" href="Data.Container.Indexed.WithK.html#1781" class="Bound">r</a> <a id="1794" href="Relation.Binary.HeterogeneousEquality.Core.html#662" class="InductiveConstructor">refl</a><a id="1798" class="Symbol">))</a>

<a id="setoid"></a><a id="1802" href="Data.Container.Indexed.WithK.html#1802" class="Function">setoid</a> <a id="1809" class="Symbol">:</a> <a id="1811" class="Symbol">∀</a> <a id="1813" class="Symbol">{</a><a id="1814" href="Data.Container.Indexed.WithK.html#1814" class="Bound">i</a> <a id="1816" href="Data.Container.Indexed.WithK.html#1816" class="Bound">o</a> <a id="1818" href="Data.Container.Indexed.WithK.html#1818" class="Bound">c</a> <a id="1820" href="Data.Container.Indexed.WithK.html#1820" class="Bound">r</a> <a id="1822" href="Data.Container.Indexed.WithK.html#1822" class="Bound">s</a><a id="1823" class="Symbol">}</a> <a id="1825" class="Symbol">{</a><a id="1826" href="Data.Container.Indexed.WithK.html#1826" class="Bound">I</a> <a id="1828" class="Symbol">:</a> <a id="1830" class="PrimitiveType">Set</a> <a id="1834" href="Data.Container.Indexed.WithK.html#1814" class="Bound">i</a><a id="1835" class="Symbol">}</a> <a id="1837" class="Symbol">{</a><a id="1838" href="Data.Container.Indexed.WithK.html#1838" class="Bound">O</a> <a id="1840" class="Symbol">:</a> <a id="1842" class="PrimitiveType">Set</a> <a id="1846" href="Data.Container.Indexed.WithK.html#1816" class="Bound">o</a><a id="1847" class="Symbol">}</a> <a id="1849" class="Symbol">→</a>
         <a id="1860" href="Data.Container.Indexed.Core.html#378" class="Record">Container</a> <a id="1870" href="Data.Container.Indexed.WithK.html#1826" class="Bound">I</a> <a id="1872" href="Data.Container.Indexed.WithK.html#1838" class="Bound">O</a> <a id="1874" href="Data.Container.Indexed.WithK.html#1818" class="Bound">c</a> <a id="1876" href="Data.Container.Indexed.WithK.html#1820" class="Bound">r</a> <a id="1878" class="Symbol">→</a> <a id="1880" href="Relation.Binary.Indexed.Heterogeneous.html#1035" class="Record">IndexedSetoid</a> <a id="1894" href="Data.Container.Indexed.WithK.html#1826" class="Bound">I</a> <a id="1896" href="Data.Container.Indexed.WithK.html#1822" class="Bound">s</a> <a id="1898" class="Symbol">_</a> <a id="1900" class="Symbol">→</a> <a id="1902" href="Relation.Binary.Indexed.Heterogeneous.html#1035" class="Record">IndexedSetoid</a> <a id="1916" href="Data.Container.Indexed.WithK.html#1838" class="Bound">O</a> <a id="1918" class="Symbol">_</a> <a id="1920" class="Symbol">_</a>
<a id="1922" href="Data.Container.Indexed.WithK.html#1802" class="Function">setoid</a> <a id="1929" href="Data.Container.Indexed.WithK.html#1929" class="Bound">C</a> <a id="1931" href="Data.Container.Indexed.WithK.html#1931" class="Bound">X</a> <a id="1933" class="Symbol">=</a> <a id="1935" class="Keyword">record</a>
  <a id="1944" class="Symbol">{</a> <a id="1946" class="Field">Carrier</a>       <a id="1960" class="Symbol">=</a> <a id="1962" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟦</a> <a id="1964" href="Data.Container.Indexed.WithK.html#1929" class="Bound">C</a> <a id="1966" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟧</a> <a id="1968" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">X.Carrier</a>
  <a id="1980" class="Symbol">;</a> <a id="1982" class="Field Operator">_≈_</a>           <a id="1996" class="Symbol">=</a> <a id="1998" href="Data.Container.Indexed.WithK.html#2225" class="Function Operator">_≈_</a>
  <a id="2004" class="Symbol">;</a> <a id="2006" class="Field">isEquivalence</a> <a id="2020" class="Symbol">=</a> <a id="2022" class="Keyword">record</a>
    <a id="2033" class="Symbol">{</a> <a id="2035" class="Field">refl</a>  <a id="2041" class="Symbol">=</a> <a id="2043" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="2048" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2050" href="Relation.Binary.HeterogeneousEquality.Core.html#662" class="InductiveConstructor">refl</a> <a id="2055" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2057" class="Symbol">λ</a> <a id="2059" class="Symbol">{</a> <a id="2061" href="Data.Container.Indexed.WithK.html#2061" class="Bound">r</a> <a id="2063" class="DottedPattern Symbol">.</a><a id="2064" href="Data.Container.Indexed.WithK.html#2061" class="DottedPattern Bound">r</a> <a id="2066" href="Relation.Binary.HeterogeneousEquality.Core.html#662" class="InductiveConstructor">refl</a> <a id="2071" class="Symbol">→</a> <a id="2073" href="Relation.Binary.Indexed.Heterogeneous.html#875" class="Function">X.refl</a> <a id="2080" class="Symbol">}</a>
    <a id="2086" class="Symbol">;</a> <a id="2088" class="Field">sym</a>   <a id="2094" class="Symbol">=</a> <a id="2096" href="Data.Container.Indexed.WithK.html#2298" class="Function">sym</a>
    <a id="2104" class="Symbol">;</a> <a id="2106" class="Field">trans</a> <a id="2112" class="Symbol">=</a> <a id="2114" class="Symbol">λ</a> <a id="2116" class="Symbol">{</a> <a id="2118" class="Symbol">{_}</a> <a id="2122" class="Symbol">{</a><a id="2123" class="Argument">i</a> <a id="2125" class="Symbol">=</a> <a id="2127" href="Data.Container.Indexed.WithK.html#2127" class="Bound">xs</a><a id="2129" class="Symbol">}</a> <a id="2131" class="Symbol">{</a><a id="2132" href="Data.Container.Indexed.WithK.html#2132" class="Bound">ys</a><a id="2134" class="Symbol">}</a> <a id="2136" class="Symbol">{</a><a id="2137" href="Data.Container.Indexed.WithK.html#2137" class="Bound">zs</a><a id="2139" class="Symbol">}</a> <a id="2141" class="Symbol">→</a> <a id="2143" href="Data.Container.Indexed.WithK.html#2446" class="Function">trans</a> <a id="2149" class="Symbol">{_}</a> <a id="2153" class="Symbol">{</a><a id="2154" class="Argument">i</a> <a id="2156" class="Symbol">=</a> <a id="2158" href="Data.Container.Indexed.WithK.html#2127" class="Bound">xs</a><a id="2160" class="Symbol">}</a> <a id="2162" class="Symbol">{</a><a id="2163" href="Data.Container.Indexed.WithK.html#2132" class="Bound">ys</a><a id="2165" class="Symbol">}</a> <a id="2167" class="Symbol">{</a><a id="2168" href="Data.Container.Indexed.WithK.html#2137" class="Bound">zs</a><a id="2170" class="Symbol">}</a>  <a id="2173" class="Symbol">}</a>
    <a id="2179" class="Symbol">}</a>
  <a id="2183" class="Symbol">}</a>
  <a id="2187" class="Keyword">where</a>
  <a id="2195" class="Keyword">module</a> <a id="X"></a><a id="2202" href="Data.Container.Indexed.WithK.html#2202" class="Module">X</a> <a id="2204" class="Symbol">=</a> <a id="2206" href="Relation.Binary.Indexed.Heterogeneous.html#1035" class="Module">IndexedSetoid</a> <a id="2220" href="Data.Container.Indexed.WithK.html#1931" class="Bound">X</a>

  <a id="2225" href="Data.Container.Indexed.WithK.html#2225" class="Function Operator">_≈_</a> <a id="2229" class="Symbol">:</a> <a id="2231" href="Relation.Binary.Indexed.Heterogeneous.Core.html#829" class="Function">IRel</a> <a id="2236" class="Symbol">(</a><a id="2237" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟦</a> <a id="2239" href="Data.Container.Indexed.WithK.html#1929" class="Bound">C</a> <a id="2241" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟧</a> <a id="2243" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">X.Carrier</a><a id="2252" class="Symbol">)</a> <a id="2254" class="Symbol">_</a>
  <a id="2258" href="Data.Container.Indexed.WithK.html#2225" class="Function Operator">_≈_</a> <a id="2262" class="Symbol">=</a> <a id="2264" href="Data.Container.Indexed.WithK.html#1116" class="Function">Eq</a> <a id="2267" href="Data.Container.Indexed.WithK.html#1929" class="Bound">C</a> <a id="2269" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">X.Carrier</a> <a id="2279" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">X.Carrier</a> <a id="2289" href="Relation.Binary.Indexed.Heterogeneous.html#1155" class="Field Operator">X._≈_</a>

  <a id="2298" href="Data.Container.Indexed.WithK.html#2298" class="Function">sym</a> <a id="2302" class="Symbol">:</a> <a id="2304" href="Relation.Binary.Indexed.Heterogeneous.Core.html#1156" class="Function">Symmetric</a> <a id="2314" class="Symbol">(</a><a id="2315" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟦</a> <a id="2317" href="Data.Container.Indexed.WithK.html#1929" class="Bound">C</a> <a id="2319" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟧</a> <a id="2321" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">X.Carrier</a><a id="2330" class="Symbol">)</a> <a id="2332" href="Data.Container.Indexed.WithK.html#2225" class="Function Operator">_≈_</a>
  <a id="2338" href="Data.Container.Indexed.WithK.html#2298" class="Function">sym</a> <a id="2342" class="Symbol">{_}</a> <a id="2346" class="Symbol">{</a><a id="2347" class="DottedPattern Symbol">._</a><a id="2349" class="Symbol">}</a> <a id="2351" class="Symbol">{_</a> <a id="2354" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2356" class="Symbol">_}</a> <a id="2359" class="Symbol">{</a><a id="2360" class="DottedPattern Symbol">._</a> <a id="2363" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2365" class="Symbol">_}</a> <a id="2368" class="Symbol">(</a><a id="2369" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="2374" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2376" href="Relation.Binary.HeterogeneousEquality.Core.html#662" class="InductiveConstructor">refl</a> <a id="2381" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2383" href="Data.Container.Indexed.WithK.html#2383" class="Bound">k</a><a id="2384" class="Symbol">)</a> <a id="2386" class="Symbol">=</a>
    <a id="2392" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="2397" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2399" href="Relation.Binary.HeterogeneousEquality.Core.html#662" class="InductiveConstructor">refl</a> <a id="2404" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2406" class="Symbol">λ</a> <a id="2408" class="Symbol">{</a> <a id="2410" href="Data.Container.Indexed.WithK.html#2410" class="Bound">r</a> <a id="2412" class="DottedPattern Symbol">.</a><a id="2413" href="Data.Container.Indexed.WithK.html#2410" class="DottedPattern Bound">r</a> <a id="2415" href="Relation.Binary.HeterogeneousEquality.Core.html#662" class="InductiveConstructor">refl</a> <a id="2420" class="Symbol">→</a> <a id="2422" href="Relation.Binary.Indexed.Heterogeneous.html#904" class="Function">X.sym</a> <a id="2428" class="Symbol">(</a><a id="2429" href="Data.Container.Indexed.WithK.html#2383" class="Bound">k</a> <a id="2431" href="Data.Container.Indexed.WithK.html#2410" class="Bound">r</a> <a id="2433" href="Data.Container.Indexed.WithK.html#2410" class="Bound">r</a> <a id="2435" href="Relation.Binary.HeterogeneousEquality.Core.html#662" class="InductiveConstructor">refl</a><a id="2439" class="Symbol">)</a> <a id="2441" class="Symbol">}</a>

  <a id="2446" href="Data.Container.Indexed.WithK.html#2446" class="Function">trans</a> <a id="2452" class="Symbol">:</a> <a id="2454" href="Relation.Binary.Indexed.Heterogeneous.Core.html#1278" class="Function">Transitive</a> <a id="2465" class="Symbol">(</a><a id="2466" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟦</a> <a id="2468" href="Data.Container.Indexed.WithK.html#1929" class="Bound">C</a> <a id="2470" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟧</a> <a id="2472" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">X.Carrier</a><a id="2481" class="Symbol">)</a> <a id="2483" href="Data.Container.Indexed.WithK.html#2225" class="Function Operator">_≈_</a>
  <a id="2489" href="Data.Container.Indexed.WithK.html#2446" class="Function">trans</a> <a id="2495" class="Symbol">{</a><a id="2496" class="DottedPattern Symbol">._</a><a id="2498" class="Symbol">}</a> <a id="2500" class="Symbol">{_}</a> <a id="2504" class="Symbol">{</a><a id="2505" class="DottedPattern Symbol">._</a><a id="2507" class="Symbol">}</a> <a id="2509" class="Symbol">{_</a> <a id="2512" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2514" class="Symbol">_}</a> <a id="2517" class="Symbol">{</a><a id="2518" class="DottedPattern Symbol">._</a> <a id="2521" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2523" class="Symbol">_}</a> <a id="2526" class="Symbol">{</a><a id="2527" class="DottedPattern Symbol">._</a> <a id="2530" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2532" class="Symbol">_}</a>
    <a id="2539" class="Symbol">(</a><a id="2540" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="2545" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2547" href="Relation.Binary.HeterogeneousEquality.Core.html#662" class="InductiveConstructor">refl</a> <a id="2552" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2554" href="Data.Container.Indexed.WithK.html#2554" class="Bound">k</a><a id="2555" class="Symbol">)</a> <a id="2557" class="Symbol">(</a><a id="2558" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="2563" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2565" href="Relation.Binary.HeterogeneousEquality.Core.html#662" class="InductiveConstructor">refl</a> <a id="2570" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2572" href="Data.Container.Indexed.WithK.html#2572" class="Bound">k′</a><a id="2574" class="Symbol">)</a> <a id="2576" class="Symbol">=</a>
      <a id="2584" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="2589" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2591" href="Relation.Binary.HeterogeneousEquality.Core.html#662" class="InductiveConstructor">refl</a> <a id="2596" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2598" class="Symbol">λ</a> <a id="2600" class="Symbol">{</a> <a id="2602" href="Data.Container.Indexed.WithK.html#2602" class="Bound">r</a> <a id="2604" class="DottedPattern Symbol">.</a><a id="2605" href="Data.Container.Indexed.WithK.html#2602" class="DottedPattern Bound">r</a> <a id="2607" href="Relation.Binary.HeterogeneousEquality.Core.html#662" class="InductiveConstructor">refl</a> <a id="2612" class="Symbol">→</a> <a id="2614" href="Relation.Binary.Indexed.Heterogeneous.html#933" class="Function">X.trans</a> <a id="2622" class="Symbol">(</a><a id="2623" href="Data.Container.Indexed.WithK.html#2554" class="Bound">k</a> <a id="2625" href="Data.Container.Indexed.WithK.html#2602" class="Bound">r</a> <a id="2627" href="Data.Container.Indexed.WithK.html#2602" class="Bound">r</a> <a id="2629" href="Relation.Binary.HeterogeneousEquality.Core.html#662" class="InductiveConstructor">refl</a><a id="2633" class="Symbol">)</a> <a id="2635" class="Symbol">(</a><a id="2636" href="Data.Container.Indexed.WithK.html#2572" class="Bound">k′</a> <a id="2639" href="Data.Container.Indexed.WithK.html#2602" class="Bound">r</a> <a id="2641" href="Data.Container.Indexed.WithK.html#2602" class="Bound">r</a> <a id="2643" href="Relation.Binary.HeterogeneousEquality.Core.html#662" class="InductiveConstructor">refl</a><a id="2647" class="Symbol">)</a> <a id="2649" class="Symbol">}</a>

<a id="2652" class="Comment">------------------------------------------------------------------------</a>
<a id="2725" class="Comment">-- Functoriality</a>

<a id="2743" class="Keyword">module</a> <a id="Map"></a><a id="2750" href="Data.Container.Indexed.WithK.html#2750" class="Module">Map</a> <a id="2754" class="Keyword">where</a>

  <a id="Map.identity"></a><a id="2763" href="Data.Container.Indexed.WithK.html#2763" class="Function">identity</a> <a id="2772" class="Symbol">:</a> <a id="2774" class="Symbol">∀</a> <a id="2776" class="Symbol">{</a><a id="2777" href="Data.Container.Indexed.WithK.html#2777" class="Bound">i</a> <a id="2779" href="Data.Container.Indexed.WithK.html#2779" class="Bound">o</a> <a id="2781" href="Data.Container.Indexed.WithK.html#2781" class="Bound">c</a> <a id="2783" href="Data.Container.Indexed.WithK.html#2783" class="Bound">r</a> <a id="2785" href="Data.Container.Indexed.WithK.html#2785" class="Bound">s</a><a id="2786" class="Symbol">}</a> <a id="2788" class="Symbol">{</a><a id="2789" href="Data.Container.Indexed.WithK.html#2789" class="Bound">I</a> <a id="2791" class="Symbol">:</a> <a id="2793" class="PrimitiveType">Set</a> <a id="2797" href="Data.Container.Indexed.WithK.html#2777" class="Bound">i</a><a id="2798" class="Symbol">}</a> <a id="2800" class="Symbol">{</a><a id="2801" href="Data.Container.Indexed.WithK.html#2801" class="Bound">O</a> <a id="2803" class="Symbol">:</a> <a id="2805" class="PrimitiveType">Set</a> <a id="2809" href="Data.Container.Indexed.WithK.html#2779" class="Bound">o</a><a id="2810" class="Symbol">}</a> <a id="2812" class="Symbol">(</a><a id="2813" href="Data.Container.Indexed.WithK.html#2813" class="Bound">C</a> <a id="2815" class="Symbol">:</a> <a id="2817" href="Data.Container.Indexed.Core.html#378" class="Record">Container</a> <a id="2827" href="Data.Container.Indexed.WithK.html#2789" class="Bound">I</a> <a id="2829" href="Data.Container.Indexed.WithK.html#2801" class="Bound">O</a> <a id="2831" href="Data.Container.Indexed.WithK.html#2781" class="Bound">c</a> <a id="2833" href="Data.Container.Indexed.WithK.html#2783" class="Bound">r</a><a id="2834" class="Symbol">)</a>
             <a id="2849" class="Symbol">(</a><a id="2850" href="Data.Container.Indexed.WithK.html#2850" class="Bound">X</a> <a id="2852" class="Symbol">:</a> <a id="2854" href="Relation.Binary.Indexed.Heterogeneous.html#1035" class="Record">IndexedSetoid</a> <a id="2868" href="Data.Container.Indexed.WithK.html#2789" class="Bound">I</a> <a id="2870" href="Data.Container.Indexed.WithK.html#2785" class="Bound">s</a> <a id="2872" class="Symbol">_)</a> <a id="2875" class="Symbol">→</a> <a id="2877" class="Keyword">let</a> <a id="2881" class="Keyword">module</a> <a id="X"></a><a id="2888" href="Data.Container.Indexed.WithK.html#2888" class="Module">X</a> <a id="2890" class="Symbol">=</a> <a id="2892" href="Relation.Binary.Indexed.Heterogeneous.html#1035" class="Module">IndexedSetoid</a> <a id="2906" href="Data.Container.Indexed.WithK.html#2850" class="Bound">X</a> <a id="2908" class="Keyword">in</a>
             <a id="2924" class="Symbol">∀</a> <a id="2926" class="Symbol">{</a><a id="2927" href="Data.Container.Indexed.WithK.html#2927" class="Bound">o</a><a id="2928" class="Symbol">}</a> <a id="2930" class="Symbol">{</a><a id="2931" href="Data.Container.Indexed.WithK.html#2931" class="Bound">xs</a> <a id="2934" class="Symbol">:</a> <a id="2936" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟦</a> <a id="2938" href="Data.Container.Indexed.WithK.html#2813" class="Bound">C</a> <a id="2940" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟧</a> <a id="2942" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">X.Carrier</a> <a id="2952" href="Data.Container.Indexed.WithK.html#2927" class="Bound">o</a><a id="2953" class="Symbol">}</a> <a id="2955" class="Symbol">→</a> <a id="2957" href="Data.Container.Indexed.WithK.html#1116" class="Function">Eq</a> <a id="2960" href="Data.Container.Indexed.WithK.html#2813" class="Bound">C</a> <a id="2962" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">X.Carrier</a> <a id="2972" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">X.Carrier</a>
             <a id="2995" href="Relation.Binary.Indexed.Heterogeneous.html#1155" class="Field Operator">X._≈_</a> <a id="3001" href="Data.Container.Indexed.WithK.html#2931" class="Bound">xs</a> <a id="3004" class="Symbol">(</a><a id="3005" href="Data.Container.Indexed.html#1547" class="Function">map</a> <a id="3009" href="Data.Container.Indexed.WithK.html#2813" class="Bound">C</a> <a id="3011" class="Symbol">{</a><a id="3012" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">X.Carrier</a><a id="3021" class="Symbol">}</a> <a id="3023" href="Function.html#1104" class="Function">⟨id⟩</a> <a id="3028" href="Data.Container.Indexed.WithK.html#2931" class="Bound">xs</a><a id="3030" class="Symbol">)</a>
  <a id="3034" href="Data.Container.Indexed.WithK.html#2763" class="Function">identity</a> <a id="3043" href="Data.Container.Indexed.WithK.html#3043" class="Bound">C</a> <a id="3045" href="Data.Container.Indexed.WithK.html#3045" class="Bound">X</a> <a id="3047" class="Symbol">=</a> <a id="3049" href="Relation.Binary.Indexed.Heterogeneous.html#875" class="Function">IndexedSetoid.refl</a> <a id="3068" class="Symbol">(</a><a id="3069" href="Data.Container.Indexed.WithK.html#1802" class="Function">setoid</a> <a id="3076" href="Data.Container.Indexed.WithK.html#3043" class="Bound">C</a> <a id="3078" href="Data.Container.Indexed.WithK.html#3045" class="Bound">X</a><a id="3079" class="Symbol">)</a>

  <a id="Map.composition"></a><a id="3084" href="Data.Container.Indexed.WithK.html#3084" class="Function">composition</a> <a id="3096" class="Symbol">:</a> <a id="3098" class="Symbol">∀</a> <a id="3100" class="Symbol">{</a><a id="3101" href="Data.Container.Indexed.WithK.html#3101" class="Bound">i</a> <a id="3103" href="Data.Container.Indexed.WithK.html#3103" class="Bound">o</a> <a id="3105" href="Data.Container.Indexed.WithK.html#3105" class="Bound">c</a> <a id="3107" href="Data.Container.Indexed.WithK.html#3107" class="Bound">r</a> <a id="3109" href="Data.Container.Indexed.WithK.html#3109" class="Bound">s</a> <a id="3111" href="Data.Container.Indexed.WithK.html#3111" class="Bound">ℓ₁</a> <a id="3114" href="Data.Container.Indexed.WithK.html#3114" class="Bound">ℓ₂</a><a id="3116" class="Symbol">}</a> <a id="3118" class="Symbol">{</a><a id="3119" href="Data.Container.Indexed.WithK.html#3119" class="Bound">I</a> <a id="3121" class="Symbol">:</a> <a id="3123" class="PrimitiveType">Set</a> <a id="3127" href="Data.Container.Indexed.WithK.html#3101" class="Bound">i</a><a id="3128" class="Symbol">}</a> <a id="3130" class="Symbol">{</a><a id="3131" href="Data.Container.Indexed.WithK.html#3131" class="Bound">O</a> <a id="3133" class="Symbol">:</a> <a id="3135" class="PrimitiveType">Set</a> <a id="3139" href="Data.Container.Indexed.WithK.html#3103" class="Bound">o</a><a id="3140" class="Symbol">}</a>
                <a id="3158" class="Symbol">(</a><a id="3159" href="Data.Container.Indexed.WithK.html#3159" class="Bound">C</a> <a id="3161" class="Symbol">:</a> <a id="3163" href="Data.Container.Indexed.Core.html#378" class="Record">Container</a> <a id="3173" href="Data.Container.Indexed.WithK.html#3119" class="Bound">I</a> <a id="3175" href="Data.Container.Indexed.WithK.html#3131" class="Bound">O</a> <a id="3177" href="Data.Container.Indexed.WithK.html#3105" class="Bound">c</a> <a id="3179" href="Data.Container.Indexed.WithK.html#3107" class="Bound">r</a><a id="3180" class="Symbol">)</a> <a id="3182" class="Symbol">{</a><a id="3183" href="Data.Container.Indexed.WithK.html#3183" class="Bound">X</a> <a id="3185" class="Symbol">:</a> <a id="3187" href="Relation.Unary.html#618" class="Function">Pred</a> <a id="3192" href="Data.Container.Indexed.WithK.html#3119" class="Bound">I</a> <a id="3194" href="Data.Container.Indexed.WithK.html#3111" class="Bound">ℓ₁</a><a id="3196" class="Symbol">}</a> <a id="3198" class="Symbol">{</a><a id="3199" href="Data.Container.Indexed.WithK.html#3199" class="Bound">Y</a> <a id="3201" class="Symbol">:</a> <a id="3203" href="Relation.Unary.html#618" class="Function">Pred</a> <a id="3208" href="Data.Container.Indexed.WithK.html#3119" class="Bound">I</a> <a id="3210" href="Data.Container.Indexed.WithK.html#3114" class="Bound">ℓ₂</a><a id="3212" class="Symbol">}</a>
                <a id="3230" class="Symbol">(</a><a id="3231" href="Data.Container.Indexed.WithK.html#3231" class="Bound">Z</a> <a id="3233" class="Symbol">:</a> <a id="3235" href="Relation.Binary.Indexed.Heterogeneous.html#1035" class="Record">IndexedSetoid</a> <a id="3249" href="Data.Container.Indexed.WithK.html#3119" class="Bound">I</a> <a id="3251" href="Data.Container.Indexed.WithK.html#3109" class="Bound">s</a> <a id="3253" class="Symbol">_)</a> <a id="3256" class="Symbol">→</a> <a id="3258" class="Keyword">let</a> <a id="3262" class="Keyword">module</a> <a id="Z"></a><a id="3269" href="Data.Container.Indexed.WithK.html#3269" class="Module">Z</a> <a id="3271" class="Symbol">=</a> <a id="3273" href="Relation.Binary.Indexed.Heterogeneous.html#1035" class="Module">IndexedSetoid</a> <a id="3287" href="Data.Container.Indexed.WithK.html#3231" class="Bound">Z</a> <a id="3289" class="Keyword">in</a>
                <a id="3308" class="Symbol">{</a><a id="3309" href="Data.Container.Indexed.WithK.html#3309" class="Bound">f</a> <a id="3311" class="Symbol">:</a> <a id="3313" href="Data.Container.Indexed.WithK.html#3199" class="Bound">Y</a> <a id="3315" href="Relation.Unary.html#1511" class="Function Operator">⊆</a> <a id="3317" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">Z.Carrier</a><a id="3326" class="Symbol">}</a> <a id="3328" class="Symbol">{</a><a id="3329" href="Data.Container.Indexed.WithK.html#3329" class="Bound">g</a> <a id="3331" class="Symbol">:</a> <a id="3333" href="Data.Container.Indexed.WithK.html#3183" class="Bound">X</a> <a id="3335" href="Relation.Unary.html#1511" class="Function Operator">⊆</a> <a id="3337" href="Data.Container.Indexed.WithK.html#3199" class="Bound">Y</a><a id="3338" class="Symbol">}</a> <a id="3340" class="Symbol">{</a><a id="3341" href="Data.Container.Indexed.WithK.html#3341" class="Bound">o</a> <a id="3343" class="Symbol">:</a> <a id="3345" href="Data.Container.Indexed.WithK.html#3131" class="Bound">O</a><a id="3346" class="Symbol">}</a> <a id="3348" class="Symbol">{</a><a id="3349" href="Data.Container.Indexed.WithK.html#3349" class="Bound">xs</a> <a id="3352" class="Symbol">:</a> <a id="3354" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟦</a> <a id="3356" href="Data.Container.Indexed.WithK.html#3159" class="Bound">C</a> <a id="3358" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟧</a> <a id="3360" href="Data.Container.Indexed.WithK.html#3183" class="Bound">X</a> <a id="3362" href="Data.Container.Indexed.WithK.html#3341" class="Bound">o</a><a id="3363" class="Symbol">}</a> <a id="3365" class="Symbol">→</a>
                <a id="3383" href="Data.Container.Indexed.WithK.html#1116" class="Function">Eq</a> <a id="3386" href="Data.Container.Indexed.WithK.html#3159" class="Bound">C</a> <a id="3388" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">Z.Carrier</a> <a id="3398" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">Z.Carrier</a> <a id="3408" href="Relation.Binary.Indexed.Heterogeneous.html#1155" class="Field Operator">Z._≈_</a>
                  <a id="3432" class="Symbol">(</a><a id="3433" href="Data.Container.Indexed.html#1547" class="Function">map</a> <a id="3437" href="Data.Container.Indexed.WithK.html#3159" class="Bound">C</a> <a id="3439" class="Symbol">{</a><a id="3440" href="Data.Container.Indexed.WithK.html#3199" class="Bound">Y</a><a id="3441" class="Symbol">}</a> <a id="3443" href="Data.Container.Indexed.WithK.html#3309" class="Bound">f</a> <a id="3445" class="Symbol">(</a><a id="3446" href="Data.Container.Indexed.html#1547" class="Function">map</a> <a id="3450" href="Data.Container.Indexed.WithK.html#3159" class="Bound">C</a> <a id="3452" class="Symbol">{</a><a id="3453" href="Data.Container.Indexed.WithK.html#3183" class="Bound">X</a><a id="3454" class="Symbol">}</a> <a id="3456" href="Data.Container.Indexed.WithK.html#3329" class="Bound">g</a> <a id="3458" href="Data.Container.Indexed.WithK.html#3349" class="Bound">xs</a><a id="3460" class="Symbol">))</a>
                  <a id="3481" class="Symbol">(</a><a id="3482" href="Data.Container.Indexed.html#1547" class="Function">map</a> <a id="3486" href="Data.Container.Indexed.WithK.html#3159" class="Bound">C</a> <a id="3488" class="Symbol">{</a><a id="3489" href="Data.Container.Indexed.WithK.html#3183" class="Bound">X</a><a id="3490" class="Symbol">}</a> <a id="3492" class="Symbol">(</a><a id="3493" href="Data.Container.Indexed.WithK.html#3309" class="Bound">f</a> <a id="3495" href="Function.html#805" class="Function Operator">⟨∘⟩</a> <a id="3499" href="Data.Container.Indexed.WithK.html#3329" class="Bound">g</a><a id="3500" class="Symbol">)</a> <a id="3502" href="Data.Container.Indexed.WithK.html#3349" class="Bound">xs</a><a id="3504" class="Symbol">)</a>
  <a id="3508" href="Data.Container.Indexed.WithK.html#3084" class="Function">composition</a> <a id="3520" href="Data.Container.Indexed.WithK.html#3520" class="Bound">C</a> <a id="3522" href="Data.Container.Indexed.WithK.html#3522" class="Bound">Z</a> <a id="3524" class="Symbol">=</a> <a id="3526" href="Relation.Binary.Indexed.Heterogeneous.html#875" class="Function">IndexedSetoid.refl</a> <a id="3545" class="Symbol">(</a><a id="3546" href="Data.Container.Indexed.WithK.html#1802" class="Function">setoid</a> <a id="3553" href="Data.Container.Indexed.WithK.html#3520" class="Bound">C</a> <a id="3555" href="Data.Container.Indexed.WithK.html#3522" class="Bound">Z</a><a id="3556" class="Symbol">)</a>

<a id="3559" class="Comment">------------------------------------------------------------------------</a>
<a id="3632" class="Comment">-- Plain morphisms</a>

<a id="3652" class="Keyword">module</a> <a id="PlainMorphism"></a><a id="3659" href="Data.Container.Indexed.WithK.html#3659" class="Module">PlainMorphism</a> <a id="3673" class="Symbol">{</a><a id="3674" href="Data.Container.Indexed.WithK.html#3674" class="Bound">i</a> <a id="3676" href="Data.Container.Indexed.WithK.html#3676" class="Bound">o</a> <a id="3678" href="Data.Container.Indexed.WithK.html#3678" class="Bound">c</a> <a id="3680" href="Data.Container.Indexed.WithK.html#3680" class="Bound">r</a><a id="3681" class="Symbol">}</a> <a id="3683" class="Symbol">{</a><a id="3684" href="Data.Container.Indexed.WithK.html#3684" class="Bound">I</a> <a id="3686" class="Symbol">:</a> <a id="3688" class="PrimitiveType">Set</a> <a id="3692" href="Data.Container.Indexed.WithK.html#3674" class="Bound">i</a><a id="3693" class="Symbol">}</a> <a id="3695" class="Symbol">{</a><a id="3696" href="Data.Container.Indexed.WithK.html#3696" class="Bound">O</a> <a id="3698" class="Symbol">:</a> <a id="3700" class="PrimitiveType">Set</a> <a id="3704" href="Data.Container.Indexed.WithK.html#3676" class="Bound">o</a><a id="3705" class="Symbol">}</a> <a id="3707" class="Keyword">where</a>

  <a id="3716" class="Keyword">open</a> <a id="3721" href="Data.Container.Indexed.html#4232" class="Module">Data.Container.Indexed.PlainMorphism</a>

  <a id="3761" class="Comment">-- Naturality.</a>

  <a id="PlainMorphism.Natural"></a><a id="3779" href="Data.Container.Indexed.WithK.html#3779" class="Function">Natural</a> <a id="3787" class="Symbol">:</a> <a id="3789" class="Symbol">∀</a> <a id="3791" class="Symbol">{</a><a id="3792" href="Data.Container.Indexed.WithK.html#3792" class="Bound">ℓ</a><a id="3793" class="Symbol">}</a> <a id="3795" class="Symbol">{</a><a id="3796" href="Data.Container.Indexed.WithK.html#3796" class="Bound">C₁</a> <a id="3799" href="Data.Container.Indexed.WithK.html#3799" class="Bound">C₂</a> <a id="3802" class="Symbol">:</a> <a id="3804" href="Data.Container.Indexed.Core.html#378" class="Record">Container</a> <a id="3814" href="Data.Container.Indexed.WithK.html#3684" class="Bound">I</a> <a id="3816" href="Data.Container.Indexed.WithK.html#3696" class="Bound">O</a> <a id="3818" href="Data.Container.Indexed.WithK.html#3678" class="Bound">c</a> <a id="3820" href="Data.Container.Indexed.WithK.html#3680" class="Bound">r</a><a id="3821" class="Symbol">}</a> <a id="3823" class="Symbol">→</a>
            <a id="3837" class="Symbol">((</a><a id="3839" href="Data.Container.Indexed.WithK.html#3839" class="Bound">X</a> <a id="3841" class="Symbol">:</a> <a id="3843" href="Relation.Unary.html#618" class="Function">Pred</a> <a id="3848" href="Data.Container.Indexed.WithK.html#3684" class="Bound">I</a> <a id="3850" href="Data.Container.Indexed.WithK.html#3792" class="Bound">ℓ</a><a id="3851" class="Symbol">)</a> <a id="3853" class="Symbol">→</a> <a id="3855" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟦</a> <a id="3857" href="Data.Container.Indexed.WithK.html#3796" class="Bound">C₁</a> <a id="3860" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟧</a> <a id="3862" href="Data.Container.Indexed.WithK.html#3839" class="Bound">X</a> <a id="3864" href="Relation.Unary.html#1511" class="Function Operator">⊆</a> <a id="3866" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟦</a> <a id="3868" href="Data.Container.Indexed.WithK.html#3799" class="Bound">C₂</a> <a id="3871" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟧</a> <a id="3873" href="Data.Container.Indexed.WithK.html#3839" class="Bound">X</a><a id="3874" class="Symbol">)</a> <a id="3876" class="Symbol">→</a> <a id="3878" class="PrimitiveType">Set</a> <a id="3882" class="Symbol">_</a>
  <a id="3886" href="Data.Container.Indexed.WithK.html#3779" class="Function">Natural</a> <a id="3894" class="Symbol">{</a><a id="3895" class="Argument">C₁</a> <a id="3898" class="Symbol">=</a> <a id="3900" href="Data.Container.Indexed.WithK.html#3900" class="Bound">C₁</a><a id="3902" class="Symbol">}</a> <a id="3904" class="Symbol">{</a><a id="3905" href="Data.Container.Indexed.WithK.html#3905" class="Bound">C₂</a><a id="3907" class="Symbol">}</a> <a id="3909" href="Data.Container.Indexed.WithK.html#3909" class="Bound">m</a> <a id="3911" class="Symbol">=</a>
    <a id="3917" class="Symbol">∀</a> <a id="3919" class="Symbol">{</a><a id="3920" href="Data.Container.Indexed.WithK.html#3920" class="Bound">X</a><a id="3921" class="Symbol">}</a> <a id="3923" href="Data.Container.Indexed.WithK.html#3923" class="Bound">Y</a> <a id="3925" class="Symbol">→</a> <a id="3927" class="Keyword">let</a> <a id="3931" class="Keyword">module</a> <a id="Y"></a><a id="3938" href="Data.Container.Indexed.WithK.html#3938" class="Module">Y</a> <a id="3940" class="Symbol">=</a> <a id="3942" href="Relation.Binary.Indexed.Heterogeneous.html#1035" class="Module">IndexedSetoid</a> <a id="3956" href="Data.Container.Indexed.WithK.html#3923" class="Bound">Y</a> <a id="3958" class="Keyword">in</a> <a id="3961" class="Symbol">(</a><a id="3962" href="Data.Container.Indexed.WithK.html#3962" class="Bound">f</a> <a id="3964" class="Symbol">:</a> <a id="3966" href="Data.Container.Indexed.WithK.html#3920" class="Bound">X</a> <a id="3968" href="Relation.Unary.html#1511" class="Function Operator">⊆</a> <a id="3970" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">Y.Carrier</a><a id="3979" class="Symbol">)</a> <a id="3981" class="Symbol">→</a>
    <a id="3987" class="Symbol">∀</a> <a id="3989" class="Symbol">{</a><a id="3990" href="Data.Container.Indexed.WithK.html#3990" class="Bound">o</a><a id="3991" class="Symbol">}</a> <a id="3993" class="Symbol">(</a><a id="3994" href="Data.Container.Indexed.WithK.html#3994" class="Bound">xs</a> <a id="3997" class="Symbol">:</a> <a id="3999" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟦</a> <a id="4001" href="Data.Container.Indexed.WithK.html#3900" class="Bound">C₁</a> <a id="4004" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟧</a> <a id="4006" href="Data.Container.Indexed.WithK.html#3920" class="Bound">X</a> <a id="4008" href="Data.Container.Indexed.WithK.html#3990" class="Bound">o</a><a id="4009" class="Symbol">)</a> <a id="4011" class="Symbol">→</a>
      <a id="4019" href="Data.Container.Indexed.WithK.html#1116" class="Function">Eq</a> <a id="4022" href="Data.Container.Indexed.WithK.html#3905" class="Bound">C₂</a> <a id="4025" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">Y.Carrier</a> <a id="4035" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">Y.Carrier</a> <a id="4045" href="Relation.Binary.Indexed.Heterogeneous.html#1155" class="Field Operator">Y._≈_</a>
        <a id="4059" class="Symbol">(</a><a id="4060" href="Data.Container.Indexed.WithK.html#3909" class="Bound">m</a> <a id="4062" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">Y.Carrier</a> <a id="4072" href="Function.html#1927" class="Function Operator">$</a> <a id="4074" href="Data.Container.Indexed.html#1547" class="Function">map</a> <a id="4078" href="Data.Container.Indexed.WithK.html#3900" class="Bound">C₁</a> <a id="4081" class="Symbol">{</a><a id="4082" href="Data.Container.Indexed.WithK.html#3920" class="Bound">X</a><a id="4083" class="Symbol">}</a> <a id="4085" href="Data.Container.Indexed.WithK.html#3962" class="Bound">f</a> <a id="4087" href="Data.Container.Indexed.WithK.html#3994" class="Bound">xs</a><a id="4089" class="Symbol">)</a> <a id="4091" class="Symbol">(</a><a id="4092" href="Data.Container.Indexed.html#1547" class="Function">map</a> <a id="4096" href="Data.Container.Indexed.WithK.html#3905" class="Bound">C₂</a> <a id="4099" class="Symbol">{</a><a id="4100" href="Data.Container.Indexed.WithK.html#3920" class="Bound">X</a><a id="4101" class="Symbol">}</a> <a id="4103" href="Data.Container.Indexed.WithK.html#3962" class="Bound">f</a> <a id="4105" href="Function.html#1927" class="Function Operator">$</a> <a id="4107" href="Data.Container.Indexed.WithK.html#3909" class="Bound">m</a> <a id="4109" href="Data.Container.Indexed.WithK.html#3920" class="Bound">X</a> <a id="4111" href="Data.Container.Indexed.WithK.html#3994" class="Bound">xs</a><a id="4113" class="Symbol">)</a>

  <a id="4118" class="Comment">-- Natural transformations.</a>

  <a id="PlainMorphism.NT"></a><a id="4149" href="Data.Container.Indexed.WithK.html#4149" class="Function">NT</a> <a id="4152" class="Symbol">:</a> <a id="4154" class="Symbol">∀</a> <a id="4156" class="Symbol">{</a><a id="4157" href="Data.Container.Indexed.WithK.html#4157" class="Bound">ℓ</a><a id="4158" class="Symbol">}</a> <a id="4160" class="Symbol">(</a><a id="4161" href="Data.Container.Indexed.WithK.html#4161" class="Bound">C₁</a> <a id="4164" href="Data.Container.Indexed.WithK.html#4164" class="Bound">C₂</a> <a id="4167" class="Symbol">:</a> <a id="4169" href="Data.Container.Indexed.Core.html#378" class="Record">Container</a> <a id="4179" href="Data.Container.Indexed.WithK.html#3684" class="Bound">I</a> <a id="4181" href="Data.Container.Indexed.WithK.html#3696" class="Bound">O</a> <a id="4183" href="Data.Container.Indexed.WithK.html#3678" class="Bound">c</a> <a id="4185" href="Data.Container.Indexed.WithK.html#3680" class="Bound">r</a><a id="4186" class="Symbol">)</a> <a id="4188" class="Symbol">→</a> <a id="4190" class="PrimitiveType">Set</a> <a id="4194" class="Symbol">_</a>
  <a id="4198" href="Data.Container.Indexed.WithK.html#4149" class="Function">NT</a> <a id="4201" class="Symbol">{</a><a id="4202" href="Data.Container.Indexed.WithK.html#4202" class="Bound">ℓ</a><a id="4203" class="Symbol">}</a> <a id="4205" href="Data.Container.Indexed.WithK.html#4205" class="Bound">C₁</a> <a id="4208" href="Data.Container.Indexed.WithK.html#4208" class="Bound">C₂</a> <a id="4211" class="Symbol">=</a> <a id="4213" href="Data.Product.html#917" class="Function">∃</a> <a id="4215" class="Symbol">λ</a> <a id="4217" class="Symbol">(</a><a id="4218" href="Data.Container.Indexed.WithK.html#4218" class="Bound">m</a> <a id="4220" class="Symbol">:</a> <a id="4222" class="Symbol">(</a><a id="4223" href="Data.Container.Indexed.WithK.html#4223" class="Bound">X</a> <a id="4225" class="Symbol">:</a> <a id="4227" href="Relation.Unary.html#618" class="Function">Pred</a> <a id="4232" href="Data.Container.Indexed.WithK.html#3684" class="Bound">I</a> <a id="4234" href="Data.Container.Indexed.WithK.html#4202" class="Bound">ℓ</a><a id="4235" class="Symbol">)</a> <a id="4237" class="Symbol">→</a> <a id="4239" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟦</a> <a id="4241" href="Data.Container.Indexed.WithK.html#4205" class="Bound">C₁</a> <a id="4244" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟧</a> <a id="4246" href="Data.Container.Indexed.WithK.html#4223" class="Bound">X</a> <a id="4248" href="Relation.Unary.html#1511" class="Function Operator">⊆</a> <a id="4250" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟦</a> <a id="4252" href="Data.Container.Indexed.WithK.html#4208" class="Bound">C₂</a> <a id="4255" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟧</a> <a id="4257" href="Data.Container.Indexed.WithK.html#4223" class="Bound">X</a><a id="4258" class="Symbol">)</a> <a id="4260" class="Symbol">→</a>
                 <a id="4279" href="Data.Container.Indexed.WithK.html#3779" class="Function">Natural</a> <a id="4287" href="Data.Container.Indexed.WithK.html#4218" class="Bound">m</a>

  <a id="4292" class="Comment">-- Container morphisms are natural.</a>

  <a id="PlainMorphism.natural"></a><a id="4331" href="Data.Container.Indexed.WithK.html#4331" class="Function">natural</a> <a id="4339" class="Symbol">:</a> <a id="4341" class="Symbol">∀</a> <a id="4343" class="Symbol">{</a><a id="4344" href="Data.Container.Indexed.WithK.html#4344" class="Bound">ℓ</a><a id="4345" class="Symbol">}</a> <a id="4347" class="Symbol">(</a><a id="4348" href="Data.Container.Indexed.WithK.html#4348" class="Bound">C₁</a> <a id="4351" href="Data.Container.Indexed.WithK.html#4351" class="Bound">C₂</a> <a id="4354" class="Symbol">:</a> <a id="4356" href="Data.Container.Indexed.Core.html#378" class="Record">Container</a> <a id="4366" href="Data.Container.Indexed.WithK.html#3684" class="Bound">I</a> <a id="4368" href="Data.Container.Indexed.WithK.html#3696" class="Bound">O</a> <a id="4370" href="Data.Container.Indexed.WithK.html#3678" class="Bound">c</a> <a id="4372" href="Data.Container.Indexed.WithK.html#3680" class="Bound">r</a><a id="4373" class="Symbol">)</a> <a id="4375" class="Symbol">(</a><a id="4376" href="Data.Container.Indexed.WithK.html#4376" class="Bound">m</a> <a id="4378" class="Symbol">:</a> <a id="4380" href="Data.Container.Indexed.WithK.html#4348" class="Bound">C₁</a> <a id="4383" href="Data.Container.Indexed.html#3676" class="Function Operator">⇒</a> <a id="4385" href="Data.Container.Indexed.WithK.html#4351" class="Bound">C₂</a><a id="4387" class="Symbol">)</a> <a id="4389" class="Symbol">→</a> <a id="4391" href="Data.Container.Indexed.WithK.html#3779" class="Function">Natural</a> <a id="4399" class="Symbol">{</a><a id="4400" href="Data.Container.Indexed.WithK.html#4344" class="Bound">ℓ</a><a id="4401" class="Symbol">}</a> <a id="4403" href="Data.Container.Indexed.html#4013" class="Function Operator">⟪</a> <a id="4405" href="Data.Container.Indexed.WithK.html#4376" class="Bound">m</a> <a id="4407" href="Data.Container.Indexed.html#4013" class="Function Operator">⟫</a>
  <a id="4411" href="Data.Container.Indexed.WithK.html#4331" class="Function">natural</a> <a id="4419" class="Symbol">_</a> <a id="4421" class="Symbol">_</a> <a id="4423" href="Data.Container.Indexed.WithK.html#4423" class="Bound">m</a> <a id="4425" class="Symbol">{</a><a id="4426" href="Data.Container.Indexed.WithK.html#4426" class="Bound">X</a><a id="4427" class="Symbol">}</a> <a id="4429" href="Data.Container.Indexed.WithK.html#4429" class="Bound">Y</a> <a id="4431" href="Data.Container.Indexed.WithK.html#4431" class="Bound">f</a> <a id="4433" class="Symbol">_</a> <a id="4435" class="Symbol">=</a> <a id="4437" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="4442" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4444" href="Relation.Binary.HeterogeneousEquality.Core.html#662" class="InductiveConstructor">refl</a> <a id="4449" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4451" class="Symbol">λ</a> <a id="4453" class="Symbol">{</a> <a id="4455" href="Data.Container.Indexed.WithK.html#4455" class="Bound">r</a> <a id="4457" class="DottedPattern Symbol">.</a><a id="4458" href="Data.Container.Indexed.WithK.html#4455" class="DottedPattern Bound">r</a> <a id="4460" href="Relation.Binary.HeterogeneousEquality.Core.html#662" class="InductiveConstructor">refl</a> <a id="4465" class="Symbol">→</a> <a id="4467" href="Data.Container.Indexed.WithK.html#4534" class="Function">lemma</a> <a id="4473" class="Symbol">(</a><a id="4474" href="Data.Container.Indexed.html#2519" class="Field">coherent</a> <a id="4483" href="Data.Container.Indexed.WithK.html#4423" class="Bound">m</a><a id="4484" class="Symbol">)</a> <a id="4486" class="Symbol">}</a>
    <a id="4492" class="Keyword">where</a>
    <a id="4502" class="Keyword">module</a> <a id="Y"></a><a id="4509" href="Data.Container.Indexed.WithK.html#4509" class="Module">Y</a> <a id="4511" class="Symbol">=</a> <a id="4513" href="Relation.Binary.Indexed.Heterogeneous.html#1035" class="Module">IndexedSetoid</a> <a id="4527" href="Data.Container.Indexed.WithK.html#4429" class="Bound">Y</a>

    <a id="4534" href="Data.Container.Indexed.WithK.html#4534" class="Function">lemma</a> <a id="4540" class="Symbol">:</a> <a id="4542" class="Symbol">∀</a> <a id="4544" class="Symbol">{</a><a id="4545" href="Data.Container.Indexed.WithK.html#4545" class="Bound">i</a> <a id="4547" href="Data.Container.Indexed.WithK.html#4547" class="Bound">j</a><a id="4548" class="Symbol">}</a> <a id="4550" class="Symbol">(</a><a id="4551" href="Data.Container.Indexed.WithK.html#4551" class="Bound">eq</a> <a id="4554" class="Symbol">:</a> <a id="4556" href="Data.Container.Indexed.WithK.html#4545" class="Bound">i</a> <a id="4558" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="4560" href="Data.Container.Indexed.WithK.html#4547" class="Bound">j</a><a id="4561" class="Symbol">)</a> <a id="4563" class="Symbol">{</a><a id="4564" href="Data.Container.Indexed.WithK.html#4564" class="Bound">x</a><a id="4565" class="Symbol">}</a> <a id="4567" class="Symbol">→</a>
            <a id="4581" href="Relation.Binary.PropositionalEquality.Core.html#978" class="Function">P.subst</a> <a id="4589" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Function">Y.Carrier</a> <a id="4599" href="Data.Container.Indexed.WithK.html#4551" class="Bound">eq</a> <a id="4602" class="Symbol">(</a><a id="4603" href="Data.Container.Indexed.WithK.html#4431" class="Bound">f</a> <a id="4605" href="Data.Container.Indexed.WithK.html#4564" class="Bound">x</a><a id="4606" class="Symbol">)</a> <a id="4608" href="Relation.Binary.Indexed.Heterogeneous.html#1155" class="Function Operator">Y.≈</a> <a id="4612" href="Data.Container.Indexed.WithK.html#4431" class="Bound">f</a> <a id="4614" class="Symbol">(</a><a id="4615" href="Relation.Binary.PropositionalEquality.Core.html#978" class="Function">P.subst</a> <a id="4623" href="Data.Container.Indexed.WithK.html#4426" class="Bound">X</a> <a id="4625" href="Data.Container.Indexed.WithK.html#4551" class="Bound">eq</a> <a id="4628" href="Data.Container.Indexed.WithK.html#4564" class="Bound">x</a><a id="4629" class="Symbol">)</a>
    <a id="4635" href="Data.Container.Indexed.WithK.html#4534" class="Function">lemma</a> <a id="4641" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="4646" class="Symbol">=</a> <a id="4648" href="Relation.Binary.Indexed.Heterogeneous.html#875" class="Function">Y.refl</a>

  <a id="4658" class="Comment">-- In fact, all natural functions of the right type are container</a>
  <a id="4726" class="Comment">-- morphisms.</a>

  <a id="PlainMorphism.complete"></a><a id="4743" href="Data.Container.Indexed.WithK.html#4743" class="Function">complete</a> <a id="4752" class="Symbol">:</a> <a id="4754" class="Symbol">∀</a> <a id="4756" class="Symbol">{</a><a id="4757" href="Data.Container.Indexed.WithK.html#4757" class="Bound">C₁</a> <a id="4760" href="Data.Container.Indexed.WithK.html#4760" class="Bound">C₂</a> <a id="4763" class="Symbol">:</a> <a id="4765" href="Data.Container.Indexed.Core.html#378" class="Record">Container</a> <a id="4775" href="Data.Container.Indexed.WithK.html#3684" class="Bound">I</a> <a id="4777" href="Data.Container.Indexed.WithK.html#3696" class="Bound">O</a> <a id="4779" href="Data.Container.Indexed.WithK.html#3678" class="Bound">c</a> <a id="4781" href="Data.Container.Indexed.WithK.html#3680" class="Bound">r</a><a id="4782" class="Symbol">}</a> <a id="4784" class="Symbol">(</a><a id="4785" href="Data.Container.Indexed.WithK.html#4785" class="Bound">nt</a> <a id="4788" class="Symbol">:</a> <a id="4790" href="Data.Container.Indexed.WithK.html#4149" class="Function">NT</a> <a id="4793" href="Data.Container.Indexed.WithK.html#4757" class="Bound">C₁</a> <a id="4796" href="Data.Container.Indexed.WithK.html#4760" class="Bound">C₂</a><a id="4798" class="Symbol">)</a> <a id="4800" class="Symbol">→</a>
             <a id="4815" href="Data.Product.html#917" class="Function">∃</a> <a id="4817" class="Symbol">λ</a> <a id="4819" href="Data.Container.Indexed.WithK.html#4819" class="Bound">m</a> <a id="4821" class="Symbol">→</a> <a id="4823" class="Symbol">(</a><a id="4824" href="Data.Container.Indexed.WithK.html#4824" class="Bound">X</a> <a id="4826" class="Symbol">:</a> <a id="4828" href="Relation.Binary.Indexed.Heterogeneous.html#1035" class="Record">IndexedSetoid</a> <a id="4842" href="Data.Container.Indexed.WithK.html#3684" class="Bound">I</a> <a id="4844" class="Symbol">_</a> <a id="4846" class="Symbol">_)</a> <a id="4849" class="Symbol">→</a>
                     <a id="4872" class="Keyword">let</a> <a id="4876" class="Keyword">module</a> <a id="X"></a><a id="4883" href="Data.Container.Indexed.WithK.html#4883" class="Module">X</a> <a id="4885" class="Symbol">=</a> <a id="4887" href="Relation.Binary.Indexed.Heterogeneous.html#1035" class="Module">IndexedSetoid</a> <a id="4901" href="Data.Container.Indexed.WithK.html#4824" class="Bound">X</a> <a id="4903" class="Keyword">in</a>
                     <a id="4927" class="Symbol">∀</a> <a id="4929" class="Symbol">{</a><a id="4930" href="Data.Container.Indexed.WithK.html#4930" class="Bound">o</a><a id="4931" class="Symbol">}</a> <a id="4933" class="Symbol">(</a><a id="4934" href="Data.Container.Indexed.WithK.html#4934" class="Bound">xs</a> <a id="4937" class="Symbol">:</a> <a id="4939" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟦</a> <a id="4941" href="Data.Container.Indexed.WithK.html#4757" class="Bound">C₁</a> <a id="4944" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟧</a> <a id="4946" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">X.Carrier</a> <a id="4956" href="Data.Container.Indexed.WithK.html#4930" class="Bound">o</a><a id="4957" class="Symbol">)</a> <a id="4959" class="Symbol">→</a>
                     <a id="4982" href="Data.Container.Indexed.WithK.html#1116" class="Function">Eq</a> <a id="4985" href="Data.Container.Indexed.WithK.html#4760" class="Bound">C₂</a> <a id="4988" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">X.Carrier</a> <a id="4998" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">X.Carrier</a> <a id="5008" href="Relation.Binary.Indexed.Heterogeneous.html#1155" class="Field Operator">X._≈_</a>
                       <a id="5037" class="Symbol">(</a><a id="5038" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="5044" href="Data.Container.Indexed.WithK.html#4785" class="Bound">nt</a> <a id="5047" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">X.Carrier</a> <a id="5057" href="Data.Container.Indexed.WithK.html#4934" class="Bound">xs</a><a id="5059" class="Symbol">)</a> <a id="5061" class="Symbol">(</a><a id="5062" href="Data.Container.Indexed.html#4013" class="Function Operator">⟪</a> <a id="5064" href="Data.Container.Indexed.WithK.html#4819" class="Bound">m</a> <a id="5066" href="Data.Container.Indexed.html#4013" class="Function Operator">⟫</a> <a id="5068" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">X.Carrier</a> <a id="5078" class="Symbol">{</a><a id="5079" href="Data.Container.Indexed.WithK.html#4930" class="Bound">o</a><a id="5080" class="Symbol">}</a> <a id="5082" href="Data.Container.Indexed.WithK.html#4934" class="Bound">xs</a><a id="5084" class="Symbol">)</a>
  <a id="5088" href="Data.Container.Indexed.WithK.html#4743" class="Function">complete</a> <a id="5097" class="Symbol">{</a><a id="5098" href="Data.Container.Indexed.WithK.html#5098" class="Bound">C₁</a><a id="5100" class="Symbol">}</a> <a id="5102" class="Symbol">{</a><a id="5103" href="Data.Container.Indexed.WithK.html#5103" class="Bound">C₂</a><a id="5105" class="Symbol">}</a> <a id="5107" class="Symbol">(</a><a id="5108" href="Data.Container.Indexed.WithK.html#5108" class="Bound">nt</a> <a id="5111" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5113" href="Data.Container.Indexed.WithK.html#5113" class="Bound">nat</a><a id="5116" class="Symbol">)</a> <a id="5118" class="Symbol">=</a> <a id="5120" href="Data.Container.Indexed.WithK.html#5263" class="Function">m</a> <a id="5122" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5124" class="Symbol">(λ</a> <a id="5127" href="Data.Container.Indexed.WithK.html#5127" class="Bound">X</a> <a id="5129" href="Data.Container.Indexed.WithK.html#5129" class="Bound">xs</a> <a id="5132" class="Symbol">→</a> <a id="5134" href="Data.Container.Indexed.WithK.html#5113" class="Bound">nat</a> <a id="5138" href="Data.Container.Indexed.WithK.html#5127" class="Bound">X</a>
    <a id="5144" class="Symbol">(λ</a> <a id="5147" class="Symbol">{</a> <a id="5149" class="Symbol">(</a><a id="5150" href="Data.Container.Indexed.WithK.html#5150" class="Bound">r</a> <a id="5152" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5154" href="Data.Container.Indexed.WithK.html#5154" class="Bound">eq</a><a id="5156" class="Symbol">)</a> <a id="5158" class="Symbol">→</a> <a id="5160" href="Relation.Binary.PropositionalEquality.Core.html#978" class="Function">P.subst</a> <a id="5168" class="Symbol">(</a><a id="5169" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">IndexedSetoid.Carrier</a> <a id="5191" href="Data.Container.Indexed.WithK.html#5127" class="Bound">X</a><a id="5192" class="Symbol">)</a> <a id="5194" href="Data.Container.Indexed.WithK.html#5154" class="Bound">eq</a> <a id="5197" class="Symbol">(</a><a id="5198" href="Agda.Builtin.Sigma.html#167" class="Field">proj₂</a> <a id="5204" href="Data.Container.Indexed.WithK.html#5129" class="Bound">xs</a> <a id="5207" href="Data.Container.Indexed.WithK.html#5150" class="Bound">r</a><a id="5208" class="Symbol">)</a> <a id="5210" class="Symbol">})</a>
    <a id="5217" class="Symbol">(</a><a id="5218" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="5224" href="Data.Container.Indexed.WithK.html#5129" class="Bound">xs</a> <a id="5227" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5229" class="Symbol">(λ</a> <a id="5232" href="Data.Container.Indexed.WithK.html#5232" class="Bound">r</a> <a id="5234" class="Symbol">→</a> <a id="5236" href="Data.Container.Indexed.WithK.html#5232" class="Bound">r</a> <a id="5238" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5240" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="5244" class="Symbol">)))</a>
    <a id="5252" class="Keyword">where</a>

    <a id="5263" href="Data.Container.Indexed.WithK.html#5263" class="Function">m</a> <a id="5265" class="Symbol">:</a> <a id="5267" href="Data.Container.Indexed.WithK.html#5098" class="Bound">C₁</a> <a id="5270" href="Data.Container.Indexed.html#3676" class="Function Operator">⇒</a> <a id="5272" href="Data.Container.Indexed.WithK.html#5103" class="Bound">C₂</a>
    <a id="5279" href="Data.Container.Indexed.WithK.html#5263" class="Function">m</a> <a id="5281" class="Symbol">=</a> <a id="5283" class="Keyword">record</a>
      <a id="5296" class="Symbol">{</a> <a id="5298" class="Field">command</a>  <a id="5307" class="Symbol">=</a> <a id="5309" class="Symbol">λ</a>      <a id="5316" href="Data.Container.Indexed.WithK.html#5316" class="Bound">c₁</a>       <a id="5325" class="Symbol">→</a> <a id="5327" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a>        <a id="5340" class="Symbol">(</a><a id="5341" href="Data.Container.Indexed.WithK.html#5507" class="Function">lemma</a> <a id="5347" href="Data.Container.Indexed.WithK.html#5316" class="Bound">c₁</a><a id="5349" class="Symbol">)</a>
      <a id="5357" class="Symbol">;</a> <a id="5359" class="Field">response</a> <a id="5368" class="Symbol">=</a> <a id="5370" class="Symbol">λ</a> <a id="5372" class="Symbol">{</a><a id="5373" href="Data.Container.Indexed.WithK.html#5373" class="Bound">_</a><a id="5374" class="Symbol">}</a> <a id="5376" class="Symbol">{</a><a id="5377" href="Data.Container.Indexed.WithK.html#5377" class="Bound">c₁</a><a id="5379" class="Symbol">}</a>  <a id="5382" href="Data.Container.Indexed.WithK.html#5382" class="Bound">r₂</a>  <a id="5386" class="Symbol">→</a> <a id="5388" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="5394" class="Symbol">(</a><a id="5395" href="Agda.Builtin.Sigma.html#167" class="Field">proj₂</a> <a id="5401" class="Symbol">(</a><a id="5402" href="Data.Container.Indexed.WithK.html#5507" class="Function">lemma</a> <a id="5408" href="Data.Container.Indexed.WithK.html#5377" class="Bound">c₁</a><a id="5410" class="Symbol">)</a> <a id="5412" href="Data.Container.Indexed.WithK.html#5382" class="Bound">r₂</a><a id="5414" class="Symbol">)</a>
      <a id="5422" class="Symbol">;</a> <a id="5424" class="Field">coherent</a> <a id="5433" class="Symbol">=</a> <a id="5435" class="Symbol">λ</a> <a id="5437" class="Symbol">{</a><a id="5438" href="Data.Container.Indexed.WithK.html#5438" class="Bound">_</a><a id="5439" class="Symbol">}</a> <a id="5441" class="Symbol">{</a><a id="5442" href="Data.Container.Indexed.WithK.html#5442" class="Bound">c₁</a><a id="5444" class="Symbol">}</a> <a id="5446" class="Symbol">{</a><a id="5447" href="Data.Container.Indexed.WithK.html#5447" class="Bound">r₂</a><a id="5449" class="Symbol">}</a> <a id="5451" class="Symbol">→</a> <a id="5453" href="Agda.Builtin.Sigma.html#167" class="Field">proj₂</a> <a id="5459" class="Symbol">(</a><a id="5460" href="Agda.Builtin.Sigma.html#167" class="Field">proj₂</a> <a id="5466" class="Symbol">(</a><a id="5467" href="Data.Container.Indexed.WithK.html#5507" class="Function">lemma</a> <a id="5473" href="Data.Container.Indexed.WithK.html#5442" class="Bound">c₁</a><a id="5475" class="Symbol">)</a> <a id="5477" href="Data.Container.Indexed.WithK.html#5447" class="Bound">r₂</a><a id="5479" class="Symbol">)</a>
      <a id="5487" class="Symbol">}</a>
      <a id="5495" class="Keyword">where</a>
      <a id="5507" href="Data.Container.Indexed.WithK.html#5507" class="Function">lemma</a> <a id="5513" class="Symbol">:</a> <a id="5515" class="Symbol">∀</a> <a id="5517" class="Symbol">{</a><a id="5518" href="Data.Container.Indexed.WithK.html#5518" class="Bound">o</a><a id="5519" class="Symbol">}</a> <a id="5521" class="Symbol">(</a><a id="5522" href="Data.Container.Indexed.WithK.html#5522" class="Bound">c₁</a> <a id="5525" class="Symbol">:</a> <a id="5527" href="Data.Container.Indexed.Core.html#517" class="Field">Command</a> <a id="5535" href="Data.Container.Indexed.WithK.html#5098" class="Bound">C₁</a> <a id="5538" href="Data.Container.Indexed.WithK.html#5518" class="Bound">o</a><a id="5539" class="Symbol">)</a> <a id="5541" class="Symbol">→</a> <a id="5543" href="Data.Product.html#800" class="Function">Σ[</a> <a id="5546" href="Data.Container.Indexed.WithK.html#5546" class="Bound">c₂</a> <a id="5549" href="Data.Product.html#800" class="Function">∈</a> <a id="5551" href="Data.Container.Indexed.Core.html#517" class="Field">Command</a> <a id="5559" href="Data.Container.Indexed.WithK.html#5103" class="Bound">C₂</a> <a id="5562" href="Data.Container.Indexed.WithK.html#5518" class="Bound">o</a> <a id="5564" href="Data.Product.html#800" class="Function">]</a>
              <a id="5580" class="Symbol">((</a><a id="5582" href="Data.Container.Indexed.WithK.html#5582" class="Bound">r₂</a> <a id="5585" class="Symbol">:</a> <a id="5587" href="Data.Container.Indexed.Core.html#548" class="Field">Response</a> <a id="5596" href="Data.Container.Indexed.WithK.html#5103" class="Bound">C₂</a> <a id="5599" href="Data.Container.Indexed.WithK.html#5546" class="Bound">c₂</a><a id="5601" class="Symbol">)</a> <a id="5603" class="Symbol">→</a> <a id="5605" href="Data.Product.html#800" class="Function">Σ[</a> <a id="5608" href="Data.Container.Indexed.WithK.html#5608" class="Bound">r₁</a> <a id="5611" href="Data.Product.html#800" class="Function">∈</a> <a id="5613" href="Data.Container.Indexed.Core.html#548" class="Field">Response</a> <a id="5622" href="Data.Container.Indexed.WithK.html#5098" class="Bound">C₁</a> <a id="5625" href="Data.Container.Indexed.WithK.html#5522" class="Bound">c₁</a> <a id="5628" href="Data.Product.html#800" class="Function">]</a>
              <a id="5644" href="Data.Container.Indexed.Core.html#589" class="Field">next</a> <a id="5649" href="Data.Container.Indexed.WithK.html#5098" class="Bound">C₁</a> <a id="5652" href="Data.Container.Indexed.WithK.html#5522" class="Bound">c₁</a> <a id="5655" href="Data.Container.Indexed.WithK.html#5608" class="Bound">r₁</a> <a id="5658" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="5660" href="Data.Container.Indexed.Core.html#589" class="Field">next</a> <a id="5665" href="Data.Container.Indexed.WithK.html#5103" class="Bound">C₂</a> <a id="5668" href="Data.Container.Indexed.WithK.html#5546" class="Bound">c₂</a> <a id="5671" href="Data.Container.Indexed.WithK.html#5582" class="Bound">r₂</a><a id="5673" class="Symbol">)</a>
      <a id="5681" href="Data.Container.Indexed.WithK.html#5507" class="Function">lemma</a> <a id="5687" href="Data.Container.Indexed.WithK.html#5687" class="Bound">c₁</a> <a id="5690" class="Symbol">=</a> <a id="5692" href="Data.Container.Indexed.WithK.html#5108" class="Bound">nt</a> <a id="5695" class="Symbol">(λ</a> <a id="5698" href="Data.Container.Indexed.WithK.html#5698" class="Bound">i</a> <a id="5700" class="Symbol">→</a> <a id="5702" href="Data.Product.html#800" class="Function">Σ[</a> <a id="5705" href="Data.Container.Indexed.WithK.html#5705" class="Bound">r₁</a> <a id="5708" href="Data.Product.html#800" class="Function">∈</a> <a id="5710" href="Data.Container.Indexed.Core.html#548" class="Field">Response</a> <a id="5719" href="Data.Container.Indexed.WithK.html#5098" class="Bound">C₁</a> <a id="5722" href="Data.Container.Indexed.WithK.html#5687" class="Bound">c₁</a> <a id="5725" href="Data.Product.html#800" class="Function">]</a> <a id="5727" href="Data.Container.Indexed.Core.html#589" class="Field">next</a> <a id="5732" href="Data.Container.Indexed.WithK.html#5098" class="Bound">C₁</a> <a id="5735" href="Data.Container.Indexed.WithK.html#5687" class="Bound">c₁</a> <a id="5738" href="Data.Container.Indexed.WithK.html#5705" class="Bound">r₁</a> <a id="5741" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="5743" href="Data.Container.Indexed.WithK.html#5698" class="Bound">i</a><a id="5744" class="Symbol">)</a>
                    <a id="5766" class="Symbol">(</a><a id="5767" href="Data.Container.Indexed.WithK.html#5687" class="Bound">c₁</a> <a id="5770" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5772" class="Symbol">λ</a> <a id="5774" href="Data.Container.Indexed.WithK.html#5774" class="Bound">r₁</a> <a id="5777" class="Symbol">→</a> <a id="5779" href="Data.Container.Indexed.WithK.html#5774" class="Bound">r₁</a> <a id="5782" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5784" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="5788" class="Symbol">)</a>

  <a id="5793" class="Comment">-- Composition commutes with ⟪_⟫.</a>

  <a id="PlainMorphism.∘-correct"></a><a id="5830" href="Data.Container.Indexed.WithK.html#5830" class="Function">∘-correct</a> <a id="5840" class="Symbol">:</a> <a id="5842" class="Symbol">{</a><a id="5843" href="Data.Container.Indexed.WithK.html#5843" class="Bound">C₁</a> <a id="5846" href="Data.Container.Indexed.WithK.html#5846" class="Bound">C₂</a> <a id="5849" href="Data.Container.Indexed.WithK.html#5849" class="Bound">C₃</a> <a id="5852" class="Symbol">:</a> <a id="5854" href="Data.Container.Indexed.Core.html#378" class="Record">Container</a> <a id="5864" href="Data.Container.Indexed.WithK.html#3684" class="Bound">I</a> <a id="5866" href="Data.Container.Indexed.WithK.html#3696" class="Bound">O</a> <a id="5868" href="Data.Container.Indexed.WithK.html#3678" class="Bound">c</a> <a id="5870" href="Data.Container.Indexed.WithK.html#3680" class="Bound">r</a><a id="5871" class="Symbol">}</a>
              <a id="5887" class="Symbol">(</a><a id="5888" href="Data.Container.Indexed.WithK.html#5888" class="Bound">f</a> <a id="5890" class="Symbol">:</a> <a id="5892" href="Data.Container.Indexed.WithK.html#5846" class="Bound">C₂</a> <a id="5895" href="Data.Container.Indexed.html#3676" class="Function Operator">⇒</a> <a id="5897" href="Data.Container.Indexed.WithK.html#5849" class="Bound">C₃</a><a id="5899" class="Symbol">)</a> <a id="5901" class="Symbol">(</a><a id="5902" href="Data.Container.Indexed.WithK.html#5902" class="Bound">g</a> <a id="5904" class="Symbol">:</a> <a id="5906" href="Data.Container.Indexed.WithK.html#5843" class="Bound">C₁</a> <a id="5909" href="Data.Container.Indexed.html#3676" class="Function Operator">⇒</a> <a id="5911" href="Data.Container.Indexed.WithK.html#5846" class="Bound">C₂</a><a id="5913" class="Symbol">)</a> <a id="5915" class="Symbol">(</a><a id="5916" href="Data.Container.Indexed.WithK.html#5916" class="Bound">X</a> <a id="5918" class="Symbol">:</a> <a id="5920" href="Relation.Binary.Indexed.Heterogeneous.html#1035" class="Record">IndexedSetoid</a> <a id="5934" href="Data.Container.Indexed.WithK.html#3684" class="Bound">I</a> <a id="5936" class="Symbol">(</a><a id="5937" href="Data.Container.Indexed.WithK.html#3678" class="Bound">c</a> <a id="5939" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="5941" href="Data.Container.Indexed.WithK.html#3680" class="Bound">r</a><a id="5942" class="Symbol">)</a> <a id="5944" class="Symbol">_)</a> <a id="5947" class="Symbol">→</a>
              <a id="5963" class="Keyword">let</a> <a id="5967" class="Keyword">module</a> <a id="X"></a><a id="5974" href="Data.Container.Indexed.WithK.html#5974" class="Module">X</a> <a id="5976" class="Symbol">=</a> <a id="5978" href="Relation.Binary.Indexed.Heterogeneous.html#1035" class="Module">IndexedSetoid</a> <a id="5992" href="Data.Container.Indexed.WithK.html#5916" class="Bound">X</a> <a id="5994" class="Keyword">in</a>
              <a id="6011" class="Symbol">∀</a> <a id="6013" class="Symbol">{</a><a id="6014" href="Data.Container.Indexed.WithK.html#6014" class="Bound">o</a><a id="6015" class="Symbol">}</a> <a id="6017" class="Symbol">{</a><a id="6018" href="Data.Container.Indexed.WithK.html#6018" class="Bound">xs</a> <a id="6021" class="Symbol">:</a> <a id="6023" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟦</a> <a id="6025" href="Data.Container.Indexed.WithK.html#5843" class="Bound">C₁</a> <a id="6028" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟧</a> <a id="6030" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">X.Carrier</a> <a id="6040" href="Data.Container.Indexed.WithK.html#6014" class="Bound">o</a><a id="6041" class="Symbol">}</a> <a id="6043" class="Symbol">→</a>
              <a id="6059" href="Data.Container.Indexed.WithK.html#1116" class="Function">Eq</a> <a id="6062" href="Data.Container.Indexed.WithK.html#5849" class="Bound">C₃</a> <a id="6065" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">X.Carrier</a> <a id="6075" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">X.Carrier</a> <a id="6085" href="Relation.Binary.Indexed.Heterogeneous.html#1155" class="Field Operator">X._≈_</a>
                <a id="6107" class="Symbol">(</a><a id="6108" href="Data.Container.Indexed.html#4013" class="Function Operator">⟪</a> <a id="6110" href="Data.Container.Indexed.WithK.html#5888" class="Bound">f</a> <a id="6112" href="Data.Container.Indexed.html#4468" class="Function Operator">∘</a> <a id="6114" href="Data.Container.Indexed.WithK.html#5902" class="Bound">g</a> <a id="6116" href="Data.Container.Indexed.html#4013" class="Function Operator">⟫</a> <a id="6118" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">X.Carrier</a> <a id="6128" href="Data.Container.Indexed.WithK.html#6018" class="Bound">xs</a><a id="6130" class="Symbol">)</a>
                <a id="6148" class="Symbol">(</a><a id="6149" href="Data.Container.Indexed.html#4013" class="Function Operator">⟪</a> <a id="6151" href="Data.Container.Indexed.WithK.html#5888" class="Bound">f</a> <a id="6153" href="Data.Container.Indexed.html#4013" class="Function Operator">⟫</a> <a id="6155" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">X.Carrier</a> <a id="6165" class="Symbol">(</a><a id="6166" href="Data.Container.Indexed.html#4013" class="Function Operator">⟪</a> <a id="6168" href="Data.Container.Indexed.WithK.html#5902" class="Bound">g</a> <a id="6170" href="Data.Container.Indexed.html#4013" class="Function Operator">⟫</a> <a id="6172" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Field">X.Carrier</a> <a id="6182" href="Data.Container.Indexed.WithK.html#6018" class="Bound">xs</a><a id="6184" class="Symbol">))</a>
  <a id="6189" href="Data.Container.Indexed.WithK.html#5830" class="Function">∘-correct</a> <a id="6199" href="Data.Container.Indexed.WithK.html#6199" class="Bound">f</a> <a id="6201" href="Data.Container.Indexed.WithK.html#6201" class="Bound">g</a> <a id="6203" href="Data.Container.Indexed.WithK.html#6203" class="Bound">X</a> <a id="6205" class="Symbol">=</a> <a id="6207" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="6212" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6214" href="Relation.Binary.HeterogeneousEquality.Core.html#662" class="InductiveConstructor">refl</a> <a id="6219" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6221" class="Symbol">λ</a> <a id="6223" class="Symbol">{</a> <a id="6225" href="Data.Container.Indexed.WithK.html#6225" class="Bound">r</a> <a id="6227" class="DottedPattern Symbol">.</a><a id="6228" href="Data.Container.Indexed.WithK.html#6225" class="DottedPattern Bound">r</a> <a id="6230" href="Relation.Binary.HeterogeneousEquality.Core.html#662" class="InductiveConstructor">refl</a> <a id="6235" class="Symbol">→</a> <a id="6237" href="Data.Container.Indexed.WithK.html#6373" class="Function">lemma</a> <a id="6243" class="Symbol">(</a><a id="6244" href="Data.Container.Indexed.html#2519" class="Field">coherent</a> <a id="6253" href="Data.Container.Indexed.WithK.html#6201" class="Bound">g</a><a id="6254" class="Symbol">)</a>
                                                        <a id="6312" class="Symbol">(</a><a id="6313" href="Data.Container.Indexed.html#2519" class="Field">coherent</a> <a id="6322" href="Data.Container.Indexed.WithK.html#6199" class="Bound">f</a><a id="6323" class="Symbol">)</a> <a id="6325" class="Symbol">}</a>
    <a id="6331" class="Keyword">where</a>
    <a id="6341" class="Keyword">module</a> <a id="X"></a><a id="6348" href="Data.Container.Indexed.WithK.html#6348" class="Module">X</a> <a id="6350" class="Symbol">=</a> <a id="6352" href="Relation.Binary.Indexed.Heterogeneous.html#1035" class="Module">IndexedSetoid</a> <a id="6366" href="Data.Container.Indexed.WithK.html#6203" class="Bound">X</a>

    <a id="6373" href="Data.Container.Indexed.WithK.html#6373" class="Function">lemma</a> <a id="6379" class="Symbol">:</a> <a id="6381" class="Symbol">∀</a> <a id="6383" class="Symbol">{</a><a id="6384" href="Data.Container.Indexed.WithK.html#6384" class="Bound">i</a> <a id="6386" href="Data.Container.Indexed.WithK.html#6386" class="Bound">j</a> <a id="6388" href="Data.Container.Indexed.WithK.html#6388" class="Bound">k</a><a id="6389" class="Symbol">}</a> <a id="6391" class="Symbol">(</a><a id="6392" href="Data.Container.Indexed.WithK.html#6392" class="Bound">eq₁</a> <a id="6396" class="Symbol">:</a> <a id="6398" href="Data.Container.Indexed.WithK.html#6384" class="Bound">i</a> <a id="6400" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="6402" href="Data.Container.Indexed.WithK.html#6386" class="Bound">j</a><a id="6403" class="Symbol">)</a> <a id="6405" class="Symbol">(</a><a id="6406" href="Data.Container.Indexed.WithK.html#6406" class="Bound">eq₂</a> <a id="6410" class="Symbol">:</a> <a id="6412" href="Data.Container.Indexed.WithK.html#6386" class="Bound">j</a> <a id="6414" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="6416" href="Data.Container.Indexed.WithK.html#6388" class="Bound">k</a><a id="6417" class="Symbol">)</a> <a id="6419" class="Symbol">{</a><a id="6420" href="Data.Container.Indexed.WithK.html#6420" class="Bound">x</a><a id="6421" class="Symbol">}</a> <a id="6423" class="Symbol">→</a>
      <a id="6431" href="Relation.Binary.PropositionalEquality.Core.html#978" class="Function">P.subst</a> <a id="6439" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Function">X.Carrier</a> <a id="6449" class="Symbol">(</a><a id="6450" href="Relation.Binary.PropositionalEquality.Core.html#923" class="Function">P.trans</a> <a id="6458" href="Data.Container.Indexed.WithK.html#6392" class="Bound">eq₁</a> <a id="6462" href="Data.Container.Indexed.WithK.html#6406" class="Bound">eq₂</a><a id="6465" class="Symbol">)</a> <a id="6467" href="Data.Container.Indexed.WithK.html#6420" class="Bound">x</a>
      <a id="6475" href="Relation.Binary.Indexed.Heterogeneous.html#1155" class="Function Operator">X.≈</a>
      <a id="6485" href="Relation.Binary.PropositionalEquality.Core.html#978" class="Function">P.subst</a> <a id="6493" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Function">X.Carrier</a> <a id="6503" href="Data.Container.Indexed.WithK.html#6406" class="Bound">eq₂</a> <a id="6507" class="Symbol">(</a><a id="6508" href="Relation.Binary.PropositionalEquality.Core.html#978" class="Function">P.subst</a> <a id="6516" href="Relation.Binary.Indexed.Heterogeneous.html#1125" class="Function">X.Carrier</a> <a id="6526" href="Data.Container.Indexed.WithK.html#6392" class="Bound">eq₁</a> <a id="6530" href="Data.Container.Indexed.WithK.html#6420" class="Bound">x</a><a id="6531" class="Symbol">)</a>
    <a id="6537" href="Data.Container.Indexed.WithK.html#6373" class="Function">lemma</a> <a id="6543" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="6548" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="6553" class="Symbol">=</a> <a id="6555" href="Relation.Binary.Indexed.Heterogeneous.html#875" class="Function">X.refl</a>

<a id="6563" class="Comment">------------------------------------------------------------------------</a>
<a id="6636" class="Comment">-- All and any</a>

<a id="6652" class="Comment">-- Membership.</a>

<a id="6668" class="Keyword">infix</a> <a id="6674" class="Number">4</a> <a id="6676" href="Data.Container.Indexed.WithK.html#6681" class="Function Operator">_∈_</a>

<a id="_∈_"></a><a id="6681" href="Data.Container.Indexed.WithK.html#6681" class="Function Operator">_∈_</a> <a id="6685" class="Symbol">:</a> <a id="6687" class="Symbol">∀</a> <a id="6689" class="Symbol">{</a><a id="6690" href="Data.Container.Indexed.WithK.html#6690" class="Bound">i</a> <a id="6692" href="Data.Container.Indexed.WithK.html#6692" class="Bound">o</a> <a id="6694" href="Data.Container.Indexed.WithK.html#6694" class="Bound">c</a> <a id="6696" href="Data.Container.Indexed.WithK.html#6696" class="Bound">r</a> <a id="6698" href="Data.Container.Indexed.WithK.html#6698" class="Bound">ℓ</a><a id="6699" class="Symbol">}</a> <a id="6701" class="Symbol">{</a><a id="6702" href="Data.Container.Indexed.WithK.html#6702" class="Bound">I</a> <a id="6704" class="Symbol">:</a> <a id="6706" class="PrimitiveType">Set</a> <a id="6710" href="Data.Container.Indexed.WithK.html#6690" class="Bound">i</a><a id="6711" class="Symbol">}</a> <a id="6713" class="Symbol">{</a><a id="6714" href="Data.Container.Indexed.WithK.html#6714" class="Bound">O</a> <a id="6716" class="Symbol">:</a> <a id="6718" class="PrimitiveType">Set</a> <a id="6722" href="Data.Container.Indexed.WithK.html#6692" class="Bound">o</a><a id="6723" class="Symbol">}</a>
      <a id="6731" class="Symbol">{</a><a id="6732" href="Data.Container.Indexed.WithK.html#6732" class="Bound">C</a> <a id="6734" class="Symbol">:</a> <a id="6736" href="Data.Container.Indexed.Core.html#378" class="Record">Container</a> <a id="6746" href="Data.Container.Indexed.WithK.html#6702" class="Bound">I</a> <a id="6748" href="Data.Container.Indexed.WithK.html#6714" class="Bound">O</a> <a id="6750" href="Data.Container.Indexed.WithK.html#6694" class="Bound">c</a> <a id="6752" href="Data.Container.Indexed.WithK.html#6696" class="Bound">r</a><a id="6753" class="Symbol">}</a> <a id="6755" class="Symbol">{</a><a id="6756" href="Data.Container.Indexed.WithK.html#6756" class="Bound">X</a> <a id="6758" class="Symbol">:</a> <a id="6760" href="Relation.Unary.html#618" class="Function">Pred</a> <a id="6765" href="Data.Container.Indexed.WithK.html#6702" class="Bound">I</a> <a id="6767" class="Symbol">(</a><a id="6768" href="Data.Container.Indexed.WithK.html#6690" class="Bound">i</a> <a id="6770" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="6772" href="Data.Container.Indexed.WithK.html#6698" class="Bound">ℓ</a><a id="6773" class="Symbol">)}</a> <a id="6776" class="Symbol">→</a> <a id="6778" href="Relation.Binary.Indexed.Heterogeneous.Core.html#646" class="Function">IREL</a> <a id="6783" href="Data.Container.Indexed.WithK.html#6756" class="Bound">X</a> <a id="6785" class="Symbol">(</a><a id="6786" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟦</a> <a id="6788" href="Data.Container.Indexed.WithK.html#6732" class="Bound">C</a> <a id="6790" href="Data.Container.Indexed.Core.html#697" class="Function Operator">⟧</a> <a id="6792" href="Data.Container.Indexed.WithK.html#6756" class="Bound">X</a><a id="6793" class="Symbol">)</a> <a id="6795" class="Symbol">_</a>
<a id="6797" href="Data.Container.Indexed.WithK.html#6681" class="Function Operator">_∈_</a> <a id="6801" class="Symbol">{</a><a id="6802" class="Argument">C</a> <a id="6804" class="Symbol">=</a> <a id="6806" href="Data.Container.Indexed.WithK.html#6806" class="Bound">C</a><a id="6807" class="Symbol">}</a> <a id="6809" class="Symbol">{</a><a id="6810" href="Data.Container.Indexed.WithK.html#6810" class="Bound">X</a><a id="6811" class="Symbol">}</a> <a id="6813" href="Data.Container.Indexed.WithK.html#6813" class="Bound">x</a> <a id="6815" href="Data.Container.Indexed.WithK.html#6815" class="Bound">xs</a> <a id="6818" class="Symbol">=</a> <a id="6820" href="Data.Container.Indexed.Core.html#1155" class="Function">◇</a> <a id="6822" href="Data.Container.Indexed.WithK.html#6806" class="Bound">C</a> <a id="6824" class="Symbol">{</a><a id="6825" class="Argument">X</a> <a id="6827" class="Symbol">=</a> <a id="6829" href="Data.Container.Indexed.WithK.html#6810" class="Bound">X</a><a id="6830" class="Symbol">}</a> <a id="6832" class="Symbol">((</a><a id="6834" href="Data.Container.Indexed.WithK.html#6813" class="Bound">x</a> <a id="6836" href="Relation.Binary.HeterogeneousEquality.Core.html#599" class="Datatype Operator">≅_</a><a id="6838" class="Symbol">)</a> <a id="6840" href="Function.html#805" class="Function Operator">⟨∘⟩</a> <a id="6844" href="Agda.Builtin.Sigma.html#167" class="Field">proj₂</a><a id="6849" class="Symbol">)</a> <a id="6851" class="Symbol">(</a><a id="6852" href="Data.Product.html#1937" class="Function Operator">-,</a> <a id="6855" href="Data.Container.Indexed.WithK.html#6815" class="Bound">xs</a><a id="6857" class="Symbol">)</a>
</pre></body></html>