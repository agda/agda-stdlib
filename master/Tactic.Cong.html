<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Tactic.Cong</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- A simple tactic for used to automatically compute the function</a>
<a id="172" class="Comment">-- argument to cong.</a>
<a id="193" class="Comment">--</a>
<a id="196" class="Comment">-- The main use for this tactic is getting a similar experience to</a>
<a id="263" class="Comment">-- &#39;rewrite&#39; during equational reasoning. This allows us to write very</a>
<a id="334" class="Comment">-- succinct proofs:</a>
<a id="354" class="Comment">--</a>
<a id="357" class="Comment">-- example : ∀ m n → m ≡ n → suc (suc (m + 0)) + m ≡ suc (suc n) + (n + 0)</a>
<a id="432" class="Comment">-- example m n eq = begin</a>
<a id="458" class="Comment">--     suc (suc (m + 0)) + m</a>
<a id="487" class="Comment">--   ≡⟨ cong! (+-identityʳ m) ⟩</a>
<a id="519" class="Comment">--     suc (suc m) + m</a>
<a id="542" class="Comment">--   ≡⟨ cong! eq ⟩</a>
<a id="561" class="Comment">--     suc (suc n) + n</a>
<a id="584" class="Comment">--   ≡⟨ cong! (+-identityʳ n) ⟨</a>
<a id="616" class="Comment">--     suc (suc n) + (n + 0)</a>
<a id="645" class="Comment">--   ∎</a>
<a id="652" class="Comment">--</a>
<a id="655" class="Comment">-- Please see README.Tactic.Cong for more details.</a>
<a id="706" class="Comment">------------------------------------------------------------------------</a>

<a id="780" class="Symbol">{-#</a> <a id="784" class="Keyword">OPTIONS</a> <a id="792" class="Pragma">--cubical-compatible</a> <a id="813" class="Pragma">--safe</a> <a id="820" class="Symbol">#-}</a>

<a id="825" class="Keyword">module</a> <a id="832" href="Tactic.Cong.html" class="Module">Tactic.Cong</a> <a id="844" class="Keyword">where</a>

<a id="851" class="Keyword">open</a> <a id="856" class="Keyword">import</a> <a id="863" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="878" class="Keyword">using</a> <a id="884" class="Symbol">(</a><a id="885" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="889" class="Symbol">;</a> <a id="891" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="896" class="Symbol">;</a> <a id="898" href="Data.Bool.Base.html#1515" class="Function Operator">if_then_else_</a><a id="911" class="Symbol">;</a> <a id="913" href="Data.Bool.Base.html#1005" class="Function Operator">_∧_</a><a id="916" class="Symbol">)</a>
<a id="918" class="Keyword">open</a> <a id="923" class="Keyword">import</a> <a id="930" href="Data.Char.Base.html" class="Module">Data.Char.Base</a> <a id="945" class="Symbol">as</a> <a id="948" class="Module">Char</a> <a id="953" class="Keyword">using</a> <a id="959" class="Symbol">(</a><a id="960" href="Data.Char.Base.html#1187" class="Primitive">toℕ</a><a id="963" class="Symbol">)</a>
<a id="965" class="Keyword">open</a> <a id="970" class="Keyword">import</a> <a id="977" href="Data.Float.Base.html" class="Module">Data.Float.Base</a> <a id="993" class="Symbol">as</a> <a id="996" class="Module">Float</a> <a id="1002" class="Keyword">using</a> <a id="1008" class="Symbol">(</a><a id="1009" href="Agda.Builtin.Float.html#473" class="Primitive">_≡ᵇ_</a><a id="1013" class="Symbol">)</a>
<a id="1015" class="Keyword">open</a> <a id="1020" class="Keyword">import</a> <a id="1027" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="1042" class="Symbol">as</a> <a id="1045" class="Module">List</a> <a id="1050" class="Keyword">using</a> <a id="1056" class="Symbol">(</a><a id="1057" href="Data.List.Base.html#7301" class="InductiveConstructor">[]</a><a id="1059" class="Symbol">;</a> <a id="1061" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">_∷_</a><a id="1064" class="Symbol">)</a>
<a id="1066" class="Keyword">open</a> <a id="1071" class="Keyword">import</a> <a id="1078" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="1094" class="Symbol">as</a> <a id="1097" class="Module">Maybe</a> <a id="1103" class="Keyword">using</a> <a id="1109" class="Symbol">(</a><a id="1110" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a><a id="1115" class="Symbol">;</a> <a id="1117" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a><a id="1121" class="Symbol">;</a> <a id="1123" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="1130" class="Symbol">)</a>
<a id="1132" class="Keyword">open</a> <a id="1137" class="Keyword">import</a> <a id="1144" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="1158" class="Symbol">as</a> <a id="1161" class="Module">ℕ</a> <a id="1163" class="Keyword">using</a> <a id="1169" class="Symbol">(</a><a id="1170" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1171" class="Symbol">;</a> <a id="1173" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="1177" class="Symbol">;</a> <a id="1179" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="1182" class="Symbol">;</a> <a id="1184" href="Data.Nat.Base.html#1289" class="Primitive Operator">_≡ᵇ_</a><a id="1188" class="Symbol">;</a> <a id="1190" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a><a id="1193" class="Symbol">)</a>
<a id="1195" class="Keyword">open</a> <a id="1200" class="Keyword">import</a> <a id="1207" href="Data.Unit.Base.html" class="Module">Data.Unit.Base</a> <a id="1222" class="Keyword">using</a> <a id="1228" class="Symbol">(</a><a id="1229" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="1230" class="Symbol">)</a>
<a id="1232" class="Keyword">open</a> <a id="1237" class="Keyword">import</a> <a id="1244" href="Data.Word64.Base.html" class="Module">Data.Word64.Base</a> <a id="1261" class="Symbol">as</a> <a id="1264" class="Module">Word64</a>  <a id="1272" class="Keyword">using</a> <a id="1278" class="Symbol">(</a><a id="1279" href="Data.Word64.Base.html#774" class="Primitive">toℕ</a><a id="1282" class="Symbol">)</a>
<a id="1284" class="Keyword">open</a> <a id="1289" class="Keyword">import</a> <a id="1296" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="1314" class="Keyword">using</a> <a id="1320" class="Symbol">(</a><a id="1321" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="1324" class="Symbol">;</a> <a id="1326" href="Data.Product.Base.html#2312" class="Function">map₁</a><a id="1330" class="Symbol">;</a> <a id="1332" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="1335" class="Symbol">)</a>
<a id="1337" class="Keyword">open</a> <a id="1342" class="Keyword">import</a> <a id="1349" href="Function.Base.html" class="Module">Function.Base</a> <a id="1363" class="Keyword">using</a> <a id="1369" class="Symbol">(</a><a id="1370" href="Function.Base.html#1993" class="Function Operator">_$_</a><a id="1373" class="Symbol">;</a> <a id="1375" href="Function.Base.html#1657" class="Function">flip</a><a id="1379" class="Symbol">;</a> <a id="1381" href="Function.Base.html#4061" class="Function Operator">case_of_</a><a id="1389" class="Symbol">)</a>
<a id="1391" class="Keyword">open</a> <a id="1396" class="Keyword">import</a> <a id="1403" href="Relation.Binary.PropositionalEquality.Core.html" class="Module">Relation.Binary.PropositionalEquality.Core</a> <a id="1446" class="Keyword">using</a> <a id="1452" class="Symbol">(</a><a id="1453" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="1456" class="Symbol">;</a> <a id="1458" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="1462" class="Symbol">;</a> <a id="1464" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a><a id="1468" class="Symbol">)</a>
<a id="1470" class="Keyword">open</a> <a id="1475" class="Keyword">import</a> <a id="1482" href="Relation.Nullary.Decidable.Core.html" class="Module">Relation.Nullary.Decidable.Core</a> <a id="1514" class="Keyword">using</a> <a id="1520" class="Symbol">(</a><a id="1521" href="Relation.Nullary.Decidable.Core.html#2105" class="InductiveConstructor">yes</a><a id="1524" class="Symbol">;</a> <a id="1526" href="Relation.Nullary.Decidable.Core.html#2142" class="InductiveConstructor">no</a><a id="1528" class="Symbol">)</a>

<a id="1531" class="Comment">-- &#39;Data.String.Properties&#39; defines this via &#39;Dec&#39;, so let&#39;s use the</a>
<a id="1600" class="Comment">-- builtin for maximum speed.</a>
<a id="1630" class="Keyword">import</a> <a id="1637" href="Agda.Builtin.String.html" class="Module">Agda.Builtin.String</a> <a id="1657" class="Symbol">as</a> <a id="1660" class="Module">String</a> <a id="1667" class="Keyword">renaming</a> <a id="1676" class="Symbol">(</a><a id="1677" href="Agda.Builtin.String.html#585" class="Primitive">primStringEquality</a> <a id="1696" class="Symbol">to</a> <a id="1699" class="Primitive">_≡ᵇ_</a><a id="1703" class="Symbol">)</a>

<a id="1706" class="Keyword">open</a> <a id="1711" class="Keyword">import</a> <a id="1718" href="Reflection.html" class="Module">Reflection</a>
<a id="1729" class="Keyword">open</a> <a id="1734" class="Keyword">import</a> <a id="1741" href="Reflection.AST.Abstraction.html" class="Module">Reflection.AST.Abstraction</a>
<a id="1768" class="Keyword">open</a> <a id="1773" class="Keyword">import</a> <a id="1780" href="Reflection.AST.AlphaEquality.html" class="Module">Reflection.AST.AlphaEquality</a>        <a id="1816" class="Symbol">as</a> <a id="1819" class="Module">Alpha</a>
<a id="1825" class="Keyword">open</a> <a id="1830" class="Keyword">import</a> <a id="1837" href="Reflection.AST.Argument.html" class="Module">Reflection.AST.Argument</a>             <a id="1873" class="Symbol">as</a> <a id="1876" class="Module">Arg</a>
<a id="1880" class="Keyword">open</a> <a id="1885" class="Keyword">import</a> <a id="1892" href="Reflection.AST.Argument.Information.html" class="Module">Reflection.AST.Argument.Information</a> <a id="1928" class="Symbol">as</a> <a id="1931" class="Module">ArgInfo</a>
<a id="1939" class="Keyword">open</a> <a id="1944" class="Keyword">import</a> <a id="1951" href="Reflection.AST.Argument.Visibility.html" class="Module">Reflection.AST.Argument.Visibility</a>  <a id="1987" class="Symbol">as</a> <a id="1990" class="Module">Visibility</a>
<a id="2001" class="Keyword">open</a> <a id="2006" class="Keyword">import</a> <a id="2013" href="Reflection.AST.Literal.html" class="Module">Reflection.AST.Literal</a>              <a id="2049" class="Symbol">as</a> <a id="2052" class="Module">Literal</a>
<a id="2060" class="Keyword">open</a> <a id="2065" class="Keyword">import</a> <a id="2072" href="Reflection.AST.Meta.html" class="Module">Reflection.AST.Meta</a>                 <a id="2108" class="Symbol">as</a> <a id="2111" class="Module">Meta</a>
<a id="2116" class="Keyword">open</a> <a id="2121" class="Keyword">import</a> <a id="2128" href="Reflection.AST.Name.html" class="Module">Reflection.AST.Name</a>                 <a id="2164" class="Symbol">as</a> <a id="2167" class="Module">Name</a>
<a id="2172" class="Keyword">open</a> <a id="2177" class="Keyword">import</a> <a id="2184" href="Reflection.AST.Term.html" class="Module">Reflection.AST.Term</a>                 <a id="2220" class="Symbol">as</a> <a id="2223" class="Module">Term</a>
<a id="2228" class="Keyword">import</a> <a id="2235" href="Reflection.AST.Traversal.html" class="Module">Reflection.AST.Traversal</a>                 <a id="2276" class="Symbol">as</a> <a id="2279" class="Module">Traversal</a>

<a id="2290" class="Keyword">open</a> <a id="2295" class="Keyword">import</a> <a id="2302" href="Reflection.TCM.Syntax.html" class="Module">Reflection.TCM.Syntax</a>
<a id="2324" class="Keyword">open</a> <a id="2329" class="Keyword">import</a> <a id="2336" href="Reflection.TCM.Utilities.html" class="Module">Reflection.TCM.Utilities</a>

<a id="2362" class="Comment">-- Marker to keep anti-unification from descending into the wrapped</a>
<a id="2430" class="Comment">-- subterm.</a>
<a id="2442" class="Comment">--</a>
<a id="2445" class="Comment">-- For instance, anti-unification of ⌞ a + b ⌟ + c and b + a + c</a>
<a id="2510" class="Comment">-- yields λ ϕ → ϕ + c, as opposed to λ ϕ → ϕ + ϕ + c without ⌞_⌟.</a>
<a id="2576" class="Comment">--</a>
<a id="2579" class="Comment">-- The marker is only visible to the cong! tactic, which inhibits</a>
<a id="2645" class="Comment">-- normalisation. Anywhere else, ⌞ a + b ⌟ reduces to a + b.</a>
<a id="2706" class="Comment">--</a>
<a id="2709" class="Comment">-- Thus, proving ⌞ a + b ⌟ + c ≡ b + a + c via cong! (+-comm a b)</a>
<a id="2775" class="Comment">-- also proves a + b + c ≡ b + a + c.</a>
<a id="⌞_⌟"></a><a id="2813" href="Tactic.Cong.html#2813" class="Function Operator">⌞_⌟</a> <a id="2817" class="Symbol">:</a> <a id="2819" class="Symbol">∀</a> <a id="2821" class="Symbol">{</a><a id="2822" href="Tactic.Cong.html#2822" class="Bound">a</a><a id="2823" class="Symbol">}</a> <a id="2825" class="Symbol">{</a><a id="2826" href="Tactic.Cong.html#2826" class="Bound">A</a> <a id="2828" class="Symbol">:</a> <a id="2830" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2834" href="Tactic.Cong.html#2822" class="Bound">a</a><a id="2835" class="Symbol">}</a> <a id="2837" class="Symbol">→</a> <a id="2839" href="Tactic.Cong.html#2826" class="Bound">A</a> <a id="2841" class="Symbol">→</a> <a id="2843" href="Tactic.Cong.html#2826" class="Bound">A</a>
<a id="2845" href="Tactic.Cong.html#2813" class="Function Operator">⌞_⌟</a> <a id="2849" href="Tactic.Cong.html#2849" class="Bound">x</a> <a id="2851" class="Symbol">=</a> <a id="2853" href="Tactic.Cong.html#2849" class="Bound">x</a>

<a id="2856" class="Comment">------------------------------------------------------------------------</a>
<a id="2929" class="Comment">-- Utilities</a>
<a id="2942" class="Comment">------------------------------------------------------------------------</a>

<a id="3016" class="Keyword">private</a>
  <a id="3026" class="Comment">-- Descend past a variable.</a>
  <a id="varDescend"></a><a id="3056" href="Tactic.Cong.html#3056" class="Function">varDescend</a> <a id="3067" class="Symbol">:</a> <a id="3069" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3071" class="Symbol">→</a> <a id="3073" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3075" class="Symbol">→</a> <a id="3077" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="3081" href="Tactic.Cong.html#3056" class="Function">varDescend</a> <a id="3092" href="Tactic.Cong.html#3092" class="Bound">ϕ</a> <a id="3094" href="Tactic.Cong.html#3094" class="Bound">x</a> <a id="3096" class="Symbol">=</a> <a id="3098" href="Data.Bool.Base.html#1515" class="Function Operator">if</a> <a id="3101" href="Tactic.Cong.html#3092" class="Bound">ϕ</a> <a id="3103" href="Data.Nat.Base.html#1483" class="Function Operator">ℕ.≤ᵇ</a> <a id="3108" href="Tactic.Cong.html#3094" class="Bound">x</a> <a id="3110" href="Data.Bool.Base.html#1515" class="Function Operator">then</a> <a id="3115" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3119" href="Tactic.Cong.html#3094" class="Bound">x</a> <a id="3121" href="Data.Bool.Base.html#1515" class="Function Operator">else</a> <a id="3126" href="Tactic.Cong.html#3094" class="Bound">x</a>

  <a id="3131" class="Comment">-- Descend a variable underneath pattern variables.</a>
  <a id="patternDescend"></a><a id="3185" href="Tactic.Cong.html#3185" class="Function">patternDescend</a> <a id="3200" class="Symbol">:</a> <a id="3202" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3204" class="Symbol">→</a> <a id="3206" href="Agda.Builtin.Reflection.html#5031" class="Datatype">Pattern</a> <a id="3214" class="Symbol">→</a> <a id="3216" href="Agda.Builtin.Reflection.html#5031" class="Datatype">Pattern</a> <a id="3224" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3226" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="patternsDescend"></a><a id="3230" href="Tactic.Cong.html#3230" class="Function">patternsDescend</a> <a id="3246" class="Symbol">:</a> <a id="3248" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3250" class="Symbol">→</a> <a id="3252" href="Reflection.AST.Argument.html#1546" class="Function">Args</a> <a id="3257" href="Agda.Builtin.Reflection.html#5031" class="Datatype">Pattern</a> <a id="3265" class="Symbol">→</a> <a id="3267" href="Reflection.AST.Argument.html#1546" class="Function">Args</a> <a id="3272" href="Agda.Builtin.Reflection.html#5031" class="Datatype">Pattern</a> <a id="3280" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3282" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

  <a id="3287" href="Tactic.Cong.html#3185" class="Function">patternDescend</a> <a id="3302" href="Tactic.Cong.html#3302" class="Bound">ϕ</a> <a id="3304" class="Symbol">(</a><a id="3305" href="Agda.Builtin.Reflection.html#5814" class="InductiveConstructor">con</a> <a id="3309" href="Tactic.Cong.html#3309" class="Bound">c</a> <a id="3311" href="Tactic.Cong.html#3311" class="Bound">ps</a><a id="3313" class="Symbol">)</a> <a id="3315" class="Symbol">=</a> <a id="3317" href="Data.Product.Base.html#2312" class="Function">map₁</a> <a id="3322" class="Symbol">(</a><a id="3323" href="Agda.Builtin.Reflection.html#5814" class="InductiveConstructor">con</a> <a id="3327" href="Tactic.Cong.html#3309" class="Bound">c</a><a id="3328" class="Symbol">)</a> <a id="3330" class="Symbol">(</a><a id="3331" href="Tactic.Cong.html#3230" class="Function">patternsDescend</a> <a id="3347" href="Tactic.Cong.html#3302" class="Bound">ϕ</a> <a id="3349" href="Tactic.Cong.html#3311" class="Bound">ps</a><a id="3351" class="Symbol">)</a>
  <a id="3355" href="Tactic.Cong.html#3185" class="Function">patternDescend</a> <a id="3370" href="Tactic.Cong.html#3370" class="Bound">ϕ</a> <a id="3372" class="Symbol">(</a><a id="3373" href="Agda.Builtin.Reflection.html#5872" class="InductiveConstructor">dot</a> <a id="3377" href="Tactic.Cong.html#3377" class="Bound">t</a><a id="3378" class="Symbol">)</a>    <a id="3383" class="Symbol">=</a> <a id="3385" href="Agda.Builtin.Reflection.html#5872" class="InductiveConstructor">dot</a> <a id="3389" href="Tactic.Cong.html#3377" class="Bound">t</a> <a id="3391" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3393" href="Tactic.Cong.html#3370" class="Bound">ϕ</a>
  <a id="3397" href="Tactic.Cong.html#3185" class="Function">patternDescend</a> <a id="3412" href="Tactic.Cong.html#3412" class="Bound">ϕ</a> <a id="3414" class="Symbol">(</a><a id="3415" href="Agda.Builtin.Reflection.html#5907" class="InductiveConstructor">var</a> <a id="3419" href="Tactic.Cong.html#3419" class="Bound">x</a><a id="3420" class="Symbol">)</a>    <a id="3425" class="Symbol">=</a> <a id="3427" href="Agda.Builtin.Reflection.html#5907" class="InductiveConstructor">var</a> <a id="3431" class="Symbol">(</a><a id="3432" href="Tactic.Cong.html#3056" class="Function">varDescend</a> <a id="3443" href="Tactic.Cong.html#3412" class="Bound">ϕ</a> <a id="3445" href="Tactic.Cong.html#3419" class="Bound">x</a><a id="3446" class="Symbol">)</a> <a id="3448" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3450" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3454" href="Tactic.Cong.html#3412" class="Bound">ϕ</a>
  <a id="3458" href="Tactic.Cong.html#3185" class="Function">patternDescend</a> <a id="3473" href="Tactic.Cong.html#3473" class="Bound">ϕ</a> <a id="3475" class="Symbol">(</a><a id="3476" href="Agda.Builtin.Reflection.html#5942" class="InductiveConstructor">lit</a> <a id="3480" href="Tactic.Cong.html#3480" class="Bound">l</a><a id="3481" class="Symbol">)</a>    <a id="3486" class="Symbol">=</a> <a id="3488" href="Agda.Builtin.Reflection.html#5942" class="InductiveConstructor">lit</a> <a id="3492" href="Tactic.Cong.html#3480" class="Bound">l</a> <a id="3494" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3496" href="Tactic.Cong.html#3473" class="Bound">ϕ</a>
  <a id="3500" href="Tactic.Cong.html#3185" class="Function">patternDescend</a> <a id="3515" href="Tactic.Cong.html#3515" class="Bound">ϕ</a> <a id="3517" class="Symbol">(</a><a id="3518" href="Agda.Builtin.Reflection.html#5977" class="InductiveConstructor">proj</a> <a id="3523" href="Tactic.Cong.html#3523" class="Bound">f</a><a id="3524" class="Symbol">)</a>   <a id="3528" class="Symbol">=</a> <a id="3530" href="Agda.Builtin.Reflection.html#5977" class="InductiveConstructor">proj</a> <a id="3535" href="Tactic.Cong.html#3523" class="Bound">f</a> <a id="3537" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3539" href="Tactic.Cong.html#3515" class="Bound">ϕ</a>
  <a id="3543" href="Tactic.Cong.html#3185" class="Function">patternDescend</a> <a id="3558" href="Tactic.Cong.html#3558" class="Bound">ϕ</a> <a id="3560" class="Symbol">(</a><a id="3561" href="Agda.Builtin.Reflection.html#6012" class="InductiveConstructor">absurd</a> <a id="3568" href="Tactic.Cong.html#3568" class="Bound">x</a><a id="3569" class="Symbol">)</a> <a id="3571" class="Symbol">=</a> <a id="3573" href="Agda.Builtin.Reflection.html#6012" class="InductiveConstructor">absurd</a> <a id="3580" class="Symbol">(</a><a id="3581" href="Tactic.Cong.html#3056" class="Function">varDescend</a> <a id="3592" href="Tactic.Cong.html#3558" class="Bound">ϕ</a> <a id="3594" href="Tactic.Cong.html#3568" class="Bound">x</a><a id="3595" class="Symbol">)</a> <a id="3597" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3599" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3603" href="Tactic.Cong.html#3558" class="Bound">ϕ</a>

  <a id="3608" href="Tactic.Cong.html#3230" class="Function">patternsDescend</a> <a id="3624" href="Tactic.Cong.html#3624" class="Bound">ϕ</a> <a id="3626" class="Symbol">((</a><a id="3628" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="3632" href="Tactic.Cong.html#3632" class="Bound">i</a> <a id="3634" href="Tactic.Cong.html#3634" class="Bound">p</a><a id="3635" class="Symbol">)</a> <a id="3637" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3639" href="Tactic.Cong.html#3639" class="Bound">ps</a><a id="3641" class="Symbol">)</a> <a id="3643" class="Symbol">=</a>
    <a id="3649" class="Keyword">let</a> <a id="3653" class="Symbol">(</a><a id="3654" href="Tactic.Cong.html#3654" class="Bound">p&#39;</a> <a id="3657" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3659" href="Tactic.Cong.html#3659" class="Bound">ϕ&#39;</a><a id="3661" class="Symbol">)</a> <a id="3663" class="Symbol">=</a> <a id="3665" href="Tactic.Cong.html#3185" class="Function">patternDescend</a> <a id="3680" href="Tactic.Cong.html#3624" class="Bound">ϕ</a> <a id="3682" href="Tactic.Cong.html#3634" class="Bound">p</a>
        <a id="3692" class="Symbol">(</a><a id="3693" href="Tactic.Cong.html#3693" class="Bound">ps&#39;</a> <a id="3697" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3699" href="Tactic.Cong.html#3699" class="Bound">ϕ&#39;&#39;</a><a id="3702" class="Symbol">)</a> <a id="3704" class="Symbol">=</a> <a id="3706" href="Tactic.Cong.html#3230" class="Function">patternsDescend</a> <a id="3722" href="Tactic.Cong.html#3659" class="Bound">ϕ&#39;</a> <a id="3725" href="Tactic.Cong.html#3639" class="Bound">ps</a>
    <a id="3732" class="Keyword">in</a> <a id="3735" class="Symbol">(</a><a id="3736" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="3740" href="Tactic.Cong.html#3632" class="Bound">i</a> <a id="3742" href="Tactic.Cong.html#3634" class="Bound">p</a> <a id="3744" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3746" href="Tactic.Cong.html#3693" class="Bound">ps&#39;</a> <a id="3750" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3752" href="Tactic.Cong.html#3699" class="Bound">ϕ&#39;&#39;</a><a id="3755" class="Symbol">)</a>
  <a id="3759" href="Tactic.Cong.html#3230" class="Function">patternsDescend</a> <a id="3775" href="Tactic.Cong.html#3775" class="Bound">ϕ</a> <a id="3777" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>       <a id="3786" class="Symbol">=</a>
    <a id="3792" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="3795" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3797" href="Tactic.Cong.html#3775" class="Bound">ϕ</a>

  <a id="3802" class="Comment">-- Construct an error when the goal is not &#39;x ≡ y&#39; for some &#39;x&#39; and &#39;y&#39;.</a>
  <a id="notEqualityError"></a><a id="3877" href="Tactic.Cong.html#3877" class="Function">notEqualityError</a> <a id="3894" class="Symbol">:</a> <a id="3896" class="Symbol">∀</a> <a id="3898" class="Symbol">{</a><a id="3899" href="Tactic.Cong.html#3899" class="Bound">A</a> <a id="3901" class="Symbol">:</a> <a id="3903" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="3906" class="Symbol">}</a> <a id="3908" href="Tactic.Cong.html#3908" class="Bound">Term</a> <a id="3913" class="Symbol">→</a> <a id="3915" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="3918" href="Tactic.Cong.html#3899" class="Bound">A</a>
  <a id="3922" href="Tactic.Cong.html#3877" class="Function">notEqualityError</a> <a id="3939" href="Tactic.Cong.html#3939" class="Bound">goal</a> <a id="3944" class="Symbol">=</a> <a id="3946" href="Agda.Builtin.Reflection.html#8830" class="Postulate">typeError</a> <a id="3956" class="Symbol">(</a><a id="3957" href="Agda.Builtin.Reflection.html#8238" class="InductiveConstructor">strErr</a> <a id="3964" class="String">&quot;Cannot rewrite a goal that is not equality: &quot;</a> <a id="4011" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4013" href="Agda.Builtin.Reflection.html#8269" class="InductiveConstructor">termErr</a> <a id="4021" href="Tactic.Cong.html#3939" class="Bound">goal</a> <a id="4026" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4028" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4030" class="Symbol">)</a>

  <a id="unificationError"></a><a id="4035" href="Tactic.Cong.html#4035" class="Function">unificationError</a> <a id="4052" class="Symbol">:</a> <a id="4054" class="Symbol">∀</a> <a id="4056" class="Symbol">{</a><a id="4057" href="Tactic.Cong.html#4057" class="Bound">A</a> <a id="4059" class="Symbol">:</a> <a id="4061" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="4064" class="Symbol">}</a> <a id="4066" class="Symbol">→</a> <a id="4068" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="4071" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4076" class="Symbol">→</a> <a id="4078" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="4081" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4086" class="Symbol">→</a> <a id="4088" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="4091" href="Tactic.Cong.html#4057" class="Bound">A</a>
  <a id="4095" href="Tactic.Cong.html#4035" class="Function">unificationError</a> <a id="4112" href="Tactic.Cong.html#4112" class="Bound">term</a> <a id="4117" href="Tactic.Cong.html#4117" class="Bound">symTerm</a> <a id="4125" class="Symbol">=</a> <a id="4127" class="Keyword">do</a>
    <a id="4134" href="Tactic.Cong.html#4134" class="Bound">term&#39;</a> <a id="4140" href="Reflection.TCM.Syntax.html#623" class="Function Operator">←</a> <a id="4142" href="Tactic.Cong.html#4112" class="Bound">term</a>
    <a id="4151" href="Tactic.Cong.html#4151" class="Bound">symTerm&#39;</a> <a id="4160" href="Reflection.TCM.Syntax.html#623" class="Function Operator">←</a> <a id="4162" href="Tactic.Cong.html#4117" class="Bound">symTerm</a>
    <a id="4174" class="Comment">-- Don&#39;t show the same term twice.</a>
    <a id="4213" class="Keyword">let</a> <a id="4217" href="Tactic.Cong.html#4217" class="Bound">symErr</a> <a id="4224" class="Symbol">=</a> <a id="4226" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="4231" href="Tactic.Cong.html#4134" class="Bound">term&#39;</a> <a id="4237" href="Reflection.AST.Term.html#5461" class="Function Operator">Term.≟</a> <a id="4244" href="Tactic.Cong.html#4151" class="Bound">symTerm&#39;</a> <a id="4253" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="4256" class="Symbol">λ</a> <a id="4258" class="Keyword">where</a>
      <a id="4270" class="Symbol">(</a><a id="4271" href="Relation.Nullary.Decidable.Core.html#2105" class="InductiveConstructor">yes</a> <a id="4275" class="Symbol">_)</a> <a id="4278" class="Symbol">→</a> <a id="4280" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
      <a id="4289" class="Symbol">(</a><a id="4290" href="Relation.Nullary.Decidable.Core.html#2142" class="InductiveConstructor">no</a> <a id="4293" class="Symbol">_)</a> <a id="4296" class="Symbol">→</a> <a id="4298" href="Agda.Builtin.Reflection.html#8238" class="InductiveConstructor">strErr</a> <a id="4305" class="String">&quot;\n&quot;</a> <a id="4310" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4312" href="Agda.Builtin.Reflection.html#8269" class="InductiveConstructor">termErr</a> <a id="4320" href="Tactic.Cong.html#4151" class="Bound">symTerm&#39;</a> <a id="4329" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4331" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="4338" href="Agda.Builtin.Reflection.html#8830" class="Postulate">typeError</a> <a id="4348" class="Symbol">(</a><a id="4349" href="Agda.Builtin.Reflection.html#8238" class="InductiveConstructor">strErr</a> <a id="4356" class="String">&quot;cong! failed, tried:\n&quot;</a> <a id="4381" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4383" href="Agda.Builtin.Reflection.html#8269" class="InductiveConstructor">termErr</a> <a id="4391" href="Tactic.Cong.html#4134" class="Bound">term&#39;</a> <a id="4397" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4399" href="Tactic.Cong.html#4217" class="Bound">symErr</a><a id="4405" class="Symbol">)</a>

  <a id="4410" class="Keyword">record</a> <a id="EqualityGoal"></a><a id="4417" href="Tactic.Cong.html#4417" class="Record">EqualityGoal</a> <a id="4430" class="Symbol">:</a> <a id="4432" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="4436" class="Keyword">where</a>
    <a id="4446" class="Keyword">constructor</a> <a id="equals"></a><a id="4458" href="Tactic.Cong.html#4458" class="InductiveConstructor">equals</a>
    <a id="4469" class="Keyword">field</a>
      <a id="EqualityGoal.level"></a><a id="4481" href="Tactic.Cong.html#4481" class="Field">level</a> <a id="4487" class="Symbol">:</a> <a id="4489" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
      <a id="EqualityGoal.type"></a><a id="4500" href="Tactic.Cong.html#4500" class="Field">type</a>  <a id="4506" class="Symbol">:</a> <a id="4508" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
      <a id="EqualityGoal.lhs"></a><a id="4519" href="Tactic.Cong.html#4519" class="Field">lhs</a>   <a id="4525" class="Symbol">:</a> <a id="4527" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
      <a id="EqualityGoal.rhs"></a><a id="4538" href="Tactic.Cong.html#4538" class="Field">rhs</a>   <a id="4544" class="Symbol">:</a> <a id="4546" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>

  <a id="destructEqualityGoal"></a><a id="4554" href="Tactic.Cong.html#4554" class="Function">destructEqualityGoal</a> <a id="4575" class="Symbol">:</a> <a id="4577" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4582" class="Symbol">→</a> <a id="4584" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="4587" href="Tactic.Cong.html#4417" class="Record">EqualityGoal</a>
  <a id="4602" href="Tactic.Cong.html#4554" class="Function">destructEqualityGoal</a> <a id="4623" href="Tactic.Cong.html#4623" class="Bound">goal</a><a id="4627" class="Symbol">@(</a><a id="4629" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="4633" class="Symbol">(</a><a id="4634" class="Keyword">quote</a> <a id="4640" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="4643" class="Symbol">)</a> <a id="4645" class="Symbol">(</a><a id="4646" href="Tactic.Cong.html#4646" class="Bound">lvl</a> <a id="4650" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4652" href="Tactic.Cong.html#4652" class="Bound">tp</a> <a id="4655" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4657" href="Tactic.Cong.html#4657" class="Bound">lhs</a> <a id="4661" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4663" href="Tactic.Cong.html#4663" class="Bound">rhs</a> <a id="4667" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4669" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4671" class="Symbol">))</a> <a id="4674" class="Symbol">=</a>
    <a id="4680" href="Reflection.TCM.html#1087" class="Postulate">pure</a> <a id="4685" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="4687" href="Tactic.Cong.html#4458" class="InductiveConstructor">equals</a> <a id="4694" class="Symbol">(</a><a id="4695" href="Reflection.AST.Argument.html#2600" class="Function">unArg</a> <a id="4701" href="Tactic.Cong.html#4646" class="Bound">lvl</a><a id="4704" class="Symbol">)</a> <a id="4706" class="Symbol">(</a><a id="4707" href="Reflection.AST.Argument.html#2600" class="Function">unArg</a> <a id="4713" href="Tactic.Cong.html#4652" class="Bound">tp</a><a id="4715" class="Symbol">)</a> <a id="4717" class="Symbol">(</a><a id="4718" href="Reflection.AST.Argument.html#2600" class="Function">unArg</a> <a id="4724" href="Tactic.Cong.html#4657" class="Bound">lhs</a><a id="4727" class="Symbol">)</a> <a id="4729" class="Symbol">(</a><a id="4730" href="Reflection.AST.Argument.html#2600" class="Function">unArg</a> <a id="4736" href="Tactic.Cong.html#4663" class="Bound">rhs</a><a id="4739" class="Symbol">)</a>
  <a id="4743" href="Tactic.Cong.html#4554" class="Function">destructEqualityGoal</a> <a id="4764" class="Symbol">(</a><a id="4765" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="4770" href="Tactic.Cong.html#4770" class="Bound">m</a> <a id="4772" href="Tactic.Cong.html#4772" class="Bound">args</a><a id="4776" class="Symbol">)</a> <a id="4778" class="Symbol">=</a>
    <a id="4784" href="Agda.Builtin.Reflection.html#20034" class="Function">blockOnMeta</a> <a id="4796" href="Tactic.Cong.html#4770" class="Bound">m</a>
  <a id="4800" href="Tactic.Cong.html#4554" class="CatchallClause Function">destructEqualityGoal</a><a id="4820" class="CatchallClause"> </a><a id="4821" href="Tactic.Cong.html#4821" class="CatchallClause Bound">goal</a> <a id="4826" class="Symbol">=</a>
    <a id="4832" href="Tactic.Cong.html#3877" class="Function">notEqualityError</a> <a id="4849" href="Tactic.Cong.html#4821" class="Bound">goal</a>

  <a id="4857" class="Comment">-- Helper for constructing applications of &#39;cong&#39;</a>
  <a id="`cong"></a><a id="4909" href="Tactic.Cong.html#4909" class="Function">`cong</a> <a id="4915" class="Symbol">:</a> <a id="4917" class="Symbol">∀</a> <a id="4919" class="Symbol">{</a><a id="4920" href="Tactic.Cong.html#4920" class="Bound">a</a><a id="4921" class="Symbol">}</a> <a id="4923" class="Symbol">{</a><a id="4924" href="Tactic.Cong.html#4924" class="Bound">A</a> <a id="4926" class="Symbol">:</a> <a id="4928" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="4932" href="Tactic.Cong.html#4920" class="Bound">a</a><a id="4933" class="Symbol">}</a> <a id="4935" class="Symbol">{</a><a id="4936" href="Tactic.Cong.html#4936" class="Bound">x</a> <a id="4938" href="Tactic.Cong.html#4938" class="Bound">y</a> <a id="4940" class="Symbol">:</a> <a id="4942" href="Tactic.Cong.html#4924" class="Bound">A</a><a id="4943" class="Symbol">}</a> <a id="4945" class="Symbol">→</a> <a id="4947" href="Tactic.Cong.html#4417" class="Record">EqualityGoal</a> <a id="4960" class="Symbol">→</a> <a id="4962" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4967" class="Symbol">→</a> <a id="4969" href="Tactic.Cong.html#4936" class="Bound">x</a> <a id="4971" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4973" href="Tactic.Cong.html#4938" class="Bound">y</a> <a id="4975" class="Symbol">→</a> <a id="4977" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="4980" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="4987" href="Tactic.Cong.html#4909" class="Function">`cong</a> <a id="4993" class="Symbol">{</a><a id="4994" class="Argument">a</a> <a id="4996" class="Symbol">=</a> <a id="4998" href="Tactic.Cong.html#4998" class="Bound">a</a><a id="4999" class="Symbol">}</a> <a id="5001" class="Symbol">{</a><a id="5002" class="Argument">A</a> <a id="5004" class="Symbol">=</a> <a id="5006" href="Tactic.Cong.html#5006" class="Bound">A</a><a id="5007" class="Symbol">}</a> <a id="5009" class="Symbol">{</a><a id="5010" class="Argument">x</a> <a id="5012" class="Symbol">=</a> <a id="5014" href="Tactic.Cong.html#5014" class="Bound">x</a><a id="5015" class="Symbol">}</a> <a id="5017" class="Symbol">{</a><a id="5018" class="Argument">y</a> <a id="5020" class="Symbol">=</a> <a id="5022" href="Tactic.Cong.html#5022" class="Bound">y</a><a id="5023" class="Symbol">}</a> <a id="5025" href="Tactic.Cong.html#5025" class="Bound">eqGoal</a> <a id="5032" href="Tactic.Cong.html#5032" class="Bound">f</a> <a id="5034" href="Tactic.Cong.html#5034" class="Bound">x≡y</a> <a id="5038" class="Symbol">=</a> <a id="5040" class="Keyword">do</a>
    <a id="5047" class="Comment">-- NOTE: We apply all implicit arguments here to ensure that using</a>
    <a id="5118" class="Comment">-- equality proofs with implicits don&#39;t lead to unsolved metavariable</a>
    <a id="5192" class="Comment">-- errors.</a>
    <a id="5207" class="Keyword">let</a> <a id="5211" class="Keyword">open</a> <a id="5216" href="Tactic.Cong.html#4417" class="Module">EqualityGoal</a> <a id="5229" href="Tactic.Cong.html#5025" class="Bound">eqGoal</a>
    <a id="5240" href="Tactic.Cong.html#5240" class="Bound">eq</a> <a id="5243" href="Reflection.TCM.Syntax.html#623" class="Function Operator">←</a> <a id="5245" href="Agda.Builtin.Reflection.html#9104" class="Postulate">quoteTC</a> <a id="5253" href="Tactic.Cong.html#5034" class="Bound">x≡y</a>
    <a id="5261" href="Tactic.Cong.html#5261" class="Bound">`a</a> <a id="5264" href="Reflection.TCM.Syntax.html#623" class="Function Operator">←</a> <a id="5266" href="Agda.Builtin.Reflection.html#9104" class="Postulate">quoteTC</a> <a id="5274" href="Tactic.Cong.html#4998" class="Bound">a</a>
    <a id="5280" href="Tactic.Cong.html#5280" class="Bound">`A</a> <a id="5283" href="Reflection.TCM.Syntax.html#623" class="Function Operator">←</a> <a id="5285" href="Agda.Builtin.Reflection.html#9104" class="Postulate">quoteTC</a> <a id="5293" href="Tactic.Cong.html#5006" class="Bound">A</a>
    <a id="5299" href="Tactic.Cong.html#5299" class="Bound">`x</a> <a id="5302" href="Reflection.TCM.Syntax.html#623" class="Function Operator">←</a> <a id="5304" href="Agda.Builtin.Reflection.html#9104" class="Postulate">quoteTC</a> <a id="5312" href="Tactic.Cong.html#5014" class="Bound">x</a>
    <a id="5318" href="Tactic.Cong.html#5318" class="Bound">`y</a> <a id="5321" href="Reflection.TCM.Syntax.html#623" class="Function Operator">←</a> <a id="5323" href="Agda.Builtin.Reflection.html#9104" class="Postulate">quoteTC</a> <a id="5331" href="Tactic.Cong.html#5022" class="Bound">y</a>
    <a id="5337" href="Reflection.TCM.html#1087" class="Postulate">pure</a> <a id="5342" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="5344" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="5348" class="Symbol">(</a><a id="5349" class="Keyword">quote</a> <a id="5355" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a><a id="5359" class="Symbol">)</a> <a id="5361" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="5363" href="Tactic.Cong.html#5261" class="Bound">`a</a> <a id="5366" href="Reflection.AST.Argument.html#1759" class="InductiveConstructor Operator">⟅∷⟆</a> <a id="5370" href="Tactic.Cong.html#5280" class="Bound">`A</a> <a id="5373" href="Reflection.AST.Argument.html#1759" class="InductiveConstructor Operator">⟅∷⟆</a> <a id="5377" href="Tactic.Cong.html#4481" class="Function">level</a> <a id="5383" href="Reflection.AST.Argument.html#1759" class="InductiveConstructor Operator">⟅∷⟆</a> <a id="5387" href="Tactic.Cong.html#4500" class="Function">type</a> <a id="5392" href="Reflection.AST.Argument.html#1759" class="InductiveConstructor Operator">⟅∷⟆</a> <a id="5396" href="Reflection.AST.Term.html#2000" class="InductiveConstructor">vLam</a> <a id="5401" class="String">&quot;ϕ&quot;</a> <a id="5405" href="Tactic.Cong.html#5032" class="Bound">f</a> <a id="5407" href="Reflection.AST.Argument.html#1663" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="5411" href="Tactic.Cong.html#5299" class="Bound">`x</a> <a id="5414" href="Reflection.AST.Argument.html#1759" class="InductiveConstructor Operator">⟅∷⟆</a> <a id="5418" href="Tactic.Cong.html#5318" class="Bound">`y</a> <a id="5421" href="Reflection.AST.Argument.html#1759" class="InductiveConstructor Operator">⟅∷⟆</a> <a id="5425" href="Tactic.Cong.html#5240" class="Bound">eq</a> <a id="5428" href="Reflection.AST.Argument.html#1663" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="5432" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

<a id="5436" class="Comment">------------------------------------------------------------------------</a>
<a id="5509" class="Comment">-- Anti-Unification</a>
<a id="5529" class="Comment">--</a>
<a id="5532" class="Comment">-- The core idea of the tactic is that we can compute the input</a>
<a id="5596" class="Comment">-- to &#39;cong&#39; by syntactically anti-unifying both sides of the</a>
<a id="5658" class="Comment">-- equality, and then using that to construct a lambda</a>
<a id="5713" class="Comment">-- where all the differences are replaced by the lambda-abstracted</a>
<a id="5780" class="Comment">-- variable.</a>
<a id="5793" class="Comment">--</a>
<a id="5796" class="Comment">-- For instance, the two terms &#39;suc (m + (m + 0)) + (m + 0)&#39; and</a>
<a id="5861" class="Comment">-- &#39;suc (m + m) + (m + 0)&#39; would anti unify to &#39;suc (m + _) + (m + 0)&#39;</a>
<a id="5932" class="Comment">-- which we can then use to construct the lambda &#39;λ ϕ → suc (m + ϕ) + (m + 0)&#39;.</a>
<a id="6012" class="Comment">------------------------------------------------------------------------</a>

<a id="6086" class="Keyword">private</a>
  <a id="antiUnify"></a><a id="6096" href="Tactic.Cong.html#6096" class="Function">antiUnify</a>        <a id="6113" class="Symbol">:</a> <a id="6115" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6117" class="Symbol">→</a> <a id="6119" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6124" class="Symbol">→</a> <a id="6126" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6131" class="Symbol">→</a> <a id="6133" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="antiUnifyArgs"></a><a id="6140" href="Tactic.Cong.html#6140" class="Function">antiUnifyArgs</a>    <a id="6157" class="Symbol">:</a> <a id="6159" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6161" class="Symbol">→</a> <a id="6163" href="Reflection.AST.Argument.html#1546" class="Function">Args</a> <a id="6168" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6173" class="Symbol">→</a> <a id="6175" href="Reflection.AST.Argument.html#1546" class="Function">Args</a> <a id="6180" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6185" class="Symbol">→</a> <a id="6187" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="6193" class="Symbol">(</a><a id="6194" href="Reflection.AST.Argument.html#1546" class="Function">Args</a> <a id="6199" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="6203" class="Symbol">)</a>
  <a id="antiUnifyClauses"></a><a id="6207" href="Tactic.Cong.html#6207" class="Function">antiUnifyClauses</a> <a id="6224" class="Symbol">:</a> <a id="6226" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6228" class="Symbol">→</a> <a id="6230" href="Reflection.AST.Term.html#1850" class="Function">Clauses</a> <a id="6238" class="Symbol">→</a> <a id="6240" href="Reflection.AST.Term.html#1850" class="Function">Clauses</a> <a id="6248" class="Symbol">→</a> <a id="6250" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="6256" href="Reflection.AST.Term.html#1850" class="Function">Clauses</a>
  <a id="antiUnifyClause"></a><a id="6266" href="Tactic.Cong.html#6266" class="Function">antiUnifyClause</a>  <a id="6283" class="Symbol">:</a> <a id="6285" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6287" class="Symbol">→</a> <a id="6289" href="Agda.Builtin.Reflection.html#5050" class="Datatype">Clause</a> <a id="6296" class="Symbol">→</a> <a id="6298" href="Agda.Builtin.Reflection.html#5050" class="Datatype">Clause</a> <a id="6305" class="Symbol">→</a> <a id="6307" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="6313" href="Agda.Builtin.Reflection.html#5050" class="Datatype">Clause</a>

  <a id="6323" class="Keyword">pattern</a> <a id="apply-⌞⌟"></a><a id="6331" href="Tactic.Cong.html#6331" class="InductiveConstructor">apply-⌞⌟</a> <a id="6340" href="Tactic.Cong.html#6376" class="Bound">t</a> <a id="6342" class="Symbol">=</a> <a id="6344" class="Symbol">(</a><a id="6345" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="6349" class="Symbol">(</a><a id="6350" class="Keyword">quote</a> <a id="6356" href="Tactic.Cong.html#2813" class="Function Operator">⌞_⌟</a><a id="6359" class="Symbol">)</a> <a id="6361" class="Symbol">(_</a> <a id="6364" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6366" class="Symbol">_</a> <a id="6368" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6370" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6374" class="Symbol">_</a> <a id="6376" href="Tactic.Cong.html#6376" class="Bound">t</a> <a id="6378" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6380" class="InductiveConstructor">[]</a><a id="6382" class="Symbol">))</a>

  <a id="6388" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="6398" href="Tactic.Cong.html#6398" class="Bound">ϕ</a> <a id="6400" class="Symbol">(</a><a id="6401" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="6405" href="Tactic.Cong.html#6405" class="Bound">x</a> <a id="6407" href="Tactic.Cong.html#6407" class="Bound">args</a><a id="6411" class="Symbol">)</a> <a id="6413" class="Symbol">(</a><a id="6414" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="6418" href="Tactic.Cong.html#6418" class="Bound">y</a> <a id="6420" href="Tactic.Cong.html#6420" class="Bound">args&#39;</a><a id="6425" class="Symbol">)</a> <a id="6427" class="Keyword">with</a> <a id="6432" href="Tactic.Cong.html#6405" class="Bound">x</a> <a id="6434" href="Data.Nat.Base.html#1289" class="Primitive Operator">ℕ.≡ᵇ</a> <a id="6439" href="Tactic.Cong.html#6418" class="Bound">y</a> <a id="6441" class="Symbol">|</a> <a id="6443" href="Tactic.Cong.html#6140" class="Function">antiUnifyArgs</a> <a id="6457" href="Tactic.Cong.html#6398" class="Bound">ϕ</a> <a id="6459" href="Tactic.Cong.html#6407" class="Bound">args</a> <a id="6464" href="Tactic.Cong.html#6420" class="Bound">args&#39;</a>
  <a id="6472" class="Symbol">...</a> <a id="6476" class="Symbol">|</a> <a id="6478" class="Symbol">_</a>     <a id="6484" class="Symbol">|</a> <a id="6486" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>    <a id="6497" class="Symbol">=</a> <a id="6499" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="6503" class="Bound">ϕ</a> <a id="6505" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="6510" class="Symbol">...</a> <a id="6514" class="Symbol">|</a> <a id="6516" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="6522" class="Symbol">|</a> <a id="6524" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6529" href="Tactic.Cong.html#6529" class="Bound">uargs</a> <a id="6535" class="Symbol">=</a> <a id="6537" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="6541" class="Bound">ϕ</a> <a id="6543" href="Tactic.Cong.html#6529" class="Bound">uargs</a>
  <a id="6551" class="Symbol">...</a> <a id="6555" class="Symbol">|</a> <a id="6557" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="6563" class="Symbol">|</a> <a id="6565" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6570" href="Tactic.Cong.html#6570" class="Bound">uargs</a> <a id="6576" class="Symbol">=</a> <a id="6578" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="6582" class="Symbol">(</a><a id="6583" href="Tactic.Cong.html#3056" class="Function">varDescend</a> <a id="6594" class="Bound">ϕ</a> <a id="6596" class="Bound">x</a><a id="6597" class="Symbol">)</a> <a id="6599" href="Tactic.Cong.html#6570" class="Bound">uargs</a>
  <a id="6607" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="6617" href="Tactic.Cong.html#6617" class="Bound">ϕ</a> <a id="6619" class="Symbol">(</a><a id="6620" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="6624" href="Tactic.Cong.html#6624" class="Bound">c</a> <a id="6626" href="Tactic.Cong.html#6626" class="Bound">args</a><a id="6630" class="Symbol">)</a> <a id="6632" class="Symbol">(</a><a id="6633" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="6637" href="Tactic.Cong.html#6637" class="Bound">c&#39;</a> <a id="6640" href="Tactic.Cong.html#6640" class="Bound">args&#39;</a><a id="6645" class="Symbol">)</a> <a id="6647" class="Keyword">with</a> <a id="6652" href="Tactic.Cong.html#6624" class="Bound">c</a> <a id="6654" href="Agda.Builtin.Reflection.html#539" class="Primitive Operator">Name.≡ᵇ</a> <a id="6662" href="Tactic.Cong.html#6637" class="Bound">c&#39;</a> <a id="6665" class="Symbol">|</a> <a id="6667" href="Tactic.Cong.html#6140" class="Function">antiUnifyArgs</a> <a id="6681" href="Tactic.Cong.html#6617" class="Bound">ϕ</a> <a id="6683" href="Tactic.Cong.html#6626" class="Bound">args</a> <a id="6688" href="Tactic.Cong.html#6640" class="Bound">args&#39;</a>
  <a id="6696" class="Symbol">...</a> <a id="6700" class="Symbol">|</a> <a id="6702" class="Symbol">_</a>     <a id="6708" class="Symbol">|</a> <a id="6710" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>    <a id="6721" class="Symbol">=</a> <a id="6723" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="6727" class="Bound">ϕ</a> <a id="6729" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="6734" class="Symbol">...</a> <a id="6738" class="Symbol">|</a> <a id="6740" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="6746" class="Symbol">|</a> <a id="6748" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6753" href="Tactic.Cong.html#6753" class="Bound">uargs</a> <a id="6759" class="Symbol">=</a> <a id="6761" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="6765" class="Bound">ϕ</a> <a id="6767" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="6772" class="Symbol">...</a> <a id="6776" class="Symbol">|</a> <a id="6778" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="6784" class="Symbol">|</a> <a id="6786" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6791" href="Tactic.Cong.html#6791" class="Bound">uargs</a> <a id="6797" class="Symbol">=</a> <a id="6799" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="6803" class="Bound">c</a> <a id="6805" href="Tactic.Cong.html#6791" class="Bound">uargs</a>
  <a id="6813" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="6823" href="Tactic.Cong.html#6823" class="Bound">ϕ</a> <a id="6825" class="Symbol">(</a><a id="6826" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="6830" href="Tactic.Cong.html#6830" class="Bound">f</a> <a id="6832" href="Tactic.Cong.html#6832" class="Bound">args</a><a id="6836" class="Symbol">)</a> <a id="6838" class="Symbol">(</a><a id="6839" href="Tactic.Cong.html#6331" class="InductiveConstructor">apply-⌞⌟</a> <a id="6848" href="Tactic.Cong.html#6848" class="Bound">t</a><a id="6849" class="Symbol">)</a> <a id="6851" class="Symbol">=</a> <a id="6853" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="6863" href="Tactic.Cong.html#6823" class="Bound">ϕ</a> <a id="6865" class="Symbol">(</a><a id="6866" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="6870" href="Tactic.Cong.html#6830" class="Bound">f</a> <a id="6872" href="Tactic.Cong.html#6832" class="Bound">args</a><a id="6876" class="Symbol">)</a> <a id="6878" href="Tactic.Cong.html#6848" class="Bound">t</a>
  <a id="6882" href="Tactic.Cong.html#6096" class="CatchallClause Function">antiUnify</a><a id="6891" class="CatchallClause"> </a><a id="6892" href="Tactic.Cong.html#6892" class="CatchallClause Bound">ϕ</a><a id="6893" class="CatchallClause"> </a><a id="6894" class="CatchallClause Symbol">(</a><a id="6895" href="Agda.Builtin.Reflection.html#5251" class="CatchallClause InductiveConstructor">def</a><a id="6898" class="CatchallClause"> </a><a id="6899" href="Tactic.Cong.html#6899" class="CatchallClause Bound">f</a><a id="6900" class="CatchallClause"> </a><a id="6901" href="Tactic.Cong.html#6901" class="CatchallClause Bound">args</a><a id="6905" class="CatchallClause Symbol">)</a><a id="6906" class="CatchallClause"> </a><a id="6907" class="CatchallClause Symbol">(</a><a id="6908" href="Agda.Builtin.Reflection.html#5251" class="CatchallClause InductiveConstructor">def</a><a id="6911" class="CatchallClause"> </a><a id="6912" href="Tactic.Cong.html#6912" class="CatchallClause Bound">f&#39;</a><a id="6914" class="CatchallClause"> </a><a id="6915" href="Tactic.Cong.html#6915" class="CatchallClause Bound">args&#39;</a><a id="6920" class="CatchallClause Symbol">)</a> <a id="6922" class="Keyword">with</a> <a id="6927" href="Tactic.Cong.html#6899" class="Bound">f</a> <a id="6929" href="Agda.Builtin.Reflection.html#539" class="Primitive Operator">Name.≡ᵇ</a> <a id="6937" href="Tactic.Cong.html#6912" class="Bound">f&#39;</a> <a id="6940" class="Symbol">|</a> <a id="6942" href="Tactic.Cong.html#6140" class="Function">antiUnifyArgs</a> <a id="6956" href="Tactic.Cong.html#6892" class="Bound">ϕ</a> <a id="6958" href="Tactic.Cong.html#6901" class="Bound">args</a> <a id="6963" href="Tactic.Cong.html#6915" class="Bound">args&#39;</a>
  <a id="6971" class="Symbol">...</a> <a id="6975" class="Symbol">|</a> <a id="6977" class="Symbol">_</a>     <a id="6983" class="Symbol">|</a> <a id="6985" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>    <a id="6996" class="Symbol">=</a> <a id="6998" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="7002" class="Bound">ϕ</a> <a id="7004" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="7009" class="Symbol">...</a> <a id="7013" class="Symbol">|</a> <a id="7015" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="7021" class="Symbol">|</a> <a id="7023" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7028" href="Tactic.Cong.html#7028" class="Bound">uargs</a> <a id="7034" class="Symbol">=</a> <a id="7036" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="7040" class="Bound">ϕ</a> <a id="7042" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="7047" class="Symbol">...</a> <a id="7051" class="Symbol">|</a> <a id="7053" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="7059" class="Symbol">|</a> <a id="7061" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7066" href="Tactic.Cong.html#7066" class="Bound">uargs</a> <a id="7072" class="Symbol">=</a> <a id="7074" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="7078" class="Bound">f</a> <a id="7080" href="Tactic.Cong.html#7066" class="Bound">uargs</a>
  <a id="7088" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="7098" href="Tactic.Cong.html#7098" class="Bound">ϕ</a> <a id="7100" class="Symbol">(</a><a id="7101" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="7105" href="Tactic.Cong.html#7105" class="Bound">v</a> <a id="7107" class="Symbol">(</a><a id="7108" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="7112" href="Tactic.Cong.html#7112" class="Bound">s</a> <a id="7114" href="Tactic.Cong.html#7114" class="Bound">t</a><a id="7115" class="Symbol">))</a> <a id="7118" class="Symbol">(</a><a id="7119" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="7123" class="Symbol">_</a> <a id="7125" class="Symbol">(</a><a id="7126" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="7130" class="Symbol">_</a> <a id="7132" href="Tactic.Cong.html#7132" class="Bound">t&#39;</a><a id="7134" class="Symbol">))</a> <a id="7137" class="Symbol">=</a>
    <a id="7143" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="7147" href="Tactic.Cong.html#7105" class="Bound">v</a> <a id="7149" class="Symbol">(</a><a id="7150" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="7154" href="Tactic.Cong.html#7112" class="Bound">s</a> <a id="7156" class="Symbol">(</a><a id="7157" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="7167" class="Symbol">(</a><a id="7168" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="7172" href="Tactic.Cong.html#7098" class="Bound">ϕ</a><a id="7173" class="Symbol">)</a> <a id="7175" href="Tactic.Cong.html#7114" class="Bound">t</a> <a id="7177" href="Tactic.Cong.html#7132" class="Bound">t&#39;</a><a id="7179" class="Symbol">))</a>
  <a id="7184" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="7194" href="Tactic.Cong.html#7194" class="Bound">ϕ</a> <a id="7196" class="Symbol">(</a><a id="7197" href="Agda.Builtin.Reflection.html#5361" class="InductiveConstructor">pat-lam</a> <a id="7205" href="Tactic.Cong.html#7205" class="Bound">cs</a> <a id="7208" href="Tactic.Cong.html#7208" class="Bound">args</a><a id="7212" class="Symbol">)</a> <a id="7214" class="Symbol">(</a><a id="7215" href="Agda.Builtin.Reflection.html#5361" class="InductiveConstructor">pat-lam</a> <a id="7223" href="Tactic.Cong.html#7223" class="Bound">cs&#39;</a> <a id="7227" href="Tactic.Cong.html#7227" class="Bound">args&#39;</a><a id="7232" class="Symbol">)</a> <a id="7234" class="Keyword">with</a> <a id="7239" href="Tactic.Cong.html#6207" class="Function">antiUnifyClauses</a> <a id="7256" href="Tactic.Cong.html#7194" class="Bound">ϕ</a> <a id="7258" href="Tactic.Cong.html#7205" class="Bound">cs</a> <a id="7261" href="Tactic.Cong.html#7223" class="Bound">cs&#39;</a> <a id="7265" class="Symbol">|</a> <a id="7267" href="Tactic.Cong.html#6140" class="Function">antiUnifyArgs</a> <a id="7281" href="Tactic.Cong.html#7194" class="Bound">ϕ</a> <a id="7283" href="Tactic.Cong.html#7208" class="Bound">args</a> <a id="7288" href="Tactic.Cong.html#7227" class="Bound">args&#39;</a>
  <a id="7296" class="Symbol">...</a> <a id="7300" class="Symbol">|</a> <a id="7302" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="7311" class="Symbol">|</a> <a id="7313" class="Symbol">_</a>       <a id="7321" class="Symbol">=</a> <a id="7323" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="7327" class="Bound">ϕ</a> <a id="7329" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="7334" class="CatchallClause Symbol">...</a><a id="7337" class="CatchallClause"> </a><a id="7338" class="CatchallClause Symbol">|</a><a id="7339" class="CatchallClause"> </a><a id="7340" class="CatchallClause Symbol">_</a><a id="7341" class="CatchallClause">        </a><a id="7349" class="CatchallClause Symbol">|</a><a id="7350" class="CatchallClause"> </a><a id="7351" href="Agda.Builtin.Maybe.html#194" class="CatchallClause InductiveConstructor">nothing</a> <a id="7359" class="Symbol">=</a> <a id="7361" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="7365" class="Bound">ϕ</a> <a id="7367" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="7372" class="Symbol">...</a> <a id="7376" class="Symbol">|</a> <a id="7378" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7383" href="Tactic.Cong.html#7383" class="Bound">ucs</a> <a id="7387" class="Symbol">|</a> <a id="7389" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7394" href="Tactic.Cong.html#7394" class="Bound">uargs</a> <a id="7400" class="Symbol">=</a> <a id="7402" href="Agda.Builtin.Reflection.html#5361" class="InductiveConstructor">pat-lam</a> <a id="7410" href="Tactic.Cong.html#7383" class="Bound">ucs</a> <a id="7414" href="Tactic.Cong.html#7394" class="Bound">uargs</a>
  <a id="7422" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="7432" href="Tactic.Cong.html#7432" class="Bound">ϕ</a> <a id="7434" class="Symbol">(</a><a id="7435" href="Reflection.AST.Term.html#2159" class="InductiveConstructor Operator">Π[</a> <a id="7438" href="Tactic.Cong.html#7438" class="Bound">s</a> <a id="7440" href="Reflection.AST.Term.html#2159" class="InductiveConstructor Operator">∶</a> <a id="7442" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="7446" href="Tactic.Cong.html#7446" class="Bound">i</a> <a id="7448" href="Tactic.Cong.html#7448" class="Bound">a</a> <a id="7450" href="Reflection.AST.Term.html#2159" class="InductiveConstructor Operator">]</a> <a id="7452" href="Tactic.Cong.html#7452" class="Bound">b</a><a id="7453" class="Symbol">)</a> <a id="7455" class="Symbol">(</a><a id="7456" href="Reflection.AST.Term.html#2159" class="InductiveConstructor Operator">Π[</a> <a id="7459" class="Symbol">_</a> <a id="7461" href="Reflection.AST.Term.html#2159" class="InductiveConstructor Operator">∶</a> <a id="7463" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="7467" class="Symbol">_</a> <a id="7469" href="Tactic.Cong.html#7469" class="Bound">a&#39;</a> <a id="7472" href="Reflection.AST.Term.html#2159" class="InductiveConstructor Operator">]</a> <a id="7474" href="Tactic.Cong.html#7474" class="Bound">b&#39;</a><a id="7476" class="Symbol">)</a> <a id="7478" class="Symbol">=</a>
    <a id="7484" href="Reflection.AST.Term.html#2159" class="InductiveConstructor Operator">Π[</a> <a id="7487" href="Tactic.Cong.html#7438" class="Bound">s</a> <a id="7489" href="Reflection.AST.Term.html#2159" class="InductiveConstructor Operator">∶</a> <a id="7491" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="7495" href="Tactic.Cong.html#7446" class="Bound">i</a> <a id="7497" class="Symbol">(</a><a id="7498" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="7508" href="Tactic.Cong.html#7432" class="Bound">ϕ</a> <a id="7510" href="Tactic.Cong.html#7448" class="Bound">a</a> <a id="7512" href="Tactic.Cong.html#7469" class="Bound">a&#39;</a><a id="7514" class="Symbol">)</a> <a id="7516" href="Reflection.AST.Term.html#2159" class="InductiveConstructor Operator">]</a> <a id="7518" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="7528" class="Symbol">(</a><a id="7529" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="7533" href="Tactic.Cong.html#7432" class="Bound">ϕ</a><a id="7534" class="Symbol">)</a> <a id="7536" href="Tactic.Cong.html#7452" class="Bound">b</a> <a id="7538" href="Tactic.Cong.html#7474" class="Bound">b&#39;</a>
  <a id="7543" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="7553" href="Tactic.Cong.html#7553" class="Bound">ϕ</a> <a id="7555" class="Symbol">(</a><a id="7556" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">sort</a> <a id="7561" class="Symbol">(</a><a id="7562" href="Agda.Builtin.Reflection.html#5630" class="InductiveConstructor">set</a> <a id="7566" href="Tactic.Cong.html#7566" class="Bound">t</a><a id="7567" class="Symbol">))</a> <a id="7570" class="Symbol">(</a><a id="7571" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">sort</a> <a id="7576" class="Symbol">(</a><a id="7577" href="Agda.Builtin.Reflection.html#5630" class="InductiveConstructor">set</a> <a id="7581" href="Tactic.Cong.html#7581" class="Bound">t&#39;</a><a id="7583" class="Symbol">))</a> <a id="7586" class="Symbol">=</a>
    <a id="7592" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">sort</a> <a id="7597" class="Symbol">(</a><a id="7598" href="Agda.Builtin.Reflection.html#5630" class="InductiveConstructor">set</a> <a id="7602" class="Symbol">(</a><a id="7603" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="7613" href="Tactic.Cong.html#7553" class="Bound">ϕ</a> <a id="7615" href="Tactic.Cong.html#7566" class="Bound">t</a> <a id="7617" href="Tactic.Cong.html#7581" class="Bound">t&#39;</a><a id="7619" class="Symbol">))</a>
  <a id="7624" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="7634" href="Tactic.Cong.html#7634" class="Bound">ϕ</a> <a id="7636" class="Symbol">(</a><a id="7637" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">sort</a> <a id="7642" class="Symbol">(</a><a id="7643" href="Agda.Builtin.Reflection.html#5660" class="InductiveConstructor">lit</a> <a id="7647" href="Tactic.Cong.html#7647" class="Bound">n</a><a id="7648" class="Symbol">))</a> <a id="7651" class="Symbol">(</a><a id="7652" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">sort</a> <a id="7657" class="Symbol">(</a><a id="7658" href="Agda.Builtin.Reflection.html#5660" class="InductiveConstructor">lit</a> <a id="7662" href="Tactic.Cong.html#7662" class="Bound">n&#39;</a><a id="7664" class="Symbol">))</a> <a id="7667" class="Keyword">with</a> <a id="7672" href="Tactic.Cong.html#7647" class="Bound">n</a> <a id="7674" href="Data.Nat.Base.html#1289" class="Primitive Operator">ℕ.≡ᵇ</a> <a id="7679" href="Tactic.Cong.html#7662" class="Bound">n&#39;</a>
  <a id="7684" class="Symbol">...</a> <a id="7688" class="Symbol">|</a> <a id="7690" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="7696" class="Symbol">=</a> <a id="7698" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">sort</a> <a id="7703" class="Symbol">(</a><a id="7704" href="Agda.Builtin.Reflection.html#5660" class="InductiveConstructor">lit</a> <a id="7708" class="Bound">n</a><a id="7709" class="Symbol">)</a>
  <a id="7713" class="Symbol">...</a> <a id="7717" class="Symbol">|</a> <a id="7719" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="7725" class="Symbol">=</a> <a id="7727" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="7731" class="Bound">ϕ</a> <a id="7733" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="7738" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="7748" href="Tactic.Cong.html#7748" class="Bound">ϕ</a> <a id="7750" class="Symbol">(</a><a id="7751" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">sort</a> <a id="7756" class="Symbol">(</a><a id="7757" href="Agda.Builtin.Reflection.html#5719" class="InductiveConstructor">propLit</a> <a id="7765" href="Tactic.Cong.html#7765" class="Bound">n</a><a id="7766" class="Symbol">))</a> <a id="7769" class="Symbol">(</a><a id="7770" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">sort</a> <a id="7775" class="Symbol">(</a><a id="7776" href="Agda.Builtin.Reflection.html#5719" class="InductiveConstructor">propLit</a> <a id="7784" href="Tactic.Cong.html#7784" class="Bound">n&#39;</a><a id="7786" class="Symbol">))</a> <a id="7789" class="Keyword">with</a> <a id="7794" href="Tactic.Cong.html#7765" class="Bound">n</a> <a id="7796" href="Data.Nat.Base.html#1289" class="Primitive Operator">ℕ.≡ᵇ</a> <a id="7801" href="Tactic.Cong.html#7784" class="Bound">n&#39;</a>
  <a id="7806" class="Symbol">...</a> <a id="7810" class="Symbol">|</a> <a id="7812" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="7818" class="Symbol">=</a> <a id="7820" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">sort</a> <a id="7825" class="Symbol">(</a><a id="7826" href="Agda.Builtin.Reflection.html#5719" class="InductiveConstructor">propLit</a> <a id="7834" class="Bound">n</a><a id="7835" class="Symbol">)</a>
  <a id="7839" class="Symbol">...</a> <a id="7843" class="Symbol">|</a> <a id="7845" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="7851" class="Symbol">=</a> <a id="7853" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="7857" class="Bound">ϕ</a> <a id="7859" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="7864" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="7874" href="Tactic.Cong.html#7874" class="Bound">ϕ</a> <a id="7876" class="Symbol">(</a><a id="7877" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">sort</a> <a id="7882" class="Symbol">(</a><a id="7883" href="Agda.Builtin.Reflection.html#5748" class="InductiveConstructor">inf</a> <a id="7887" href="Tactic.Cong.html#7887" class="Bound">n</a><a id="7888" class="Symbol">))</a> <a id="7891" class="Symbol">(</a><a id="7892" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">sort</a> <a id="7897" class="Symbol">(</a><a id="7898" href="Agda.Builtin.Reflection.html#5748" class="InductiveConstructor">inf</a> <a id="7902" href="Tactic.Cong.html#7902" class="Bound">n&#39;</a><a id="7904" class="Symbol">))</a> <a id="7907" class="Keyword">with</a> <a id="7912" href="Tactic.Cong.html#7887" class="Bound">n</a> <a id="7914" href="Data.Nat.Base.html#1289" class="Primitive Operator">ℕ.≡ᵇ</a> <a id="7919" href="Tactic.Cong.html#7902" class="Bound">n&#39;</a>
  <a id="7924" class="Symbol">...</a> <a id="7928" class="Symbol">|</a> <a id="7930" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="7936" class="Symbol">=</a> <a id="7938" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">sort</a> <a id="7943" class="Symbol">(</a><a id="7944" href="Agda.Builtin.Reflection.html#5748" class="InductiveConstructor">inf</a> <a id="7948" class="Bound">n</a><a id="7949" class="Symbol">)</a>
  <a id="7953" class="Symbol">...</a> <a id="7957" class="Symbol">|</a> <a id="7959" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="7965" class="Symbol">=</a> <a id="7967" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="7971" class="Bound">ϕ</a> <a id="7973" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="7978" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="7988" href="Tactic.Cong.html#7988" class="Bound">ϕ</a> <a id="7990" class="Symbol">(</a><a id="7991" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">sort</a> <a id="7996" href="Agda.Builtin.Reflection.html#5777" class="InductiveConstructor">unknown</a><a id="8003" class="Symbol">)</a> <a id="8005" class="Symbol">(</a><a id="8006" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">sort</a> <a id="8011" href="Agda.Builtin.Reflection.html#5777" class="InductiveConstructor">unknown</a><a id="8018" class="Symbol">)</a> <a id="8020" class="Symbol">=</a>
    <a id="8026" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">sort</a> <a id="8031" href="Agda.Builtin.Reflection.html#5777" class="InductiveConstructor">unknown</a>
  <a id="8041" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="8051" href="Tactic.Cong.html#8051" class="Bound">ϕ</a> <a id="8053" class="Symbol">(</a><a id="8054" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="8058" href="Tactic.Cong.html#8058" class="Bound">l</a><a id="8059" class="Symbol">)</a> <a id="8061" class="Symbol">(</a><a id="8062" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="8066" href="Tactic.Cong.html#8066" class="Bound">l&#39;</a><a id="8068" class="Symbol">)</a> <a id="8070" class="Keyword">with</a> <a id="8075" href="Tactic.Cong.html#8058" class="Bound">l</a> <a id="8077" href="Reflection.AST.Literal.html#3506" class="Function Operator">Literal.≡ᵇ</a> <a id="8088" href="Tactic.Cong.html#8066" class="Bound">l&#39;</a>
  <a id="8093" class="Symbol">...</a> <a id="8097" class="Symbol">|</a> <a id="8099" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="8105" class="Symbol">=</a> <a id="8107" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="8111" class="Bound">l</a>
  <a id="8115" class="Symbol">...</a> <a id="8119" class="Symbol">|</a> <a id="8121" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="8127" class="Symbol">=</a> <a id="8129" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="8133" class="Bound">ϕ</a> <a id="8135" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="8140" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="8150" href="Tactic.Cong.html#8150" class="Bound">ϕ</a> <a id="8152" class="Symbol">(</a><a id="8153" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="8158" href="Tactic.Cong.html#8158" class="Bound">x</a> <a id="8160" href="Tactic.Cong.html#8160" class="Bound">args</a><a id="8164" class="Symbol">)</a> <a id="8166" class="Symbol">(</a><a id="8167" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="8172" href="Tactic.Cong.html#8172" class="Bound">x&#39;</a> <a id="8175" href="Tactic.Cong.html#8175" class="Bound">args&#39;</a><a id="8180" class="Symbol">)</a> <a id="8182" class="Keyword">with</a> <a id="8187" href="Tactic.Cong.html#8158" class="Bound">x</a> <a id="8189" href="Reflection.AST.Meta.html#815" class="Primitive Operator">Meta.≡ᵇ</a> <a id="8197" href="Tactic.Cong.html#8172" class="Bound">x&#39;</a> <a id="8200" class="Symbol">|</a> <a id="8202" href="Tactic.Cong.html#6140" class="Function">antiUnifyArgs</a> <a id="8216" href="Tactic.Cong.html#8150" class="Bound">ϕ</a> <a id="8218" href="Tactic.Cong.html#8160" class="Bound">args</a> <a id="8223" href="Tactic.Cong.html#8175" class="Bound">args&#39;</a>
  <a id="8231" class="Symbol">...</a> <a id="8235" class="Symbol">|</a> <a id="8237" class="Symbol">_</a>     <a id="8243" class="Symbol">|</a> <a id="8245" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>    <a id="8256" class="Symbol">=</a> <a id="8258" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="8262" class="Bound">ϕ</a> <a id="8264" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="8269" class="CatchallClause Symbol">...</a><a id="8272" class="CatchallClause"> </a><a id="8273" class="CatchallClause Symbol">|</a><a id="8274" class="CatchallClause"> </a><a id="8275" href="Agda.Builtin.Bool.html#192" class="CatchallClause InductiveConstructor">false</a><a id="8280" class="CatchallClause"> </a><a id="8281" class="CatchallClause Symbol">|</a><a id="8282" class="CatchallClause"> </a><a id="8283" class="CatchallClause Symbol">_</a>          <a id="8294" class="Symbol">=</a> <a id="8296" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="8300" class="Bound">ϕ</a> <a id="8302" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="8307" class="Symbol">...</a> <a id="8311" class="Symbol">|</a> <a id="8313" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="8319" class="Symbol">|</a> <a id="8321" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8326" href="Tactic.Cong.html#8326" class="Bound">uargs</a> <a id="8332" class="Symbol">=</a> <a id="8334" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="8339" class="Bound">x</a> <a id="8341" href="Tactic.Cong.html#8326" class="Bound">uargs</a>
  <a id="8349" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="8359" href="Tactic.Cong.html#8359" class="Bound">ϕ</a> <a id="8361" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="8369" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="8377" class="Symbol">=</a> <a id="8379" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a>
  <a id="8389" href="Tactic.Cong.html#6096" class="CatchallClause Function">antiUnify</a><a id="8398" class="CatchallClause"> </a><a id="8399" href="Tactic.Cong.html#8399" class="CatchallClause Bound">ϕ</a><a id="8400" class="CatchallClause"> </a><a id="8401" class="CatchallClause Symbol">_</a><a id="8402" class="CatchallClause"> </a><a id="8403" class="CatchallClause Symbol">_</a> <a id="8405" class="Symbol">=</a> <a id="8407" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="8411" href="Tactic.Cong.html#8399" class="Bound">ϕ</a> <a id="8413" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

  <a id="8419" href="Tactic.Cong.html#6140" class="Function">antiUnifyArgs</a> <a id="8433" href="Tactic.Cong.html#8433" class="Bound">ϕ</a> <a id="8435" class="Symbol">(</a><a id="8436" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="8440" href="Tactic.Cong.html#8440" class="Bound">i</a> <a id="8442" href="Tactic.Cong.html#8442" class="Bound">t</a> <a id="8444" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8446" href="Tactic.Cong.html#8446" class="Bound">args</a><a id="8450" class="Symbol">)</a> <a id="8452" class="Symbol">(</a><a id="8453" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="8457" class="Symbol">_</a> <a id="8459" href="Tactic.Cong.html#8459" class="Bound">t&#39;</a> <a id="8462" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8464" href="Tactic.Cong.html#8464" class="Bound">args&#39;</a><a id="8469" class="Symbol">)</a> <a id="8471" class="Symbol">=</a>
    <a id="8477" href="Data.Maybe.Base.html#1934" class="Function">Maybe.map</a> <a id="8487" class="Symbol">(</a><a id="8488" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="8492" href="Tactic.Cong.html#8440" class="Bound">i</a> <a id="8494" class="Symbol">(</a><a id="8495" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="8505" href="Tactic.Cong.html#8433" class="Bound">ϕ</a> <a id="8507" href="Tactic.Cong.html#8442" class="Bound">t</a> <a id="8509" href="Tactic.Cong.html#8459" class="Bound">t&#39;</a><a id="8511" class="Symbol">)</a> <a id="8513" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷_</a><a id="8515" class="Symbol">)</a> <a id="8517" class="Symbol">(</a><a id="8518" href="Tactic.Cong.html#6140" class="Function">antiUnifyArgs</a> <a id="8532" href="Tactic.Cong.html#8433" class="Bound">ϕ</a> <a id="8534" href="Tactic.Cong.html#8446" class="Bound">args</a> <a id="8539" href="Tactic.Cong.html#8464" class="Bound">args&#39;</a><a id="8544" class="Symbol">)</a>
  <a id="8548" href="Tactic.Cong.html#6140" class="Function">antiUnifyArgs</a> <a id="8562" href="Tactic.Cong.html#8562" class="Bound">ϕ</a> <a id="8564" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8567" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8570" class="Symbol">=</a>
    <a id="8576" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8581" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="8586" href="Tactic.Cong.html#6140" class="CatchallClause Function">antiUnifyArgs</a><a id="8599" class="CatchallClause"> </a><a id="8600" href="Tactic.Cong.html#8600" class="CatchallClause Bound">ϕ</a><a id="8601" class="CatchallClause"> </a><a id="8602" class="CatchallClause Symbol">_</a><a id="8603" class="CatchallClause"> </a><a id="8604" class="CatchallClause Symbol">_</a> <a id="8606" class="Symbol">=</a>
    <a id="8612" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

  <a id="8623" href="Tactic.Cong.html#6266" class="Function">antiUnifyClause</a> <a id="8639" href="Tactic.Cong.html#8639" class="Bound">ϕ</a> <a id="8641" class="Symbol">(</a><a id="8642" href="Agda.Builtin.Reflection.html#6106" class="InductiveConstructor">clause</a> <a id="8649" href="Tactic.Cong.html#8649" class="Bound">Γ</a> <a id="8651" href="Tactic.Cong.html#8651" class="Bound">pats</a> <a id="8656" href="Tactic.Cong.html#8656" class="Bound">t</a><a id="8657" class="Symbol">)</a> <a id="8659" class="Symbol">(</a><a id="8660" href="Agda.Builtin.Reflection.html#6106" class="InductiveConstructor">clause</a> <a id="8667" href="Tactic.Cong.html#8667" class="Bound">Δ</a> <a id="8669" href="Tactic.Cong.html#8669" class="Bound">pats&#39;</a> <a id="8675" href="Tactic.Cong.html#8675" class="Bound">t&#39;</a><a id="8677" class="Symbol">)</a> <a id="8679" class="Symbol">=</a>
    <a id="8685" href="Data.Maybe.Base.html#2379" class="Function">Maybe.when</a> <a id="8696" class="Symbol">((</a><a id="8698" href="Tactic.Cong.html#8649" class="Bound">Γ</a> <a id="8700" href="Reflection.AST.AlphaEquality.html#1434" class="Field Operator">=α=</a> <a id="8704" href="Tactic.Cong.html#8667" class="Bound">Δ</a><a id="8705" class="Symbol">)</a> <a id="8707" href="Data.Bool.Base.html#1005" class="Function Operator">∧</a> <a id="8709" class="Symbol">(</a><a id="8710" href="Tactic.Cong.html#8651" class="Bound">pats</a> <a id="8715" href="Reflection.AST.AlphaEquality.html#1434" class="Field Operator">=α=</a> <a id="8719" href="Tactic.Cong.html#8669" class="Bound">pats&#39;</a><a id="8724" class="Symbol">))</a>
      <a id="8733" class="Keyword">let</a> <a id="8737" class="Symbol">(</a><a id="8738" href="Tactic.Cong.html#8738" class="Bound">upats</a> <a id="8744" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8746" href="Tactic.Cong.html#8746" class="Bound">ϕ&#39;</a><a id="8748" class="Symbol">)</a> <a id="8750" class="Symbol">=</a> <a id="8752" href="Tactic.Cong.html#3230" class="Function">patternsDescend</a> <a id="8768" href="Tactic.Cong.html#8639" class="Bound">ϕ</a> <a id="8770" href="Tactic.Cong.html#8651" class="Bound">pats</a>
      <a id="8781" class="Keyword">in</a> <a id="8784" href="Agda.Builtin.Reflection.html#6106" class="InductiveConstructor">clause</a> <a id="8791" href="Tactic.Cong.html#8649" class="Bound">Γ</a> <a id="8793" href="Tactic.Cong.html#8738" class="Bound">upats</a> <a id="8799" class="Symbol">(</a><a id="8800" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="8810" href="Tactic.Cong.html#8746" class="Bound">ϕ&#39;</a> <a id="8813" href="Tactic.Cong.html#8656" class="Bound">t</a> <a id="8815" href="Tactic.Cong.html#8675" class="Bound">t&#39;</a><a id="8817" class="Symbol">)</a>
  <a id="8821" href="Tactic.Cong.html#6266" class="Function">antiUnifyClause</a> <a id="8837" href="Tactic.Cong.html#8837" class="Bound">ϕ</a> <a id="8839" class="Symbol">(</a><a id="8840" href="Agda.Builtin.Reflection.html#6188" class="InductiveConstructor">absurd-clause</a> <a id="8854" href="Tactic.Cong.html#8854" class="Bound">Γ</a> <a id="8856" href="Tactic.Cong.html#8856" class="Bound">pats</a><a id="8860" class="Symbol">)</a> <a id="8862" class="Symbol">(</a><a id="8863" href="Agda.Builtin.Reflection.html#6188" class="InductiveConstructor">absurd-clause</a> <a id="8877" href="Tactic.Cong.html#8877" class="Bound">Δ</a> <a id="8879" href="Tactic.Cong.html#8879" class="Bound">pats&#39;</a><a id="8884" class="Symbol">)</a> <a id="8886" class="Symbol">=</a>
    <a id="8892" href="Data.Maybe.Base.html#2379" class="Function">Maybe.when</a> <a id="8903" class="Symbol">((</a><a id="8905" href="Tactic.Cong.html#8854" class="Bound">Γ</a> <a id="8907" href="Reflection.AST.AlphaEquality.html#1434" class="Field Operator">=α=</a> <a id="8911" href="Tactic.Cong.html#8877" class="Bound">Δ</a><a id="8912" class="Symbol">)</a> <a id="8914" href="Data.Bool.Base.html#1005" class="Function Operator">∧</a> <a id="8916" class="Symbol">(</a><a id="8917" href="Tactic.Cong.html#8856" class="Bound">pats</a> <a id="8922" href="Reflection.AST.AlphaEquality.html#1434" class="Field Operator">=α=</a> <a id="8926" href="Tactic.Cong.html#8879" class="Bound">pats&#39;</a><a id="8931" class="Symbol">))</a> <a id="8934" href="Function.Base.html#1993" class="Function Operator">$</a>
      <a id="8942" href="Agda.Builtin.Reflection.html#6188" class="InductiveConstructor">absurd-clause</a> <a id="8956" href="Tactic.Cong.html#8854" class="Bound">Γ</a> <a id="8958" href="Tactic.Cong.html#8856" class="Bound">pats</a>
  <a id="8965" href="Tactic.Cong.html#6266" class="CatchallClause Function">antiUnifyClause</a><a id="8980" class="CatchallClause"> </a><a id="8981" href="Tactic.Cong.html#8981" class="CatchallClause Bound">ϕ</a><a id="8982" class="CatchallClause"> </a><a id="8983" class="CatchallClause Symbol">_</a><a id="8984" class="CatchallClause"> </a><a id="8985" class="CatchallClause Symbol">_</a> <a id="8987" class="Symbol">=</a>
    <a id="8993" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

  <a id="9004" href="Tactic.Cong.html#6207" class="Function">antiUnifyClauses</a> <a id="9021" href="Tactic.Cong.html#9021" class="Bound">ϕ</a> <a id="9023" class="Symbol">(</a><a id="9024" href="Tactic.Cong.html#9024" class="Bound">c</a> <a id="9026" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9028" href="Tactic.Cong.html#9028" class="Bound">cs</a><a id="9030" class="Symbol">)</a> <a id="9032" class="Symbol">(</a><a id="9033" href="Tactic.Cong.html#9033" class="Bound">c&#39;</a> <a id="9036" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9038" href="Tactic.Cong.html#9038" class="Bound">cs&#39;</a><a id="9041" class="Symbol">)</a> <a id="9043" class="Symbol">=</a>
    <a id="9049" href="Data.Maybe.Base.html#2022" class="Function">Maybe.ap</a> <a id="9058" class="Symbol">(</a><a id="9059" href="Data.Maybe.Base.html#1934" class="Function">Maybe.map</a> <a id="9069" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">_∷_</a> <a id="9073" class="Symbol">(</a><a id="9074" href="Tactic.Cong.html#6266" class="Function">antiUnifyClause</a> <a id="9090" href="Tactic.Cong.html#9021" class="Bound">ϕ</a> <a id="9092" href="Tactic.Cong.html#9024" class="Bound">c</a> <a id="9094" href="Tactic.Cong.html#9033" class="Bound">c&#39;</a><a id="9096" class="Symbol">))</a> <a id="9099" class="Symbol">(</a><a id="9100" href="Tactic.Cong.html#6207" class="Function">antiUnifyClauses</a> <a id="9117" href="Tactic.Cong.html#9021" class="Bound">ϕ</a> <a id="9119" href="Tactic.Cong.html#9028" class="Bound">cs</a> <a id="9122" href="Tactic.Cong.html#9038" class="Bound">cs&#39;</a><a id="9125" class="Symbol">)</a>
  <a id="9129" href="Tactic.Cong.html#6207" class="CatchallClause Function">antiUnifyClauses</a><a id="9145" class="CatchallClause"> </a><a id="9146" href="Tactic.Cong.html#9146" class="CatchallClause Bound">ϕ</a><a id="9147" class="CatchallClause"> </a><a id="9148" class="CatchallClause Symbol">_</a><a id="9149" class="CatchallClause"> </a><a id="9150" class="CatchallClause Symbol">_</a> <a id="9152" class="Symbol">=</a>
    <a id="9158" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="9163" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>


<a id="9168" class="Comment">------------------------------------------------------------------------</a>
<a id="9241" class="Comment">-- Rewriting</a>
<a id="9254" class="Comment">------------------------------------------------------------------------</a>

<a id="9328" class="Keyword">macro</a>
  <a id="cong!"></a><a id="9336" href="Tactic.Cong.html#9336" class="Macro">cong!</a> <a id="9342" class="Symbol">:</a> <a id="9344" class="Symbol">∀</a> <a id="9346" class="Symbol">{</a><a id="9347" href="Tactic.Cong.html#9347" class="Bound">a</a><a id="9348" class="Symbol">}</a> <a id="9350" class="Symbol">{</a><a id="9351" href="Tactic.Cong.html#9351" class="Bound">A</a> <a id="9353" class="Symbol">:</a> <a id="9355" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="9359" href="Tactic.Cong.html#9347" class="Bound">a</a><a id="9360" class="Symbol">}</a> <a id="9362" class="Symbol">{</a><a id="9363" href="Tactic.Cong.html#9363" class="Bound">x</a> <a id="9365" href="Tactic.Cong.html#9365" class="Bound">y</a> <a id="9367" class="Symbol">:</a> <a id="9369" href="Tactic.Cong.html#9351" class="Bound">A</a><a id="9370" class="Symbol">}</a> <a id="9372" class="Symbol">→</a> <a id="9374" href="Tactic.Cong.html#9363" class="Bound">x</a> <a id="9376" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9378" href="Tactic.Cong.html#9365" class="Bound">y</a> <a id="9380" class="Symbol">→</a> <a id="9382" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="9387" class="Symbol">→</a> <a id="9389" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="9392" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="9396" href="Tactic.Cong.html#9336" class="Macro">cong!</a> <a id="9402" href="Tactic.Cong.html#9402" class="Bound">x≡y</a> <a id="9406" href="Tactic.Cong.html#9406" class="Bound">hole</a> <a id="9411" class="Symbol">=</a>
    <a id="9417" class="Comment">-- NOTE: We avoid doing normalisation here as this tactic</a>
    <a id="9479" class="Comment">-- is mainly meant for equational reasoning. In that context,</a>
    <a id="9545" class="Comment">-- the endpoints of the equality are already specified in</a>
    <a id="9607" class="Comment">-- the form that the -- programmer expects them to be in,</a>
    <a id="9669" class="Comment">-- so normalising buys us nothing.</a>
    <a id="9708" href="Agda.Builtin.Reflection.html#10159" class="Postulate">withNormalisation</a> <a id="9726" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="9732" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="9734" class="Keyword">do</a>
      <a id="9743" href="Tactic.Cong.html#9743" class="Bound">goal</a> <a id="9748" href="Reflection.TCM.Syntax.html#623" class="Function Operator">←</a> <a id="9750" href="Agda.Builtin.Reflection.html#8893" class="Postulate">inferType</a> <a id="9760" href="Tactic.Cong.html#9406" class="Bound">hole</a>
      <a id="9771" href="Tactic.Cong.html#9771" class="Bound">eqGoal</a> <a id="9778" href="Reflection.TCM.Syntax.html#623" class="Function Operator">←</a> <a id="9780" href="Tactic.Cong.html#4554" class="Function">destructEqualityGoal</a> <a id="9801" href="Tactic.Cong.html#9743" class="Bound">goal</a>
      <a id="9812" class="Keyword">let</a> <a id="9816" href="Tactic.Cong.html#9816" class="Bound">makeTerm</a> <a id="9825" class="Symbol">=</a> <a id="9827" class="Symbol">λ</a> <a id="9829" href="Tactic.Cong.html#9829" class="Bound">lhs</a> <a id="9833" href="Tactic.Cong.html#9833" class="Bound">rhs</a> <a id="9837" class="Symbol">→</a> <a id="9839" href="Tactic.Cong.html#4909" class="Function">`cong</a> <a id="9845" href="Tactic.Cong.html#9771" class="Bound">eqGoal</a> <a id="9852" class="Symbol">(</a><a id="9853" href="Tactic.Cong.html#6096" class="Function">antiUnify</a> <a id="9863" class="Number">0</a> <a id="9865" href="Tactic.Cong.html#9829" class="Bound">lhs</a> <a id="9869" href="Tactic.Cong.html#9833" class="Bound">rhs</a><a id="9872" class="Symbol">)</a> <a id="9874" href="Tactic.Cong.html#9402" class="Bound">x≡y</a>
      <a id="9884" class="Keyword">let</a> <a id="9888" href="Tactic.Cong.html#9888" class="Bound">lhs</a> <a id="9892" class="Symbol">=</a> <a id="9894" href="Tactic.Cong.html#4519" class="Field">EqualityGoal.lhs</a> <a id="9911" href="Tactic.Cong.html#9771" class="Bound">eqGoal</a>
      <a id="9924" class="Keyword">let</a> <a id="9928" href="Tactic.Cong.html#9928" class="Bound">rhs</a> <a id="9932" class="Symbol">=</a> <a id="9934" href="Tactic.Cong.html#4538" class="Field">EqualityGoal.rhs</a> <a id="9951" href="Tactic.Cong.html#9771" class="Bound">eqGoal</a>
      <a id="9964" class="Keyword">let</a> <a id="9968" href="Tactic.Cong.html#9968" class="Bound">term</a> <a id="9973" class="Symbol">=</a> <a id="9975" href="Tactic.Cong.html#9816" class="Bound">makeTerm</a> <a id="9984" href="Tactic.Cong.html#9888" class="Bound">lhs</a> <a id="9988" href="Tactic.Cong.html#9928" class="Bound">rhs</a>
      <a id="9998" class="Keyword">let</a> <a id="10002" href="Tactic.Cong.html#10002" class="Bound">symTerm</a> <a id="10010" class="Symbol">=</a> <a id="10012" href="Tactic.Cong.html#9816" class="Bound">makeTerm</a> <a id="10021" href="Tactic.Cong.html#9928" class="Bound">rhs</a> <a id="10025" href="Tactic.Cong.html#9888" class="Bound">lhs</a>
      <a id="10035" class="Keyword">let</a> <a id="10039" href="Tactic.Cong.html#10039" class="Bound">uni</a> <a id="10043" class="Symbol">=</a> <a id="10045" href="Reflection.TCM.Syntax.html#623" class="Function Operator">_&gt;&gt;=</a> <a id="10050" href="Function.Base.html#1657" class="Function">flip</a> <a id="10055" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="10061" href="Tactic.Cong.html#9406" class="Bound">hole</a>
      <a id="10072" class="Comment">-- When using ⌞_⌟ with ≡⟨ ... ⟨, (uni term) fails and</a>
      <a id="10132" class="Comment">-- (uni symTerm) succeeds.</a>
      <a id="10165" href="Agda.Builtin.Reflection.html#9044" class="Postulate">catchTC</a> <a id="10173" class="Symbol">(</a><a id="10174" href="Tactic.Cong.html#10039" class="Bound">uni</a> <a id="10178" href="Tactic.Cong.html#9968" class="Bound">term</a><a id="10182" class="Symbol">)</a> <a id="10184" href="Function.Base.html#1993" class="Function Operator">$</a>
        <a id="10194" href="Agda.Builtin.Reflection.html#9044" class="Postulate">catchTC</a> <a id="10202" class="Symbol">(</a><a id="10203" href="Tactic.Cong.html#10039" class="Bound">uni</a> <a id="10207" href="Tactic.Cong.html#10002" class="Bound">symTerm</a><a id="10214" class="Symbol">)</a> <a id="10216" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="10218" class="Keyword">do</a>
          <a id="10231" class="Comment">-- If we failed because of unresolved metas, restart.</a>
          <a id="10295" href="Reflection.TCM.Utilities.html#709" class="Function">blockOnMetas</a> <a id="10308" href="Tactic.Cong.html#9743" class="Bound">goal</a>
          <a id="10323" class="Comment">-- If we failed for a different reason, show an error.</a>
          <a id="10388" href="Tactic.Cong.html#4035" class="Function">unificationError</a> <a id="10405" href="Tactic.Cong.html#9968" class="Bound">term</a> <a id="10410" href="Tactic.Cong.html#10002" class="Bound">symTerm</a>
</pre></body></html>