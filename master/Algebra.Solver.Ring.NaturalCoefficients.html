<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Algebra.Solver.Ring.NaturalCoefficients</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Instantiates the ring solver, using the natural numbers as the</a>
<a id="172" class="Comment">-- coefficient &quot;ring&quot;</a>
<a id="194" class="Comment">------------------------------------------------------------------------</a>

<a id="268" class="Symbol">{-#</a> <a id="272" class="Keyword">OPTIONS</a> <a id="280" class="Pragma">--cubical-compatible</a> <a id="301" class="Pragma">--safe</a> <a id="308" class="Symbol">#-}</a>

<a id="313" class="Keyword">open</a> <a id="318" class="Keyword">import</a> <a id="325" href="Algebra.html" class="Module">Algebra</a>
<a id="333" class="Keyword">import</a> <a id="340" href="Algebra.Properties.Semiring.Mult.html" class="Module">Algebra.Properties.Semiring.Mult</a> <a id="373" class="Symbol">as</a> <a id="376" class="Module">SemiringMultiplication</a>
<a id="399" class="Keyword">open</a> <a id="404" class="Keyword">import</a> <a id="411" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="427" class="Keyword">using</a> <a id="433" class="Symbol">(</a><a id="434" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a><a id="439" class="Symbol">;</a> <a id="441" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a><a id="445" class="Symbol">;</a> <a id="447" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="454" class="Symbol">;</a> <a id="456" href="Data.Maybe.Base.html#1934" class="Function">map</a><a id="459" class="Symbol">)</a>
<a id="461" class="Keyword">open</a> <a id="466" class="Keyword">import</a> <a id="473" href="Algebra.Solver.Ring.AlmostCommutativeRing.html" class="Module">Algebra.Solver.Ring.AlmostCommutativeRing</a>
<a id="515" class="Keyword">open</a> <a id="520" class="Keyword">import</a> <a id="527" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="541" class="Symbol">as</a> <a id="544" class="Module">ℕ</a>
<a id="546" class="Keyword">open</a> <a id="551" class="Keyword">import</a> <a id="558" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="576" class="Keyword">using</a> <a id="582" class="Symbol">(</a><a id="583" class="Keyword">module</a> <a id="590" href="Data.Product.Base.html#685" class="Module">Σ</a><a id="591" class="Symbol">)</a>
<a id="593" class="Keyword">open</a> <a id="598" class="Keyword">import</a> <a id="605" href="Function.Base.html" class="Module">Function.Base</a> <a id="619" class="Keyword">using</a> <a id="625" class="Symbol">(</a><a id="626" href="Function.Base.html#704" class="Function">id</a><a id="628" class="Symbol">)</a>
<a id="630" class="Keyword">open</a> <a id="635" class="Keyword">import</a> <a id="642" href="Relation.Binary.PropositionalEquality.Core.html" class="Module">Relation.Binary.PropositionalEquality.Core</a> <a id="685" class="Keyword">using</a> <a id="691" class="Symbol">(</a><a id="692" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="695" class="Symbol">)</a>

<a id="698" class="Keyword">module</a> <a id="705" href="Algebra.Solver.Ring.NaturalCoefficients.html" class="Module">Algebra.Solver.Ring.NaturalCoefficients</a>
  <a id="747" class="Symbol">{</a><a id="748" href="Algebra.Solver.Ring.NaturalCoefficients.html#748" class="Bound">r₁</a> <a id="751" href="Algebra.Solver.Ring.NaturalCoefficients.html#751" class="Bound">r₂</a><a id="753" class="Symbol">}</a> <a id="755" class="Symbol">(</a><a id="756" href="Algebra.Solver.Ring.NaturalCoefficients.html#756" class="Bound">R</a> <a id="758" class="Symbol">:</a> <a id="760" href="Algebra.Bundles.html#19580" class="Record">CommutativeSemiring</a> <a id="780" href="Algebra.Solver.Ring.NaturalCoefficients.html#748" class="Bound">r₁</a> <a id="783" href="Algebra.Solver.Ring.NaturalCoefficients.html#751" class="Bound">r₂</a><a id="785" class="Symbol">)</a>
  <a id="789" class="Symbol">(</a><a id="790" class="Keyword">open</a> <a id="795" href="Algebra.Bundles.html#19580" class="Module">CommutativeSemiring</a> <a id="815" href="Algebra.Solver.Ring.NaturalCoefficients.html#756" class="Bound">R</a><a id="816" class="Symbol">)</a>
  <a id="820" class="Symbol">(</a><a id="821" class="Keyword">open</a> <a id="826" href="Algebra.Properties.Semiring.Mult.html" class="Module">SemiringMultiplication</a> <a id="849" href="Algebra.Bundles.html#20041" class="Function">semiring</a> <a id="858" class="Keyword">using</a> <a id="864" class="Symbol">()</a> <a id="867" class="Keyword">renaming</a> <a id="876" class="Symbol">(</a><a id="877" href="Algebra.Definitions.RawMonoid.html#1089" class="Function Operator">_×_</a> <a id="881" class="Symbol">to</a> <a id="884" class="Function Operator">_×ᵤ_</a><a id="888" class="Symbol">))</a>
  <a id="893" class="Symbol">(</a><a id="894" href="Algebra.Solver.Ring.NaturalCoefficients.html#894" class="Bound">dec</a> <a id="898" class="Symbol">:</a> <a id="900" class="Symbol">∀</a> <a id="902" href="Algebra.Solver.Ring.NaturalCoefficients.html#902" class="Bound">m</a> <a id="904" href="Algebra.Solver.Ring.NaturalCoefficients.html#904" class="Bound">n</a> <a id="906" class="Symbol">→</a> <a id="908" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="914" class="Symbol">(</a><a id="915" href="Algebra.Solver.Ring.NaturalCoefficients.html#902" class="Bound">m</a> <a id="917" href="Algebra.Solver.Ring.NaturalCoefficients.html#884" class="Function Operator">×ᵤ</a> <a id="920" href="Algebra.Bundles.html#19879" class="Field">1#</a> <a id="923" href="Algebra.Bundles.html#19721" class="Field Operator">≈</a> <a id="925" href="Algebra.Solver.Ring.NaturalCoefficients.html#904" class="Bound">n</a> <a id="927" href="Algebra.Solver.Ring.NaturalCoefficients.html#884" class="Function Operator">×ᵤ</a> <a id="930" href="Algebra.Bundles.html#19879" class="Field">1#</a><a id="932" class="Symbol">))</a> <a id="935" class="Keyword">where</a>

<a id="942" class="Keyword">open</a> <a id="947" class="Keyword">import</a> <a id="954" href="Algebra.Properties.Semiring.Mult.TCOptimised.html" class="Module">Algebra.Properties.Semiring.Mult.TCOptimised</a> <a id="999" href="Algebra.Bundles.html#20041" class="Function">semiring</a>

<a id="1009" class="Keyword">open</a> <a id="1014" class="Keyword">import</a> <a id="1021" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1054" href="Algebra.Structures.html#1873" class="Function">setoid</a>

<a id="1062" class="Keyword">private</a>

  <a id="1073" class="Comment">-- The coefficient &quot;ring&quot;.</a>

  <a id="ℕ-ring"></a><a id="1103" href="Algebra.Solver.Ring.NaturalCoefficients.html#1103" class="Function">ℕ-ring</a> <a id="1110" class="Symbol">:</a> <a id="1112" href="Algebra.Bundles.Raw.html#5061" class="Record">RawRing</a> <a id="1120" class="Symbol">_</a> <a id="1122" class="Symbol">_</a>
  <a id="1126" href="Algebra.Solver.Ring.NaturalCoefficients.html#1103" class="Function">ℕ-ring</a> <a id="1133" class="Symbol">=</a> <a id="1135" class="Keyword">record</a>
    <a id="1146" class="Symbol">{</a> <a id="1148" href="Algebra.Bundles.Raw.html#5170" class="Field">Carrier</a> <a id="1156" class="Symbol">=</a> <a id="1158" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="1164" class="Symbol">;</a> <a id="1166" href="Algebra.Bundles.Raw.html#5190" class="Field Operator">_≈_</a>     <a id="1174" class="Symbol">=</a> <a id="1176" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a>
    <a id="1184" class="Symbol">;</a> <a id="1186" href="Algebra.Bundles.Raw.html#5218" class="Field Operator">_+_</a>     <a id="1194" class="Symbol">=</a> <a id="1196" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ._+_</a>
    <a id="1206" class="Symbol">;</a> <a id="1208" href="Algebra.Bundles.Raw.html#5244" class="Field Operator">_*_</a>     <a id="1216" class="Symbol">=</a> <a id="1218" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">ℕ._*_</a>
    <a id="1228" class="Symbol">;</a> <a id="1230" href="Algebra.Bundles.Raw.html#5270" class="Field Operator">-_</a>      <a id="1238" class="Symbol">=</a> <a id="1240" href="Function.Base.html#704" class="Function">id</a>
    <a id="1247" class="Symbol">;</a> <a id="1249" href="Algebra.Bundles.Raw.html#5296" class="Field">0#</a>      <a id="1257" class="Symbol">=</a> <a id="1259" class="Number">0</a>
    <a id="1265" class="Symbol">;</a> <a id="1267" href="Algebra.Bundles.Raw.html#5318" class="Field">1#</a>      <a id="1275" class="Symbol">=</a> <a id="1277" class="Number">1</a>
    <a id="1283" class="Symbol">}</a>

  <a id="1288" class="Comment">-- There is a homomorphism from ℕ to R.</a>
  <a id="1330" class="Comment">--</a>
  <a id="1335" class="Comment">-- Note that the optimised _×_ is used rather than unoptimised _×ᵤ_.</a>
  <a id="1406" class="Comment">-- If _×ᵤ_ were used, then Function.Related.TypeIsomorphisms.test</a>
  <a id="1474" class="Comment">-- would fail to type-check.</a>

  <a id="homomorphism"></a><a id="1506" href="Algebra.Solver.Ring.NaturalCoefficients.html#1506" class="Function">homomorphism</a> <a id="1519" class="Symbol">:</a> <a id="1521" href="Algebra.Solver.Ring.NaturalCoefficients.html#1103" class="Function">ℕ-ring</a> <a id="1528" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2377" class="Record Operator">-Raw-AlmostCommutative⟶</a> <a id="1552" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#4344" class="Function">fromCommutativeSemiring</a> <a id="1576" href="Algebra.Solver.Ring.NaturalCoefficients.html#756" class="Bound">R</a>
  <a id="1580" href="Algebra.Solver.Ring.NaturalCoefficients.html#1506" class="Function">homomorphism</a> <a id="1593" class="Symbol">=</a> <a id="1595" class="Keyword">record</a>
    <a id="1606" class="Symbol">{</a> <a id="1608" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2651" class="Field Operator">⟦_⟧</a>    <a id="1615" class="Symbol">=</a> <a id="1617" class="Symbol">λ</a> <a id="1619" href="Algebra.Solver.Ring.NaturalCoefficients.html#1619" class="Bound">n</a> <a id="1621" class="Symbol">→</a> <a id="1623" href="Algebra.Solver.Ring.NaturalCoefficients.html#1619" class="Bound">n</a> <a id="1625" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1177" class="Function Operator">×</a> <a id="1627" href="Algebra.Bundles.html#19879" class="Field">1#</a>
    <a id="1634" class="Symbol">;</a> <a id="1636" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2673" class="Field">+-homo</a> <a id="1643" class="Symbol">=</a> <a id="1645" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1855" class="Function">×-homo-+</a> <a id="1654" href="Algebra.Bundles.html#19879" class="Field">1#</a>
    <a id="1661" class="Symbol">;</a> <a id="1663" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2715" class="Field">*-homo</a> <a id="1670" class="Symbol">=</a> <a id="1672" href="Algebra.Properties.Semiring.Mult.TCOptimised.html#962" class="Function">×1-homo-*</a>
    <a id="1686" class="Symbol">;</a> <a id="1688" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2757" class="Field">-‿homo</a> <a id="1695" class="Symbol">=</a> <a id="1697" class="Symbol">λ</a> <a id="1699" href="Algebra.Solver.Ring.NaturalCoefficients.html#1699" class="Bound">_</a> <a id="1701" class="Symbol">→</a> <a id="1703" href="Relation.Binary.Structures.html#1596" class="Function">refl</a>
    <a id="1712" class="Symbol">;</a> <a id="1714" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2798" class="Field">0-homo</a> <a id="1721" class="Symbol">=</a> <a id="1723" href="Relation.Binary.Structures.html#1596" class="Function">refl</a>
    <a id="1732" class="Symbol">;</a> <a id="1734" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2839" class="Field">1-homo</a> <a id="1741" class="Symbol">=</a> <a id="1743" href="Relation.Binary.Structures.html#1596" class="Function">refl</a>
    <a id="1752" class="Symbol">}</a>

  <a id="1757" class="Comment">-- Equality of certain expressions can be decided.</a>

  <a id="dec′"></a><a id="1811" href="Algebra.Solver.Ring.NaturalCoefficients.html#1811" class="Function">dec′</a> <a id="1816" class="Symbol">:</a> <a id="1818" class="Symbol">∀</a> <a id="1820" href="Algebra.Solver.Ring.NaturalCoefficients.html#1820" class="Bound">m</a> <a id="1822" href="Algebra.Solver.Ring.NaturalCoefficients.html#1822" class="Bound">n</a> <a id="1824" class="Symbol">→</a> <a id="1826" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1832" class="Symbol">(</a><a id="1833" href="Algebra.Solver.Ring.NaturalCoefficients.html#1820" class="Bound">m</a> <a id="1835" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1177" class="Function Operator">×</a> <a id="1837" href="Algebra.Bundles.html#19879" class="Field">1#</a> <a id="1840" href="Algebra.Bundles.html#19721" class="Field Operator">≈</a> <a id="1842" href="Algebra.Solver.Ring.NaturalCoefficients.html#1822" class="Bound">n</a> <a id="1844" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1177" class="Function Operator">×</a> <a id="1846" href="Algebra.Bundles.html#19879" class="Field">1#</a><a id="1848" class="Symbol">)</a>
  <a id="1852" href="Algebra.Solver.Ring.NaturalCoefficients.html#1811" class="Function">dec′</a> <a id="1857" href="Algebra.Solver.Ring.NaturalCoefficients.html#1857" class="Bound">m</a> <a id="1859" href="Algebra.Solver.Ring.NaturalCoefficients.html#1859" class="Bound">n</a> <a id="1861" class="Symbol">=</a> <a id="1863" href="Data.Maybe.Base.html#1934" class="Function">map</a> <a id="1867" href="Algebra.Solver.Ring.NaturalCoefficients.html#1894" class="Function">to</a> <a id="1870" class="Symbol">(</a><a id="1871" href="Algebra.Solver.Ring.NaturalCoefficients.html#894" class="Bound">dec</a> <a id="1875" href="Algebra.Solver.Ring.NaturalCoefficients.html#1857" class="Bound">m</a> <a id="1877" href="Algebra.Solver.Ring.NaturalCoefficients.html#1859" class="Bound">n</a><a id="1878" class="Symbol">)</a>
    <a id="1884" class="Keyword">where</a>
    <a id="1894" href="Algebra.Solver.Ring.NaturalCoefficients.html#1894" class="Function">to</a> <a id="1897" class="Symbol">:</a> <a id="1899" href="Algebra.Solver.Ring.NaturalCoefficients.html#1857" class="Bound">m</a> <a id="1901" href="Algebra.Solver.Ring.NaturalCoefficients.html#884" class="Function Operator">×ᵤ</a> <a id="1904" href="Algebra.Bundles.html#19879" class="Field">1#</a> <a id="1907" href="Algebra.Bundles.html#19721" class="Field Operator">≈</a> <a id="1909" href="Algebra.Solver.Ring.NaturalCoefficients.html#1859" class="Bound">n</a> <a id="1911" href="Algebra.Solver.Ring.NaturalCoefficients.html#884" class="Function Operator">×ᵤ</a> <a id="1914" href="Algebra.Bundles.html#19879" class="Field">1#</a> <a id="1917" class="Symbol">→</a> <a id="1919" href="Algebra.Solver.Ring.NaturalCoefficients.html#1857" class="Bound">m</a> <a id="1921" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1177" class="Function Operator">×</a> <a id="1923" href="Algebra.Bundles.html#19879" class="Field">1#</a> <a id="1926" href="Algebra.Bundles.html#19721" class="Field Operator">≈</a> <a id="1928" href="Algebra.Solver.Ring.NaturalCoefficients.html#1859" class="Bound">n</a> <a id="1930" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1177" class="Function Operator">×</a> <a id="1932" href="Algebra.Bundles.html#19879" class="Field">1#</a>
    <a id="1939" href="Algebra.Solver.Ring.NaturalCoefficients.html#1894" class="Function">to</a> <a id="1942" href="Algebra.Solver.Ring.NaturalCoefficients.html#1942" class="Bound">m≈n</a> <a id="1946" class="Symbol">=</a> <a id="1948" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="1960" href="Algebra.Solver.Ring.NaturalCoefficients.html#1857" class="Bound">m</a> <a id="1962" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1177" class="Function Operator">×</a>  <a id="1965" href="Algebra.Bundles.html#19879" class="Field">1#</a>  <a id="1969" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">≈⟨</a> <a id="1972" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1648" class="Function">×ᵤ≈×</a> <a id="1977" href="Algebra.Solver.Ring.NaturalCoefficients.html#1857" class="Bound">m</a> <a id="1979" href="Algebra.Bundles.html#19879" class="Field">1#</a> <a id="1982" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">⟨</a>
      <a id="1990" href="Algebra.Solver.Ring.NaturalCoefficients.html#1857" class="Bound">m</a> <a id="1992" href="Algebra.Solver.Ring.NaturalCoefficients.html#884" class="Function Operator">×ᵤ</a> <a id="1995" href="Algebra.Bundles.html#19879" class="Field">1#</a>  <a id="1999" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a>  <a id="2003" href="Algebra.Solver.Ring.NaturalCoefficients.html#1942" class="Bound">m≈n</a> <a id="2007" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="2015" href="Algebra.Solver.Ring.NaturalCoefficients.html#1859" class="Bound">n</a> <a id="2017" href="Algebra.Solver.Ring.NaturalCoefficients.html#884" class="Function Operator">×ᵤ</a> <a id="2020" href="Algebra.Bundles.html#19879" class="Field">1#</a>  <a id="2024" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a>  <a id="2028" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1648" class="Function">×ᵤ≈×</a> <a id="2033" href="Algebra.Solver.Ring.NaturalCoefficients.html#1859" class="Bound">n</a> <a id="2035" href="Algebra.Bundles.html#19879" class="Field">1#</a> <a id="2038" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="2046" href="Algebra.Solver.Ring.NaturalCoefficients.html#1859" class="Bound">n</a> <a id="2048" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1177" class="Function Operator">×</a>  <a id="2051" href="Algebra.Bundles.html#19879" class="Field">1#</a>  <a id="2055" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

<a id="2058" class="Comment">-- The instantiation.</a>

<a id="2081" class="Keyword">open</a> <a id="2086" class="Keyword">import</a> <a id="2093" href="Algebra.Solver.Ring.html" class="Module">Algebra.Solver.Ring</a> <a id="2113" class="Symbol">_</a> <a id="2115" class="Symbol">_</a> <a id="2117" href="Algebra.Solver.Ring.NaturalCoefficients.html#1506" class="Function">homomorphism</a> <a id="2130" href="Algebra.Solver.Ring.NaturalCoefficients.html#1811" class="Function">dec′</a> <a id="2135" class="Keyword">public</a>
</pre></body></html>