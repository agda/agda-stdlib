<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Vec.Effectful.Foldable</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Vec is Foldable</a>
<a id="125" class="Comment">------------------------------------------------------------------------</a>

<a id="199" class="Symbol">{-#</a> <a id="203" class="Keyword">OPTIONS</a> <a id="211" class="Pragma">--cubical-compatible</a> <a id="232" class="Pragma">--safe</a> <a id="239" class="Symbol">#-}</a>

<a id="244" class="Keyword">module</a> <a id="251" href="Data.Vec.Effectful.Foldable.html" class="Module">Data.Vec.Effectful.Foldable</a> <a id="279" class="Keyword">where</a>

<a id="286" class="Keyword">open</a> <a id="291" class="Keyword">import</a> <a id="298" href="Algebra.Bundles.Raw.html" class="Module">Algebra.Bundles.Raw</a> <a id="318" class="Keyword">using</a> <a id="324" class="Symbol">(</a><a id="325" href="Algebra.Bundles.Raw.html#1721" class="Record">RawMonoid</a><a id="334" class="Symbol">)</a>
<a id="336" class="Keyword">open</a> <a id="341" class="Keyword">import</a> <a id="348" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="362" class="Keyword">using</a> <a id="368" class="Symbol">(</a><a id="369" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="370" class="Symbol">)</a>
<a id="372" class="Keyword">open</a> <a id="377" class="Keyword">import</a> <a id="384" href="Data.Vec.Base.html" class="Module">Data.Vec.Base</a> <a id="398" class="Keyword">using</a> <a id="404" class="Symbol">(</a><a id="405" href="Data.Vec.Base.html#1119" class="Datatype">Vec</a><a id="408" class="Symbol">;</a> <a id="410" href="Data.Vec.Base.html#1155" class="InductiveConstructor">[]</a><a id="412" class="Symbol">;</a> <a id="414" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">_∷_</a><a id="417" class="Symbol">;</a> <a id="419" href="Data.Vec.Base.html#5736" class="Function">foldr′</a><a id="425" class="Symbol">;</a> <a id="427" href="Data.Vec.Base.html#5801" class="Function">foldl′</a><a id="433" class="Symbol">;</a> <a id="435" href="Data.Vec.Base.html#8402" class="Function">toList</a><a id="441" class="Symbol">)</a>
<a id="443" class="Keyword">open</a> <a id="448" class="Keyword">import</a> <a id="455" href="Effect.Foldable.html" class="Module">Effect.Foldable</a> <a id="471" class="Keyword">using</a> <a id="477" class="Symbol">(</a><a id="478" href="Effect.Foldable.html#1536" class="Record">RawFoldableWithDefaults</a><a id="501" class="Symbol">;</a> <a id="503" href="Effect.Foldable.html#1013" class="Record">RawFoldable</a><a id="514" class="Symbol">)</a>
<a id="516" class="Keyword">open</a> <a id="521" class="Keyword">import</a> <a id="528" href="Function.Base.html" class="Module">Function.Base</a> <a id="542" class="Keyword">using</a> <a id="548" class="Symbol">(</a><a id="549" href="Function.Base.html#704" class="Function">id</a><a id="551" class="Symbol">)</a>
<a id="553" class="Keyword">open</a> <a id="558" class="Keyword">import</a> <a id="565" href="Level.html" class="Module">Level</a> <a id="571" class="Keyword">using</a> <a id="577" class="Symbol">(</a><a id="578" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="583" class="Symbol">)</a>

<a id="586" class="Keyword">private</a>
  <a id="596" class="Keyword">variable</a>
    <a id="609" href="Data.Vec.Effectful.Foldable.html#609" class="Generalizable">a</a> <a id="611" href="Data.Vec.Effectful.Foldable.html#611" class="Generalizable">c</a> <a id="613" href="Data.Vec.Effectful.Foldable.html#613" class="Generalizable">ℓ</a> <a id="615" class="Symbol">:</a> <a id="617" href="Agda.Primitive.html#742" class="Postulate">Level</a>
    <a id="627" href="Data.Vec.Effectful.Foldable.html#627" class="Generalizable">A</a> <a id="629" class="Symbol">:</a> <a id="631" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="635" href="Data.Vec.Effectful.Foldable.html#609" class="Generalizable">a</a>
    <a id="641" href="Data.Vec.Effectful.Foldable.html#641" class="Generalizable">n</a> <a id="643" class="Symbol">:</a> <a id="645" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

<a id="648" class="Comment">------------------------------------------------------------------------</a>
<a id="721" class="Comment">-- Root implementation</a>

<a id="745" class="Keyword">module</a> <a id="752" href="Data.Vec.Effectful.Foldable.html#752" class="Module">_</a> <a id="754" class="Symbol">(</a><a id="755" href="Data.Vec.Effectful.Foldable.html#755" class="Bound">M</a> <a id="757" class="Symbol">:</a> <a id="759" href="Algebra.Bundles.Raw.html#1721" class="Record">RawMonoid</a> <a id="769" href="Data.Vec.Effectful.Foldable.html#611" class="Generalizable">c</a> <a id="771" href="Data.Vec.Effectful.Foldable.html#613" class="Generalizable">ℓ</a><a id="772" class="Symbol">)</a> <a id="774" class="Keyword">where</a>

  <a id="783" class="Keyword">open</a> <a id="788" href="Algebra.Bundles.Raw.html#1721" class="Module">RawMonoid</a> <a id="798" href="Data.Vec.Effectful.Foldable.html#755" class="Bound">M</a>

  <a id="803" href="Data.Vec.Effectful.Foldable.html#803" class="Function">foldMap</a> <a id="811" class="Symbol">:</a> <a id="813" class="Symbol">(</a><a id="814" href="Data.Vec.Effectful.Foldable.html#627" class="Generalizable">A</a> <a id="816" class="Symbol">→</a> <a id="818" href="Algebra.Bundles.Raw.html#1803" class="Field">Carrier</a><a id="825" class="Symbol">)</a> <a id="827" class="Symbol">→</a> <a id="829" href="Data.Vec.Base.html#1119" class="Datatype">Vec</a> <a id="833" href="Data.Vec.Effectful.Foldable.html#627" class="Generalizable">A</a> <a id="835" href="Data.Vec.Effectful.Foldable.html#641" class="Generalizable">n</a> <a id="837" class="Symbol">→</a> <a id="839" href="Algebra.Bundles.Raw.html#1803" class="Field">Carrier</a>
  <a id="849" href="Data.Vec.Effectful.Foldable.html#803" class="Function">foldMap</a> <a id="857" href="Data.Vec.Effectful.Foldable.html#857" class="Bound">f</a> <a id="859" href="Data.Vec.Base.html#1155" class="InductiveConstructor">[]</a>       <a id="868" class="Symbol">=</a> <a id="870" href="Algebra.Bundles.Raw.html#1877" class="Field">ε</a>
  <a id="874" href="Data.Vec.Effectful.Foldable.html#803" class="Function">foldMap</a> <a id="882" href="Data.Vec.Effectful.Foldable.html#882" class="Bound">f</a> <a id="884" class="Symbol">(</a><a id="885" href="Data.Vec.Effectful.Foldable.html#885" class="Bound">x</a> <a id="887" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">∷</a> <a id="889" href="Data.Vec.Effectful.Foldable.html#889" class="Bound">xs</a><a id="891" class="Symbol">)</a> <a id="893" class="Symbol">=</a> <a id="895" href="Data.Vec.Effectful.Foldable.html#882" class="Bound">f</a> <a id="897" href="Data.Vec.Effectful.Foldable.html#885" class="Bound">x</a> <a id="899" href="Algebra.Bundles.Raw.html#1851" class="Field Operator">∙</a> <a id="901" href="Data.Vec.Effectful.Foldable.html#803" class="Function">foldMap</a> <a id="909" href="Data.Vec.Effectful.Foldable.html#882" class="Bound">f</a> <a id="911" href="Data.Vec.Effectful.Foldable.html#889" class="Bound">xs</a>

<a id="915" class="Comment">------------------------------------------------------------------------</a>
<a id="988" class="Comment">-- Basic implementation using supplied defaults</a>

<a id="foldableWithDefaults"></a><a id="1037" href="Data.Vec.Effectful.Foldable.html#1037" class="Function">foldableWithDefaults</a> <a id="1058" class="Symbol">:</a> <a id="1060" href="Effect.Foldable.html#1536" class="Record">RawFoldableWithDefaults</a> <a id="1084" class="Symbol">{</a><a id="1085" href="Data.Vec.Effectful.Foldable.html#609" class="Generalizable">a</a><a id="1086" class="Symbol">}</a> <a id="1088" class="Symbol">(λ</a> <a id="1091" href="Data.Vec.Effectful.Foldable.html#1091" class="Bound">A</a> <a id="1093" class="Symbol">→</a> <a id="1095" href="Data.Vec.Base.html#1119" class="Datatype">Vec</a> <a id="1099" href="Data.Vec.Effectful.Foldable.html#1091" class="Bound">A</a> <a id="1101" href="Data.Vec.Effectful.Foldable.html#641" class="Generalizable">n</a><a id="1102" class="Symbol">)</a>
<a id="1104" href="Data.Vec.Effectful.Foldable.html#1037" class="Function">foldableWithDefaults</a> <a id="1125" class="Symbol">=</a> <a id="1127" class="Keyword">record</a> <a id="1134" class="Symbol">{</a> <a id="1136" href="Effect.Foldable.html#1605" class="Field">foldMap</a> <a id="1144" class="Symbol">=</a> <a id="1146" class="Symbol">λ</a> <a id="1148" href="Data.Vec.Effectful.Foldable.html#1148" class="Bound">M</a> <a id="1150" class="Symbol">→</a> <a id="1152" href="Data.Vec.Effectful.Foldable.html#803" class="Function">foldMap</a> <a id="1160" href="Data.Vec.Effectful.Foldable.html#1148" class="Bound">M</a> <a id="1162" class="Symbol">}</a>

<a id="1165" class="Comment">------------------------------------------------------------------------</a>
<a id="1238" class="Comment">-- Specialised version using optimised implementations</a>

<a id="foldable"></a><a id="1294" href="Data.Vec.Effectful.Foldable.html#1294" class="Function">foldable</a> <a id="1303" class="Symbol">:</a> <a id="1305" href="Effect.Foldable.html#1013" class="Record">RawFoldable</a> <a id="1317" class="Symbol">{</a><a id="1318" href="Data.Vec.Effectful.Foldable.html#609" class="Generalizable">a</a><a id="1319" class="Symbol">}</a> <a id="1321" class="Symbol">(λ</a> <a id="1324" href="Data.Vec.Effectful.Foldable.html#1324" class="Bound">A</a> <a id="1326" class="Symbol">→</a> <a id="1328" href="Data.Vec.Base.html#1119" class="Datatype">Vec</a> <a id="1332" href="Data.Vec.Effectful.Foldable.html#1324" class="Bound">A</a> <a id="1334" href="Data.Vec.Effectful.Foldable.html#641" class="Generalizable">n</a><a id="1335" class="Symbol">)</a>
<a id="1337" href="Data.Vec.Effectful.Foldable.html#1294" class="Function">foldable</a> <a id="1346" class="Symbol">=</a> <a id="1348" class="Keyword">record</a>
  <a id="1357" class="Symbol">{</a> <a id="1359" href="Effect.Foldable.html#1070" class="Field">foldMap</a> <a id="1367" class="Symbol">=</a> <a id="1369" class="Symbol">λ</a> <a id="1371" href="Data.Vec.Effectful.Foldable.html#1371" class="Bound">M</a> <a id="1373" class="Symbol">→</a> <a id="1375" href="Data.Vec.Effectful.Foldable.html#803" class="Function">foldMap</a> <a id="1383" href="Data.Vec.Effectful.Foldable.html#1371" class="Bound">M</a>
  <a id="1387" class="Symbol">;</a> <a id="1389" href="Effect.Foldable.html#1273" class="Field">foldr</a> <a id="1395" class="Symbol">=</a> <a id="1397" href="Data.Vec.Base.html#5736" class="Function">foldr′</a>
  <a id="1406" class="Symbol">;</a> <a id="1408" href="Effect.Foldable.html#1316" class="Field">foldl</a> <a id="1414" class="Symbol">=</a> <a id="1416" href="Data.Vec.Base.html#5801" class="Function">foldl′</a>
  <a id="1425" class="Symbol">;</a> <a id="1427" href="Effect.Foldable.html#1359" class="Field">toList</a> <a id="1434" class="Symbol">=</a> <a id="1436" href="Data.Vec.Base.html#8402" class="Function">toList</a>
  <a id="1445" class="Symbol">}</a>

</pre></body></html>