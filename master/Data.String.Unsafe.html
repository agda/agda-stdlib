<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.String.Unsafe</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Unsafe String operations and proofs</a>
<a id="145" class="Comment">------------------------------------------------------------------------</a>

<a id="219" class="Symbol">{-#</a> <a id="223" class="Keyword">OPTIONS</a> <a id="231" class="Pragma">--with-K</a> <a id="240" class="Symbol">#-}</a>

<a id="245" class="Keyword">module</a> <a id="252" href="Data.String.Unsafe.html" class="Module">Data.String.Unsafe</a> <a id="271" class="Keyword">where</a>

<a id="278" class="Keyword">import</a> <a id="285" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="300" class="Symbol">as</a> <a id="303" class="Module">List</a> <a id="308" class="Keyword">using</a> <a id="314" class="Symbol">(</a><a id="315" href="Agda.Builtin.List.html#147" class="Datatype">List</a><a id="319" class="Symbol">;</a> <a id="321" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">_∷_</a><a id="324" class="Symbol">;</a> <a id="326" href="Data.List.Base.html#1712" class="Function Operator">_++_</a><a id="330" class="Symbol">;</a> <a id="332" href="Data.List.Base.html#4746" class="Function">length</a><a id="338" class="Symbol">;</a> <a id="340" href="Data.List.Base.html#5021" class="Function">replicate</a><a id="349" class="Symbol">;</a> <a id="351" href="Data.List.Base.html#8213" class="Function">tail</a><a id="355" class="Symbol">)</a>
<a id="357" class="Keyword">import</a> <a id="364" href="Data.List.Properties.html" class="Module">Data.List.Properties</a> <a id="385" class="Symbol">as</a> <a id="388" class="Module">Listₚ</a> <a id="394" class="Keyword">using</a> <a id="400" class="Symbol">(</a><a id="401" href="Data.List.Properties.html#42645" class="Function">length-replicate</a><a id="417" class="Symbol">;</a> <a id="419" href="Data.List.Properties.html#4957" class="Function">length-++</a><a id="428" class="Symbol">)</a>
<a id="430" class="Keyword">open</a> <a id="435" class="Keyword">import</a> <a id="442" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="458" class="Keyword">using</a> <a id="464" class="Symbol">(</a><a id="465" href="Data.Maybe.Base.html#1468" class="Function">maybe′</a><a id="471" class="Symbol">)</a>
<a id="473" class="Keyword">open</a> <a id="478" class="Keyword">import</a> <a id="485" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="499" class="Keyword">using</a> <a id="505" class="Symbol">(</a><a id="506" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="510" class="Symbol">;</a> <a id="512" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="515" class="Symbol">;</a> <a id="517" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a><a id="520" class="Symbol">)</a>
<a id="522" class="Keyword">open</a> <a id="527" class="Keyword">import</a> <a id="534" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="552" class="Keyword">using</a> <a id="558" class="Symbol">(</a><a id="559" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="564" class="Symbol">)</a>
<a id="566" class="Keyword">open</a> <a id="571" class="Keyword">import</a> <a id="578" href="Data.String.Base.html" class="Module">Data.String.Base</a>
  <a id="597" class="Keyword">using</a> <a id="603" class="Symbol">(</a><a id="604" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="610" class="Symbol">;</a> <a id="612" href="Data.String.Base.html#1558" class="Primitive">toList</a><a id="618" class="Symbol">;</a> <a id="620" href="Data.String.Base.html#1591" class="Primitive">fromList</a><a id="628" class="Symbol">;</a> <a id="630" href="Data.String.Base.html#2489" class="Function">length</a><a id="636" class="Symbol">;</a> <a id="638" href="Data.String.Base.html#2168" class="Function">tail</a><a id="642" class="Symbol">;</a> <a id="644" href="Data.String.Base.html#2425" class="Function Operator">_++_</a><a id="648" class="Symbol">;</a> <a id="650" href="Data.String.Base.html#2540" class="Function">replicate</a><a id="659" class="Symbol">)</a>
<a id="661" class="Keyword">open</a> <a id="666" class="Keyword">import</a> <a id="673" href="Function.Base.html" class="Module">Function.Base</a> <a id="687" class="Keyword">using</a> <a id="693" class="Symbol">(</a><a id="694" href="Function.Base.html#3626" class="Function Operator">_∘′_</a><a id="698" class="Symbol">)</a>
<a id="700" class="Keyword">open</a> <a id="705" class="Keyword">import</a> <a id="712" href="Relation.Binary.PropositionalEquality.Core.html" class="Module">Relation.Binary.PropositionalEquality.Core</a> <a id="755" class="Keyword">using</a> <a id="761" class="Symbol">(</a><a id="762" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="765" class="Symbol">;</a> <a id="767" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a><a id="771" class="Symbol">)</a>
<a id="773" class="Keyword">open</a> <a id="778" class="Keyword">import</a> <a id="785" href="Relation.Binary.PropositionalEquality.Properties.html" class="Module">Relation.Binary.PropositionalEquality.Properties</a>
  <a id="836" class="Keyword">using</a> <a id="842" class="Symbol">(</a><a id="843" class="Keyword">module</a> <a id="850" href="Relation.Binary.PropositionalEquality.Properties.html#6850" class="Module">≡-Reasoning</a><a id="861" class="Symbol">)</a>
<a id="863" class="Keyword">open</a> <a id="868" class="Keyword">import</a> <a id="875" href="Relation.Binary.PropositionalEquality.TrustMe.html" class="Module">Relation.Binary.PropositionalEquality.TrustMe</a> <a id="921" class="Keyword">using</a> <a id="927" class="Symbol">(</a><a id="928" href="Relation.Binary.PropositionalEquality.TrustMe.html#520" class="Function">trustMe</a><a id="935" class="Symbol">)</a>

<a id="938" class="Keyword">open</a> <a id="943" href="Relation.Binary.PropositionalEquality.Properties.html#6850" class="Module">≡-Reasoning</a>

<a id="956" class="Comment">------------------------------------------------------------------------</a>
<a id="1029" class="Comment">-- Properties of tail</a>

<a id="length-tail"></a><a id="1052" href="Data.String.Unsafe.html#1052" class="Function">length-tail</a> <a id="1064" class="Symbol">:</a> <a id="1066" class="Symbol">∀</a> <a id="1068" href="Data.String.Unsafe.html#1068" class="Bound">s</a> <a id="1070" class="Symbol">→</a> <a id="1072" href="Data.String.Base.html#2489" class="Function">length</a> <a id="1079" href="Data.String.Unsafe.html#1068" class="Bound">s</a> <a id="1081" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1083" href="Data.Maybe.Base.html#1468" class="Function">maybe′</a> <a id="1090" class="Symbol">(</a><a id="1091" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1095" href="Function.Base.html#3626" class="Function Operator">∘′</a> <a id="1098" href="Data.String.Base.html#2489" class="Function">length</a><a id="1104" class="Symbol">)</a> <a id="1106" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="1111" class="Symbol">(</a><a id="1112" href="Data.String.Base.html#2168" class="Function">tail</a> <a id="1117" href="Data.String.Unsafe.html#1068" class="Bound">s</a><a id="1118" class="Symbol">)</a>
<a id="1120" href="Data.String.Unsafe.html#1052" class="Function">length-tail</a> <a id="1132" href="Data.String.Unsafe.html#1132" class="Bound">s</a> <a id="1134" class="Symbol">=</a> <a id="1136" href="Relation.Binary.PropositionalEquality.TrustMe.html#520" class="Function">trustMe</a>

<a id="1145" class="Comment">------------------------------------------------------------------------</a>
<a id="1218" class="Comment">-- Properties of conversion functions</a>

<a id="toList∘fromList"></a><a id="1257" href="Data.String.Unsafe.html#1257" class="Function">toList∘fromList</a> <a id="1273" class="Symbol">:</a> <a id="1275" class="Symbol">∀</a> <a id="1277" href="Data.String.Unsafe.html#1277" class="Bound">s</a> <a id="1279" class="Symbol">→</a> <a id="1281" href="Data.String.Base.html#1558" class="Primitive">toList</a> <a id="1288" class="Symbol">(</a><a id="1289" href="Data.String.Base.html#1591" class="Primitive">fromList</a> <a id="1298" href="Data.String.Unsafe.html#1277" class="Bound">s</a><a id="1299" class="Symbol">)</a> <a id="1301" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1303" href="Data.String.Unsafe.html#1277" class="Bound">s</a>
<a id="1305" href="Data.String.Unsafe.html#1257" class="Function">toList∘fromList</a> <a id="1321" href="Data.String.Unsafe.html#1321" class="Bound">s</a> <a id="1323" class="Symbol">=</a> <a id="1325" href="Relation.Binary.PropositionalEquality.TrustMe.html#520" class="Function">trustMe</a>

<a id="fromList∘toList"></a><a id="1334" href="Data.String.Unsafe.html#1334" class="Function">fromList∘toList</a> <a id="1350" class="Symbol">:</a> <a id="1352" class="Symbol">∀</a> <a id="1354" href="Data.String.Unsafe.html#1354" class="Bound">s</a> <a id="1356" class="Symbol">→</a> <a id="1358" href="Data.String.Base.html#1591" class="Primitive">fromList</a> <a id="1367" class="Symbol">(</a><a id="1368" href="Data.String.Base.html#1558" class="Primitive">toList</a> <a id="1375" href="Data.String.Unsafe.html#1354" class="Bound">s</a><a id="1376" class="Symbol">)</a> <a id="1378" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1380" href="Data.String.Unsafe.html#1354" class="Bound">s</a>
<a id="1382" href="Data.String.Unsafe.html#1334" class="Function">fromList∘toList</a> <a id="1398" href="Data.String.Unsafe.html#1398" class="Bound">s</a> <a id="1400" class="Symbol">=</a> <a id="1402" href="Relation.Binary.PropositionalEquality.TrustMe.html#520" class="Function">trustMe</a>

<a id="toList-++"></a><a id="1411" href="Data.String.Unsafe.html#1411" class="Function">toList-++</a> <a id="1421" class="Symbol">:</a> <a id="1423" class="Symbol">∀</a> <a id="1425" href="Data.String.Unsafe.html#1425" class="Bound">s</a> <a id="1427" href="Data.String.Unsafe.html#1427" class="Bound">t</a> <a id="1429" class="Symbol">→</a> <a id="1431" href="Data.String.Base.html#1558" class="Primitive">toList</a> <a id="1438" class="Symbol">(</a><a id="1439" href="Data.String.Unsafe.html#1425" class="Bound">s</a> <a id="1441" href="Data.String.Base.html#2425" class="Function Operator">++</a> <a id="1444" href="Data.String.Unsafe.html#1427" class="Bound">t</a><a id="1445" class="Symbol">)</a> <a id="1447" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1449" href="Data.String.Base.html#1558" class="Primitive">toList</a> <a id="1456" href="Data.String.Unsafe.html#1425" class="Bound">s</a> <a id="1458" href="Data.List.Base.html#1712" class="Function Operator">List.++</a> <a id="1466" href="Data.String.Base.html#1558" class="Primitive">toList</a> <a id="1473" href="Data.String.Unsafe.html#1427" class="Bound">t</a>
<a id="1475" href="Data.String.Unsafe.html#1411" class="Function">toList-++</a> <a id="1485" href="Data.String.Unsafe.html#1485" class="Bound">s</a> <a id="1487" href="Data.String.Unsafe.html#1487" class="Bound">t</a> <a id="1489" class="Symbol">=</a> <a id="1491" href="Relation.Binary.PropositionalEquality.TrustMe.html#520" class="Function">trustMe</a>

<a id="length-++"></a><a id="1500" href="Data.String.Unsafe.html#1500" class="Function">length-++</a> <a id="1510" class="Symbol">:</a> <a id="1512" class="Symbol">∀</a> <a id="1514" href="Data.String.Unsafe.html#1514" class="Bound">s</a> <a id="1516" href="Data.String.Unsafe.html#1516" class="Bound">t</a> <a id="1518" class="Symbol">→</a> <a id="1520" href="Data.String.Base.html#2489" class="Function">length</a> <a id="1527" class="Symbol">(</a><a id="1528" href="Data.String.Unsafe.html#1514" class="Bound">s</a> <a id="1530" href="Data.String.Base.html#2425" class="Function Operator">++</a> <a id="1533" href="Data.String.Unsafe.html#1516" class="Bound">t</a><a id="1534" class="Symbol">)</a> <a id="1536" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1538" href="Data.String.Base.html#2489" class="Function">length</a> <a id="1545" href="Data.String.Unsafe.html#1514" class="Bound">s</a> <a id="1547" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="1549" href="Data.String.Base.html#2489" class="Function">length</a> <a id="1556" href="Data.String.Unsafe.html#1516" class="Bound">t</a>
<a id="1558" href="Data.String.Unsafe.html#1500" class="Function">length-++</a> <a id="1568" href="Data.String.Unsafe.html#1568" class="Bound">s</a> <a id="1570" href="Data.String.Unsafe.html#1570" class="Bound">t</a> <a id="1572" class="Symbol">=</a> <a id="1574" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
  <a id="1582" href="Data.String.Base.html#2489" class="Function">length</a> <a id="1589" class="Symbol">(</a><a id="1590" href="Data.String.Unsafe.html#1568" class="Bound">s</a> <a id="1592" href="Data.String.Base.html#2425" class="Function Operator">++</a> <a id="1595" href="Data.String.Unsafe.html#1570" class="Bound">t</a><a id="1596" class="Symbol">)</a>                         <a id="1622" href="Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
  <a id="1628" href="Data.List.Base.html#4746" class="Function">List.length</a> <a id="1640" class="Symbol">(</a><a id="1641" href="Data.String.Base.html#1558" class="Primitive">toList</a> <a id="1648" class="Symbol">(</a><a id="1649" href="Data.String.Unsafe.html#1568" class="Bound">s</a> <a id="1651" href="Data.String.Base.html#2425" class="Function Operator">++</a> <a id="1654" href="Data.String.Unsafe.html#1570" class="Bound">t</a><a id="1655" class="Symbol">))</a>           <a id="1668" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="1671" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="1676" href="Data.List.Base.html#4746" class="Function">List.length</a> <a id="1688" class="Symbol">(</a><a id="1689" href="Data.String.Unsafe.html#1411" class="Function">toList-++</a> <a id="1699" href="Data.String.Unsafe.html#1568" class="Bound">s</a> <a id="1701" href="Data.String.Unsafe.html#1570" class="Bound">t</a><a id="1702" class="Symbol">)</a> <a id="1704" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="1708" href="Data.List.Base.html#4746" class="Function">List.length</a> <a id="1720" class="Symbol">(</a><a id="1721" href="Data.String.Base.html#1558" class="Primitive">toList</a> <a id="1728" href="Data.String.Unsafe.html#1568" class="Bound">s</a> <a id="1730" href="Data.List.Base.html#1712" class="Function Operator">List.++</a> <a id="1738" href="Data.String.Base.html#1558" class="Primitive">toList</a> <a id="1745" href="Data.String.Unsafe.html#1570" class="Bound">t</a><a id="1746" class="Symbol">)</a> <a id="1748" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="1751" href="Data.List.Properties.html#4957" class="Function">Listₚ.length-++</a> <a id="1767" class="Symbol">(</a><a id="1768" href="Data.String.Base.html#1558" class="Primitive">toList</a> <a id="1775" href="Data.String.Unsafe.html#1568" class="Bound">s</a><a id="1776" class="Symbol">)</a> <a id="1778" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="1782" href="Data.String.Base.html#2489" class="Function">length</a> <a id="1789" href="Data.String.Unsafe.html#1568" class="Bound">s</a> <a id="1791" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="1793" href="Data.String.Base.html#2489" class="Function">length</a> <a id="1800" href="Data.String.Unsafe.html#1570" class="Bound">t</a>                     <a id="1822" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

<a id="length-replicate"></a><a id="1825" href="Data.String.Unsafe.html#1825" class="Function">length-replicate</a> <a id="1842" class="Symbol">:</a> <a id="1844" class="Symbol">∀</a> <a id="1846" href="Data.String.Unsafe.html#1846" class="Bound">n</a> <a id="1848" class="Symbol">{</a><a id="1849" href="Data.String.Unsafe.html#1849" class="Bound">c</a><a id="1850" class="Symbol">}</a> <a id="1852" class="Symbol">→</a> <a id="1854" href="Data.String.Base.html#2489" class="Function">length</a> <a id="1861" class="Symbol">(</a><a id="1862" href="Data.String.Base.html#2540" class="Function">replicate</a> <a id="1872" href="Data.String.Unsafe.html#1846" class="Bound">n</a> <a id="1874" href="Data.String.Unsafe.html#1849" class="Bound">c</a><a id="1875" class="Symbol">)</a> <a id="1877" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1879" href="Data.String.Unsafe.html#1846" class="Bound">n</a>
<a id="1881" href="Data.String.Unsafe.html#1825" class="Function">length-replicate</a> <a id="1898" href="Data.String.Unsafe.html#1898" class="Bound">n</a> <a id="1900" class="Symbol">{</a><a id="1901" href="Data.String.Unsafe.html#1901" class="Bound">c</a><a id="1902" class="Symbol">}</a> <a id="1904" class="Symbol">=</a> <a id="1906" class="Keyword">let</a> <a id="1910" href="Data.String.Unsafe.html#1910" class="Bound">cs</a> <a id="1913" class="Symbol">=</a> <a id="1915" href="Data.List.Base.html#5021" class="Function">List.replicate</a> <a id="1930" href="Data.String.Unsafe.html#1898" class="Bound">n</a> <a id="1932" href="Data.String.Unsafe.html#1901" class="Bound">c</a> <a id="1934" class="Keyword">in</a> <a id="1937" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
  <a id="1945" href="Data.String.Base.html#2489" class="Function">length</a> <a id="1952" class="Symbol">(</a><a id="1953" href="Data.String.Base.html#2540" class="Function">replicate</a> <a id="1963" href="Data.String.Unsafe.html#1898" class="Bound">n</a> <a id="1965" href="Data.String.Unsafe.html#1901" class="Bound">c</a><a id="1966" class="Symbol">)</a> <a id="1968" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="1971" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="1976" href="Data.List.Base.html#4746" class="Function">List.length</a> <a id="1988" class="Symbol">(</a><a id="1989" href="Data.String.Unsafe.html#1257" class="Function">toList∘fromList</a> <a id="2005" href="Data.String.Unsafe.html#1910" class="Bound">cs</a><a id="2007" class="Symbol">)</a> <a id="2009" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="2013" href="Data.List.Base.html#4746" class="Function">List.length</a> <a id="2025" href="Data.String.Unsafe.html#1910" class="Bound">cs</a>         <a id="2036" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="2039" href="Data.List.Properties.html#42645" class="Function">Listₚ.length-replicate</a> <a id="2062" href="Data.String.Unsafe.html#1898" class="Bound">n</a> <a id="2064" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="2068" href="Data.String.Unsafe.html#1898" class="Bound">n</a>                      <a id="2091" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
</pre></body></html>