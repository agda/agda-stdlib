<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.List.Countdown</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- A data structure which keeps track of an upper bound on the number</a>
<a id="176" class="Comment">-- of elements /not/ in a given list</a>
<a id="213" class="Comment">------------------------------------------------------------------------</a>

<a id="287" class="Symbol">{-#</a> <a id="291" class="Keyword">OPTIONS</a> <a id="299" class="Pragma">--cubical-compatible</a> <a id="320" class="Pragma">--safe</a> <a id="327" class="Symbol">#-}</a>

<a id="332" class="Keyword">open</a> <a id="337" class="Keyword">import</a> <a id="344" href="Level.html" class="Module">Level</a> <a id="350" class="Keyword">using</a> <a id="356" class="Symbol">(</a><a id="357" href="Level.html#521" class="Function">0ℓ</a><a id="359" class="Symbol">)</a>
<a id="361" class="Keyword">open</a> <a id="366" class="Keyword">import</a> <a id="373" href="Relation.Binary.Bundles.html" class="Module">Relation.Binary.Bundles</a> <a id="397" class="Keyword">using</a> <a id="403" class="Symbol">(</a><a id="404" href="Relation.Binary.Bundles.html#1703" class="Record">DecSetoid</a><a id="413" class="Symbol">)</a>

<a id="416" class="Keyword">module</a> <a id="423" href="Data.List.Countdown.html" class="Module">Data.List.Countdown</a> <a id="443" class="Symbol">(</a><a id="444" href="Data.List.Countdown.html#444" class="Bound">D</a> <a id="446" class="Symbol">:</a> <a id="448" href="Relation.Binary.Bundles.html#1703" class="Record">DecSetoid</a> <a id="458" href="Level.html#521" class="Function">0ℓ</a> <a id="461" href="Level.html#521" class="Function">0ℓ</a><a id="463" class="Symbol">)</a> <a id="465" class="Keyword">where</a>

<a id="472" class="Keyword">open</a> <a id="477" class="Keyword">import</a> <a id="484" href="Data.Empty.html" class="Module">Data.Empty</a> <a id="495" class="Keyword">using</a> <a id="501" class="Symbol">(</a><a id="502" href="Data.Empty.html#914" class="Function">⊥</a><a id="503" class="Symbol">;</a> <a id="505" href="Data.Empty.html#1069" class="Function">⊥-elim</a><a id="511" class="Symbol">)</a>
<a id="513" class="Keyword">open</a> <a id="518" class="Keyword">import</a> <a id="525" href="Data.Fin.Base.html" class="Module">Data.Fin.Base</a> <a id="539" class="Keyword">using</a> <a id="545" class="Symbol">(</a><a id="546" href="Data.Fin.Base.html#1171" class="Datatype">Fin</a><a id="549" class="Symbol">;</a> <a id="551" href="Data.Fin.Base.html#1193" class="InductiveConstructor">zero</a><a id="555" class="Symbol">;</a> <a id="557" href="Data.Fin.Base.html#1214" class="InductiveConstructor">suc</a><a id="560" class="Symbol">;</a> <a id="562" href="Data.Fin.Base.html#6856" class="Function">punchOut</a><a id="570" class="Symbol">)</a>
<a id="572" class="Keyword">open</a> <a id="577" class="Keyword">import</a> <a id="584" href="Data.Fin.Properties.html" class="Module">Data.Fin.Properties</a> <a id="604" class="Keyword">using</a> <a id="610" class="Symbol">(</a><a id="611" href="Data.Fin.Properties.html#3654" class="Function">suc-injective</a><a id="624" class="Symbol">;</a> <a id="626" href="Data.Fin.Properties.html#32153" class="Function">punchOut-injective</a><a id="644" class="Symbol">)</a>
<a id="646" class="Keyword">open</a> <a id="651" class="Keyword">import</a> <a id="658" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="673" class="Keyword">using</a> <a id="679" class="Symbol">(</a><a id="680" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="684" class="Symbol">;</a> <a id="686" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="691" class="Symbol">)</a>
<a id="693" class="Keyword">open</a> <a id="698" class="Keyword">import</a> <a id="705" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="720" class="Keyword">hiding</a> <a id="727" class="Symbol">(</a><a id="728" href="Data.List.Base.html#6263" class="Function">lookup</a><a id="734" class="Symbol">)</a>
<a id="736" class="Keyword">open</a> <a id="741" class="Keyword">import</a> <a id="748" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a> <a id="777" class="Symbol">as</a> <a id="780" class="Module">Any</a> <a id="784" class="Keyword">using</a> <a id="790" class="Symbol">(</a><a id="791" href="Data.List.Relation.Unary.Any.html#1211" class="InductiveConstructor">here</a><a id="795" class="Symbol">;</a> <a id="797" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a><a id="802" class="Symbol">)</a>
<a id="804" class="Keyword">open</a> <a id="809" class="Keyword">import</a> <a id="816" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="830" class="Keyword">using</a> <a id="836" class="Symbol">(</a><a id="837" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="838" class="Symbol">;</a> <a id="840" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="844" class="Symbol">;</a> <a id="846" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="849" class="Symbol">)</a>
<a id="851" class="Keyword">open</a> <a id="856" class="Keyword">import</a> <a id="863" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="881" class="Keyword">using</a> <a id="887" class="Symbol">(</a><a id="888" href="Data.Product.Base.html#852" class="Function">∃</a><a id="889" class="Symbol">;</a> <a id="891" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="894" class="Symbol">;</a> <a id="896" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="899" class="Symbol">)</a>
<a id="901" class="Keyword">open</a> <a id="906" class="Keyword">import</a> <a id="913" href="Data.Sum.Base.html" class="Module">Data.Sum.Base</a> <a id="927" class="Keyword">using</a> <a id="933" class="Symbol">(</a><a id="934" href="Data.Sum.Base.html#625" class="Datatype Operator">_⊎_</a><a id="937" class="Symbol">;</a> <a id="939" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a><a id="943" class="Symbol">;</a> <a id="945" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a><a id="949" class="Symbol">)</a>
<a id="951" class="Keyword">open</a> <a id="956" class="Keyword">import</a> <a id="963" href="Data.Sum.Properties.html" class="Module">Data.Sum.Properties</a> <a id="983" class="Keyword">using</a> <a id="989" class="Symbol">(</a><a id="990" href="Data.Sum.Properties.html#871" class="Function">inj₁-injective</a><a id="1004" class="Symbol">;</a> <a id="1006" href="Data.Sum.Properties.html#960" class="Function">inj₂-injective</a><a id="1020" class="Symbol">)</a>
<a id="1022" class="Keyword">open</a> <a id="1027" class="Keyword">import</a> <a id="1034" href="Function.Base.html" class="Module">Function.Base</a> <a id="1048" class="Keyword">using</a> <a id="1054" class="Symbol">(</a><a id="1055" href="Function.Base.html#725" class="Function">const</a><a id="1060" class="Symbol">;</a> <a id="1062" href="Function.Base.html#1974" class="Function Operator">_$_</a><a id="1065" class="Symbol">;</a> <a id="1067" href="Function.Base.html#1115" class="Function Operator">_∘_</a><a id="1070" class="Symbol">)</a>
<a id="1072" class="Keyword">open</a> <a id="1077" class="Keyword">import</a> <a id="1084" href="Function.Bundles.html" class="Module">Function.Bundles</a> <a id="1101" class="Keyword">using</a> <a id="1107" class="Symbol">(</a><a id="1108" href="Function.Bundles.html#2415" class="Record">Injection</a><a id="1117" class="Symbol">;</a> <a id="1119" class="Keyword">module</a> <a id="1126" href="Function.Bundles.html#2415" class="Module">Injection</a><a id="1135" class="Symbol">)</a>
<a id="1137" class="Keyword">open</a> <a id="1142" class="Keyword">import</a> <a id="1149" href="Relation.Nullary.Reflects.html" class="Module">Relation.Nullary.Reflects</a> <a id="1175" class="Keyword">using</a> <a id="1181" class="Symbol">(</a><a id="1182" href="Relation.Nullary.Reflects.html#1654" class="Function">invert</a><a id="1188" class="Symbol">)</a>
<a id="1190" class="Keyword">open</a> <a id="1195" class="Keyword">import</a> <a id="1202" href="Relation.Nullary.Decidable.Core.html" class="Module">Relation.Nullary.Decidable.Core</a> <a id="1234" class="Keyword">using</a> <a id="1240" class="Symbol">(</a><a id="1241" href="Relation.Nullary.Decidable.Core.html#1913" class="Record">Dec</a><a id="1244" class="Symbol">;</a> <a id="1246" href="Relation.Nullary.Decidable.Core.html#2046" class="InductiveConstructor">yes</a><a id="1249" class="Symbol">;</a> <a id="1251" href="Relation.Nullary.Decidable.Core.html#2083" class="InductiveConstructor">no</a><a id="1253" class="Symbol">;</a> <a id="1255" href="Relation.Nullary.Decidable.Core.html#1957" class="InductiveConstructor Operator">_because_</a><a id="1264" class="Symbol">)</a>
<a id="1266" class="Keyword">open</a> <a id="1271" class="Keyword">import</a> <a id="1278" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="1305" class="Keyword">using</a> <a id="1311" class="Symbol">(</a><a id="1312" href="Relation.Nullary.Decidable.html#2322" class="Function">dec-true</a><a id="1320" class="Symbol">;</a> <a id="1322" href="Relation.Nullary.Decidable.html#2471" class="Function">dec-false</a><a id="1331" class="Symbol">)</a>
<a id="1333" class="Keyword">open</a> <a id="1338" class="Keyword">import</a> <a id="1345" href="Relation.Binary.PropositionalEquality.Core.html" class="Module">Relation.Binary.PropositionalEquality.Core</a> <a id="1388" class="Symbol">as</a> <a id="1391" class="Module">≡</a>
  <a id="1395" class="Keyword">using</a> <a id="1401" class="Symbol">(</a><a id="1402" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="1405" class="Symbol">;</a> <a id="1407" href="Relation.Binary.PropositionalEquality.Core.html#1000" class="Function Operator">_≢_</a><a id="1410" class="Symbol">;</a> <a id="1412" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="1416" class="Symbol">;</a> <a id="1418" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a><a id="1422" class="Symbol">)</a>
<a id="1424" class="Keyword">import</a> <a id="1431" href="Relation.Binary.PropositionalEquality.Properties.html" class="Module">Relation.Binary.PropositionalEquality.Properties</a> <a id="1480" class="Symbol">as</a> <a id="1483" class="Module">≡</a>
<a id="1485" class="Keyword">open</a> <a id="1490" href="Relation.Binary.PropositionalEquality.Properties.html#6850" class="Module">≡.≡-Reasoning</a>

<a id="1505" class="Keyword">private</a>
  <a id="1515" class="Keyword">open</a> <a id="1520" class="Keyword">module</a> <a id="D"></a><a id="1527" href="Data.List.Countdown.html#1527" class="Module">D</a> <a id="1529" class="Symbol">=</a> <a id="1531" href="Relation.Binary.Bundles.html#1703" class="Module">DecSetoid</a> <a id="1541" href="Data.List.Countdown.html#444" class="Bound">D</a>
    <a id="1547" class="Keyword">hiding</a> <a id="1554" class="Symbol">(</a><a id="1555" href="Relation.Binary.Structures.html#1641" class="Function">refl</a><a id="1559" class="Symbol">)</a> <a id="1561" class="Keyword">renaming</a> <a id="1570" class="Symbol">(</a><a id="1571" href="Relation.Binary.Bundles.html#1769" class="Field">Carrier</a> <a id="1579" class="Symbol">to</a> <a id="1582" class="Field">Elem</a><a id="1586" class="Symbol">)</a>
  <a id="1590" class="Keyword">open</a> <a id="1595" class="Keyword">import</a> <a id="1602" href="Data.List.Membership.Setoid.html" class="Module">Data.List.Membership.Setoid</a> <a id="1630" href="Relation.Binary.Bundles.html#1958" class="Function">D.setoid</a>

<a id="1640" class="Comment">------------------------------------------------------------------------</a>
<a id="1713" class="Comment">-- Helper functions</a>

<a id="1734" class="Keyword">private</a>

  <a id="1745" class="Comment">-- The /first/ occurrence of x in xs.</a>

  <a id="first-occurrence"></a><a id="1786" href="Data.List.Countdown.html#1786" class="Function">first-occurrence</a> <a id="1803" class="Symbol">:</a> <a id="1805" class="Symbol">∀</a> <a id="1807" class="Symbol">{</a><a id="1808" href="Data.List.Countdown.html#1808" class="Bound">xs</a><a id="1810" class="Symbol">}</a> <a id="1812" href="Data.List.Countdown.html#1812" class="Bound">x</a> <a id="1814" class="Symbol">→</a> <a id="1816" href="Data.List.Countdown.html#1812" class="Bound">x</a> <a id="1818" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈</a> <a id="1820" href="Data.List.Countdown.html#1808" class="Bound">xs</a> <a id="1823" class="Symbol">→</a> <a id="1825" href="Data.List.Countdown.html#1812" class="Bound">x</a> <a id="1827" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈</a> <a id="1829" href="Data.List.Countdown.html#1808" class="Bound">xs</a>
  <a id="1834" href="Data.List.Countdown.html#1786" class="Function">first-occurrence</a> <a id="1851" href="Data.List.Countdown.html#1851" class="Bound">x</a> <a id="1853" class="Symbol">(</a><a id="1854" href="Data.List.Relation.Unary.Any.html#1211" class="InductiveConstructor">here</a> <a id="1859" href="Data.List.Countdown.html#1859" class="Bound">x≈y</a><a id="1862" class="Symbol">)</a>           <a id="1874" class="Symbol">=</a> <a id="1876" href="Data.List.Relation.Unary.Any.html#1211" class="InductiveConstructor">here</a> <a id="1881" href="Data.List.Countdown.html#1859" class="Bound">x≈y</a>
  <a id="1887" href="Data.List.Countdown.html#1786" class="Function">first-occurrence</a> <a id="1904" href="Data.List.Countdown.html#1904" class="Bound">x</a> <a id="1906" class="Symbol">(</a><a id="1907" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="1913" class="Symbol">{</a><a id="1914" class="Argument">x</a> <a id="1916" class="Symbol">=</a> <a id="1918" href="Data.List.Countdown.html#1918" class="Bound">y</a><a id="1919" class="Symbol">}</a> <a id="1921" href="Data.List.Countdown.html#1921" class="Bound">x∈xs</a><a id="1925" class="Symbol">)</a> <a id="1927" class="Keyword">with</a> <a id="1932" href="Data.List.Countdown.html#1904" class="Bound">x</a> <a id="1934" href="Relation.Binary.Structures.html#1994" class="Function Operator">≟</a> <a id="1936" href="Data.List.Countdown.html#1918" class="Bound">y</a>
  <a id="1940" class="Symbol">...</a> <a id="1944" class="Symbol">|</a> <a id="1946" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="1952" href="Relation.Nullary.Decidable.Core.html#1957" class="InductiveConstructor Operator">because</a> <a id="1960" href="Data.List.Countdown.html#1960" class="Bound">[x≈y]</a> <a id="1966" class="Symbol">=</a> <a id="1968" href="Data.List.Relation.Unary.Any.html#1211" class="InductiveConstructor">here</a> <a id="1973" class="Symbol">(</a><a id="1974" href="Relation.Nullary.Reflects.html#1654" class="Function">invert</a> <a id="1981" href="Data.List.Countdown.html#1960" class="Bound">[x≈y]</a><a id="1986" class="Symbol">)</a>
  <a id="1990" class="Symbol">...</a> <a id="1994" class="Symbol">|</a> <a id="1996" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="2002" href="Relation.Nullary.Decidable.Core.html#1957" class="InductiveConstructor Operator">because</a>   <a id="2012" class="Symbol">_</a>   <a id="2016" class="Symbol">=</a> <a id="2018" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="2024" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="2026" href="Data.List.Countdown.html#1786" class="Function">first-occurrence</a> <a id="2043" class="Bound">x</a> <a id="2045" class="Bound">x∈xs</a>

  <a id="2053" class="Comment">-- The index of the first occurrence of x in xs.</a>

  <a id="first-index"></a><a id="2105" href="Data.List.Countdown.html#2105" class="Function">first-index</a> <a id="2117" class="Symbol">:</a> <a id="2119" class="Symbol">∀</a> <a id="2121" class="Symbol">{</a><a id="2122" href="Data.List.Countdown.html#2122" class="Bound">xs</a><a id="2124" class="Symbol">}</a> <a id="2126" href="Data.List.Countdown.html#2126" class="Bound">x</a> <a id="2128" class="Symbol">→</a> <a id="2130" href="Data.List.Countdown.html#2126" class="Bound">x</a> <a id="2132" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈</a> <a id="2134" href="Data.List.Countdown.html#2122" class="Bound">xs</a> <a id="2137" class="Symbol">→</a> <a id="2139" href="Data.Fin.Base.html#1171" class="Datatype">Fin</a> <a id="2143" class="Symbol">(</a><a id="2144" href="Data.List.Base.html#4746" class="Function">length</a> <a id="2151" href="Data.List.Countdown.html#2122" class="Bound">xs</a><a id="2153" class="Symbol">)</a>
  <a id="2157" href="Data.List.Countdown.html#2105" class="Function">first-index</a> <a id="2169" href="Data.List.Countdown.html#2169" class="Bound">x</a> <a id="2171" href="Data.List.Countdown.html#2171" class="Bound">x∈xs</a> <a id="2176" class="Symbol">=</a> <a id="2178" href="Data.List.Relation.Unary.Any.html#1814" class="Function">Any.index</a> <a id="2188" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="2190" href="Data.List.Countdown.html#1786" class="Function">first-occurrence</a> <a id="2207" href="Data.List.Countdown.html#2169" class="Bound">x</a> <a id="2209" href="Data.List.Countdown.html#2171" class="Bound">x∈xs</a>

  <a id="2217" class="Comment">-- first-index preserves equality of its first argument.</a>

  <a id="first-index-cong"></a><a id="2277" href="Data.List.Countdown.html#2277" class="Function">first-index-cong</a> <a id="2294" class="Symbol">:</a> <a id="2296" class="Symbol">∀</a> <a id="2298" class="Symbol">{</a><a id="2299" href="Data.List.Countdown.html#2299" class="Bound">x₁</a> <a id="2302" href="Data.List.Countdown.html#2302" class="Bound">x₂</a> <a id="2305" href="Data.List.Countdown.html#2305" class="Bound">xs</a><a id="2307" class="Symbol">}</a> <a id="2309" class="Symbol">(</a><a id="2310" href="Data.List.Countdown.html#2310" class="Bound">x₁∈xs</a> <a id="2316" class="Symbol">:</a> <a id="2318" href="Data.List.Countdown.html#2299" class="Bound">x₁</a> <a id="2321" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈</a> <a id="2323" href="Data.List.Countdown.html#2305" class="Bound">xs</a><a id="2325" class="Symbol">)</a> <a id="2327" class="Symbol">(</a><a id="2328" href="Data.List.Countdown.html#2328" class="Bound">x₂∈xs</a> <a id="2334" class="Symbol">:</a> <a id="2336" href="Data.List.Countdown.html#2302" class="Bound">x₂</a> <a id="2339" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈</a> <a id="2341" href="Data.List.Countdown.html#2305" class="Bound">xs</a><a id="2343" class="Symbol">)</a> <a id="2345" class="Symbol">→</a>
                     <a id="2368" href="Data.List.Countdown.html#2299" class="Bound">x₁</a> <a id="2371" href="Relation.Binary.Bundles.html#1798" class="Field Operator">≈</a> <a id="2373" href="Data.List.Countdown.html#2302" class="Bound">x₂</a> <a id="2376" class="Symbol">→</a> <a id="2378" href="Data.List.Countdown.html#2105" class="Function">first-index</a> <a id="2390" href="Data.List.Countdown.html#2299" class="Bound">x₁</a> <a id="2393" href="Data.List.Countdown.html#2310" class="Bound">x₁∈xs</a> <a id="2399" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2401" href="Data.List.Countdown.html#2105" class="Function">first-index</a> <a id="2413" href="Data.List.Countdown.html#2302" class="Bound">x₂</a> <a id="2416" href="Data.List.Countdown.html#2328" class="Bound">x₂∈xs</a>
  <a id="2424" href="Data.List.Countdown.html#2277" class="Function">first-index-cong</a> <a id="2441" class="Symbol">{</a><a id="2442" href="Data.List.Countdown.html#2442" class="Bound">x₁</a><a id="2444" class="Symbol">}</a> <a id="2446" class="Symbol">{</a><a id="2447" href="Data.List.Countdown.html#2447" class="Bound">x₂</a><a id="2449" class="Symbol">}</a> <a id="2451" href="Data.List.Countdown.html#2451" class="Bound">x₁∈xs</a> <a id="2457" href="Data.List.Countdown.html#2457" class="Bound">x₂∈xs</a> <a id="2463" href="Data.List.Countdown.html#2463" class="Bound">x₁≈x₂</a> <a id="2469" class="Symbol">=</a> <a id="2471" href="Data.List.Countdown.html#2504" class="Function">helper</a> <a id="2478" href="Data.List.Countdown.html#2451" class="Bound">x₁∈xs</a> <a id="2484" href="Data.List.Countdown.html#2457" class="Bound">x₂∈xs</a>
    <a id="2494" class="Keyword">where</a>
    <a id="2504" href="Data.List.Countdown.html#2504" class="Function">helper</a> <a id="2511" class="Symbol">:</a> <a id="2513" class="Symbol">∀</a> <a id="2515" class="Symbol">{</a><a id="2516" href="Data.List.Countdown.html#2516" class="Bound">xs</a><a id="2518" class="Symbol">}</a> <a id="2520" class="Symbol">(</a><a id="2521" href="Data.List.Countdown.html#2521" class="Bound">x₁∈xs</a> <a id="2527" class="Symbol">:</a> <a id="2529" href="Data.List.Countdown.html#2442" class="Bound">x₁</a> <a id="2532" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈</a> <a id="2534" href="Data.List.Countdown.html#2516" class="Bound">xs</a><a id="2536" class="Symbol">)</a> <a id="2538" class="Symbol">(</a><a id="2539" href="Data.List.Countdown.html#2539" class="Bound">x₂∈xs</a> <a id="2545" class="Symbol">:</a> <a id="2547" href="Data.List.Countdown.html#2447" class="Bound">x₂</a> <a id="2550" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈</a> <a id="2552" href="Data.List.Countdown.html#2516" class="Bound">xs</a><a id="2554" class="Symbol">)</a> <a id="2556" class="Symbol">→</a>
             <a id="2571" href="Data.List.Countdown.html#2105" class="Function">first-index</a> <a id="2583" href="Data.List.Countdown.html#2442" class="Bound">x₁</a> <a id="2586" href="Data.List.Countdown.html#2521" class="Bound">x₁∈xs</a> <a id="2592" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2594" href="Data.List.Countdown.html#2105" class="Function">first-index</a> <a id="2606" href="Data.List.Countdown.html#2447" class="Bound">x₂</a> <a id="2609" href="Data.List.Countdown.html#2539" class="Bound">x₂∈xs</a>
    <a id="2619" href="Data.List.Countdown.html#2504" class="Function">helper</a> <a id="2626" class="Symbol">(</a><a id="2627" href="Data.List.Relation.Unary.Any.html#1211" class="InductiveConstructor">here</a> <a id="2632" href="Data.List.Countdown.html#2632" class="Bound">x₁≈x</a><a id="2636" class="Symbol">)</a> <a id="2638" class="Symbol">(</a><a id="2639" href="Data.List.Relation.Unary.Any.html#1211" class="InductiveConstructor">here</a> <a id="2644" href="Data.List.Countdown.html#2644" class="Bound">x₂≈x</a><a id="2648" class="Symbol">)</a>           <a id="2660" class="Symbol">=</a> <a id="2662" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="2671" href="Data.List.Countdown.html#2504" class="Function">helper</a> <a id="2678" class="Symbol">(</a><a id="2679" href="Data.List.Relation.Unary.Any.html#1211" class="InductiveConstructor">here</a> <a id="2684" href="Data.List.Countdown.html#2684" class="Bound">x₁≈x</a><a id="2688" class="Symbol">)</a> <a id="2690" class="Symbol">(</a><a id="2691" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="2697" class="Symbol">{</a><a id="2698" class="Argument">x</a> <a id="2700" class="Symbol">=</a> <a id="2702" href="Data.List.Countdown.html#2702" class="Bound">x</a><a id="2703" class="Symbol">}</a> <a id="2705" href="Data.List.Countdown.html#2705" class="Bound">x₂∈xs</a><a id="2710" class="Symbol">)</a>
      <a id="2718" class="Keyword">with</a> <a id="2723" href="Data.List.Countdown.html#2447" class="Bound">x₂</a> <a id="2726" href="Relation.Binary.Structures.html#1994" class="Function Operator">≟</a> <a id="2728" href="Data.List.Countdown.html#2702" class="Bound">x</a> <a id="2730" class="Symbol">|</a> <a id="2732" href="Relation.Nullary.Decidable.html#2322" class="Function">dec-true</a> <a id="2741" class="Symbol">(</a><a id="2742" href="Data.List.Countdown.html#2447" class="Bound">x₂</a> <a id="2745" href="Relation.Binary.Structures.html#1994" class="Function Operator">≟</a> <a id="2747" href="Data.List.Countdown.html#2702" class="Bound">x</a><a id="2748" class="Symbol">)</a> <a id="2750" class="Symbol">(</a><a id="2751" href="Relation.Binary.Structures.html#1271" class="Function">trans</a> <a id="2757" class="Symbol">(</a><a id="2758" href="Relation.Binary.Structures.html#1245" class="Function">sym</a> <a id="2762" href="Data.List.Countdown.html#2463" class="Bound">x₁≈x₂</a><a id="2767" class="Symbol">)</a> <a id="2769" href="Data.List.Countdown.html#2684" class="Bound">x₁≈x</a><a id="2773" class="Symbol">)</a>
    <a id="2779" class="Symbol">...</a> <a id="2783" class="Symbol">|</a> <a id="2785" class="Symbol">_</a> <a id="2787" class="Symbol">|</a> <a id="2789" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2794" class="Symbol">=</a> <a id="2796" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="2805" href="Data.List.Countdown.html#2504" class="Function">helper</a> <a id="2812" class="Symbol">(</a><a id="2813" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="2819" class="Symbol">{</a><a id="2820" class="Argument">x</a> <a id="2822" class="Symbol">=</a> <a id="2824" href="Data.List.Countdown.html#2824" class="Bound">x</a><a id="2825" class="Symbol">}</a> <a id="2827" href="Data.List.Countdown.html#2827" class="Bound">x₁∈xs</a><a id="2832" class="Symbol">)</a> <a id="2834" class="Symbol">(</a><a id="2835" href="Data.List.Relation.Unary.Any.html#1211" class="InductiveConstructor">here</a> <a id="2840" href="Data.List.Countdown.html#2840" class="Bound">x₂≈x</a><a id="2844" class="Symbol">)</a>
      <a id="2852" class="Keyword">with</a> <a id="2857" href="Data.List.Countdown.html#2442" class="Bound">x₁</a> <a id="2860" href="Relation.Binary.Structures.html#1994" class="Function Operator">≟</a> <a id="2862" href="Data.List.Countdown.html#2824" class="Bound">x</a> <a id="2864" class="Symbol">|</a> <a id="2866" href="Relation.Nullary.Decidable.html#2322" class="Function">dec-true</a> <a id="2875" class="Symbol">(</a><a id="2876" href="Data.List.Countdown.html#2442" class="Bound">x₁</a> <a id="2879" href="Relation.Binary.Structures.html#1994" class="Function Operator">≟</a> <a id="2881" href="Data.List.Countdown.html#2824" class="Bound">x</a><a id="2882" class="Symbol">)</a> <a id="2884" class="Symbol">(</a><a id="2885" href="Relation.Binary.Structures.html#1271" class="Function">trans</a> <a id="2891" href="Data.List.Countdown.html#2463" class="Bound">x₁≈x₂</a> <a id="2897" href="Data.List.Countdown.html#2840" class="Bound">x₂≈x</a><a id="2901" class="Symbol">)</a>
    <a id="2907" class="Symbol">...</a> <a id="2911" class="Symbol">|</a> <a id="2913" class="Symbol">_</a> <a id="2915" class="Symbol">|</a> <a id="2917" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2922" class="Symbol">=</a> <a id="2924" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="2933" href="Data.List.Countdown.html#2504" class="Function">helper</a> <a id="2940" class="Symbol">(</a><a id="2941" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="2947" class="Symbol">{</a><a id="2948" class="Argument">x</a> <a id="2950" class="Symbol">=</a> <a id="2952" href="Data.List.Countdown.html#2952" class="Bound">x</a><a id="2953" class="Symbol">}</a> <a id="2955" href="Data.List.Countdown.html#2955" class="Bound">x₁∈xs</a><a id="2960" class="Symbol">)</a> <a id="2962" class="Symbol">(</a><a id="2963" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="2969" href="Data.List.Countdown.html#2969" class="Bound">x₂∈xs</a><a id="2974" class="Symbol">)</a> <a id="2976" class="Keyword">with</a> <a id="2981" href="Data.List.Countdown.html#2442" class="Bound">x₁</a> <a id="2984" href="Relation.Binary.Structures.html#1994" class="Function Operator">≟</a> <a id="2986" href="Data.List.Countdown.html#2952" class="Bound">x</a> <a id="2988" class="Symbol">|</a> <a id="2990" href="Data.List.Countdown.html#2447" class="Bound">x₂</a> <a id="2993" href="Relation.Binary.Structures.html#1994" class="Function Operator">≟</a> <a id="2995" href="Data.List.Countdown.html#2952" class="Bound">x</a>
    <a id="3001" class="Symbol">...</a> <a id="3005" class="Symbol">|</a> <a id="3007" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="3013" href="Relation.Nullary.Decidable.Core.html#1957" class="InductiveConstructor Operator">because</a> <a id="3021" class="Symbol">_</a> <a id="3023" class="Symbol">|</a> <a id="3025" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="3031" href="Relation.Nullary.Decidable.Core.html#1957" class="InductiveConstructor Operator">because</a> <a id="3039" class="Symbol">_</a> <a id="3041" class="Symbol">=</a> <a id="3043" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="3052" class="Symbol">...</a> <a id="3056" class="Symbol">|</a> <a id="3058" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3064" href="Relation.Nullary.Decidable.Core.html#1957" class="InductiveConstructor Operator">because</a> <a id="3072" class="Symbol">_</a> <a id="3074" class="Symbol">|</a> <a id="3076" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3082" href="Relation.Nullary.Decidable.Core.html#1957" class="InductiveConstructor Operator">because</a> <a id="3090" class="Symbol">_</a> <a id="3092" class="Symbol">=</a> <a id="3094" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="3099" href="Data.Fin.Base.html#1214" class="InductiveConstructor">suc</a> <a id="3103" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="3105" href="Data.List.Countdown.html#2504" class="Function">helper</a> <a id="3112" class="Bound">x₁∈xs</a> <a id="3118" class="Bound">x₂∈xs</a>
    <a id="3128" class="Symbol">...</a> <a id="3132" class="Symbol">|</a> <a id="3134" href="Relation.Nullary.Decidable.Core.html#2046" class="InductiveConstructor">yes</a> <a id="3138" href="Data.List.Countdown.html#3138" class="Bound">x₁≈x</a> <a id="3143" class="Symbol">|</a> <a id="3145" href="Relation.Nullary.Decidable.Core.html#2083" class="InductiveConstructor">no</a>  <a id="3149" href="Data.List.Countdown.html#3149" class="Bound">x₂≉x</a> <a id="3154" class="Symbol">=</a> <a id="3156" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="3163" class="Symbol">(</a><a id="3164" href="Data.List.Countdown.html#3149" class="Bound">x₂≉x</a> <a id="3169" class="Symbol">(</a><a id="3170" href="Relation.Binary.Structures.html#1271" class="Function">trans</a> <a id="3176" class="Symbol">(</a><a id="3177" href="Relation.Binary.Structures.html#1245" class="Function">sym</a> <a id="3181" href="Data.List.Countdown.html#2463" class="Bound">x₁≈x₂</a><a id="3186" class="Symbol">)</a> <a id="3188" href="Data.List.Countdown.html#3138" class="Bound">x₁≈x</a><a id="3192" class="Symbol">))</a>
    <a id="3199" class="Symbol">...</a> <a id="3203" class="Symbol">|</a> <a id="3205" href="Relation.Nullary.Decidable.Core.html#2083" class="InductiveConstructor">no</a>  <a id="3209" href="Data.List.Countdown.html#3209" class="Bound">x₁≉x</a> <a id="3214" class="Symbol">|</a> <a id="3216" href="Relation.Nullary.Decidable.Core.html#2046" class="InductiveConstructor">yes</a> <a id="3220" href="Data.List.Countdown.html#3220" class="Bound">x₂≈x</a> <a id="3225" class="Symbol">=</a> <a id="3227" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="3234" class="Symbol">(</a><a id="3235" href="Data.List.Countdown.html#3209" class="Bound">x₁≉x</a> <a id="3240" class="Symbol">(</a><a id="3241" href="Relation.Binary.Structures.html#1271" class="Function">trans</a> <a id="3247" href="Data.List.Countdown.html#2463" class="Bound">x₁≈x₂</a> <a id="3253" href="Data.List.Countdown.html#3220" class="Bound">x₂≈x</a><a id="3257" class="Symbol">))</a>

  <a id="3263" class="Comment">-- first-index is injective in its first argument.</a>

  <a id="first-index-injective"></a><a id="3317" href="Data.List.Countdown.html#3317" class="Function">first-index-injective</a>
    <a id="3343" class="Symbol">:</a> <a id="3345" class="Symbol">∀</a> <a id="3347" class="Symbol">{</a><a id="3348" href="Data.List.Countdown.html#3348" class="Bound">x₁</a> <a id="3351" href="Data.List.Countdown.html#3351" class="Bound">x₂</a> <a id="3354" href="Data.List.Countdown.html#3354" class="Bound">xs</a><a id="3356" class="Symbol">}</a> <a id="3358" class="Symbol">(</a><a id="3359" href="Data.List.Countdown.html#3359" class="Bound">x₁∈xs</a> <a id="3365" class="Symbol">:</a> <a id="3367" href="Data.List.Countdown.html#3348" class="Bound">x₁</a> <a id="3370" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈</a> <a id="3372" href="Data.List.Countdown.html#3354" class="Bound">xs</a><a id="3374" class="Symbol">)</a> <a id="3376" class="Symbol">(</a><a id="3377" href="Data.List.Countdown.html#3377" class="Bound">x₂∈xs</a> <a id="3383" class="Symbol">:</a> <a id="3385" href="Data.List.Countdown.html#3351" class="Bound">x₂</a> <a id="3388" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈</a> <a id="3390" href="Data.List.Countdown.html#3354" class="Bound">xs</a><a id="3392" class="Symbol">)</a> <a id="3394" class="Symbol">→</a>
      <a id="3402" href="Data.List.Countdown.html#2105" class="Function">first-index</a> <a id="3414" href="Data.List.Countdown.html#3348" class="Bound">x₁</a> <a id="3417" href="Data.List.Countdown.html#3359" class="Bound">x₁∈xs</a> <a id="3423" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3425" href="Data.List.Countdown.html#2105" class="Function">first-index</a> <a id="3437" href="Data.List.Countdown.html#3351" class="Bound">x₂</a> <a id="3440" href="Data.List.Countdown.html#3377" class="Bound">x₂∈xs</a> <a id="3446" class="Symbol">→</a> <a id="3448" href="Data.List.Countdown.html#3348" class="Bound">x₁</a> <a id="3451" href="Relation.Binary.Bundles.html#1798" class="Field Operator">≈</a> <a id="3453" href="Data.List.Countdown.html#3351" class="Bound">x₂</a>
  <a id="3458" href="Data.List.Countdown.html#3317" class="Function">first-index-injective</a> <a id="3480" class="Symbol">{</a><a id="3481" href="Data.List.Countdown.html#3481" class="Bound">x₁</a><a id="3483" class="Symbol">}</a> <a id="3485" class="Symbol">{</a><a id="3486" href="Data.List.Countdown.html#3486" class="Bound">x₂</a><a id="3488" class="Symbol">}</a> <a id="3490" class="Symbol">=</a> <a id="3492" href="Data.List.Countdown.html#3513" class="Function">helper</a>
    <a id="3503" class="Keyword">where</a>
    <a id="3513" href="Data.List.Countdown.html#3513" class="Function">helper</a> <a id="3520" class="Symbol">:</a> <a id="3522" class="Symbol">∀</a> <a id="3524" class="Symbol">{</a><a id="3525" href="Data.List.Countdown.html#3525" class="Bound">xs</a><a id="3527" class="Symbol">}</a> <a id="3529" class="Symbol">(</a><a id="3530" href="Data.List.Countdown.html#3530" class="Bound">x₁∈xs</a> <a id="3536" class="Symbol">:</a> <a id="3538" href="Data.List.Countdown.html#3481" class="Bound">x₁</a> <a id="3541" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈</a> <a id="3543" href="Data.List.Countdown.html#3525" class="Bound">xs</a><a id="3545" class="Symbol">)</a> <a id="3547" class="Symbol">(</a><a id="3548" href="Data.List.Countdown.html#3548" class="Bound">x₂∈xs</a> <a id="3554" class="Symbol">:</a> <a id="3556" href="Data.List.Countdown.html#3486" class="Bound">x₂</a> <a id="3559" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈</a> <a id="3561" href="Data.List.Countdown.html#3525" class="Bound">xs</a><a id="3563" class="Symbol">)</a> <a id="3565" class="Symbol">→</a>
             <a id="3580" href="Data.List.Countdown.html#2105" class="Function">first-index</a> <a id="3592" href="Data.List.Countdown.html#3481" class="Bound">x₁</a> <a id="3595" href="Data.List.Countdown.html#3530" class="Bound">x₁∈xs</a> <a id="3601" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3603" href="Data.List.Countdown.html#2105" class="Function">first-index</a> <a id="3615" href="Data.List.Countdown.html#3486" class="Bound">x₂</a> <a id="3618" href="Data.List.Countdown.html#3548" class="Bound">x₂∈xs</a> <a id="3624" class="Symbol">→</a> <a id="3626" href="Data.List.Countdown.html#3481" class="Bound">x₁</a> <a id="3629" href="Relation.Binary.Bundles.html#1798" class="Field Operator">≈</a> <a id="3631" href="Data.List.Countdown.html#3486" class="Bound">x₂</a>
    <a id="3638" href="Data.List.Countdown.html#3513" class="Function">helper</a> <a id="3645" class="Symbol">(</a><a id="3646" href="Data.List.Relation.Unary.Any.html#1211" class="InductiveConstructor">here</a> <a id="3651" href="Data.List.Countdown.html#3651" class="Bound">x₁≈x</a><a id="3655" class="Symbol">)</a> <a id="3657" class="Symbol">(</a><a id="3658" href="Data.List.Relation.Unary.Any.html#1211" class="InductiveConstructor">here</a> <a id="3663" href="Data.List.Countdown.html#3663" class="Bound">x₂≈x</a><a id="3667" class="Symbol">)</a>             <a id="3681" class="Symbol">_</a>  <a id="3684" class="Symbol">=</a> <a id="3686" href="Relation.Binary.Structures.html#1271" class="Function">trans</a> <a id="3692" href="Data.List.Countdown.html#3651" class="Bound">x₁≈x</a> <a id="3697" class="Symbol">(</a><a id="3698" href="Relation.Binary.Structures.html#1245" class="Function">sym</a> <a id="3702" href="Data.List.Countdown.html#3663" class="Bound">x₂≈x</a><a id="3706" class="Symbol">)</a>
    <a id="3712" href="Data.List.Countdown.html#3513" class="Function">helper</a> <a id="3719" class="Symbol">(</a><a id="3720" href="Data.List.Relation.Unary.Any.html#1211" class="InductiveConstructor">here</a> <a id="3725" href="Data.List.Countdown.html#3725" class="Bound">x₁≈x</a><a id="3729" class="Symbol">)</a> <a id="3731" class="Symbol">(</a><a id="3732" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="3738" class="Symbol">{</a><a id="3739" class="Argument">x</a> <a id="3741" class="Symbol">=</a> <a id="3743" href="Data.List.Countdown.html#3743" class="Bound">x</a><a id="3744" class="Symbol">}</a> <a id="3746" href="Data.List.Countdown.html#3746" class="Bound">x₂∈xs</a><a id="3751" class="Symbol">)</a>   <a id="3755" class="Symbol">_</a>  <a id="3758" class="Keyword">with</a> <a id="3763" href="Data.List.Countdown.html#3486" class="Bound">x₂</a> <a id="3766" href="Relation.Binary.Structures.html#1994" class="Function Operator">≟</a> <a id="3768" href="Data.List.Countdown.html#3743" class="Bound">x</a>
    <a id="3774" href="Data.List.Countdown.html#3513" class="Function">helper</a> <a id="3781" class="Symbol">(</a><a id="3782" href="Data.List.Relation.Unary.Any.html#1211" class="InductiveConstructor">here</a> <a id="3787" href="Data.List.Countdown.html#3787" class="Bound">x₁≈x</a><a id="3791" class="Symbol">)</a> <a id="3793" class="Symbol">(</a><a id="3794" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="3800" class="Symbol">{</a><a id="3801" class="Argument">x</a> <a id="3803" class="Symbol">=</a> <a id="3805" href="Data.List.Countdown.html#3805" class="Bound">x</a><a id="3806" class="Symbol">}</a> <a id="3808" href="Data.List.Countdown.html#3808" class="Bound">x₂∈xs</a><a id="3813" class="Symbol">)</a>   <a id="3817" class="Symbol">_</a>  <a id="3820" class="Symbol">|</a> <a id="3822" href="Relation.Nullary.Decidable.Core.html#2046" class="InductiveConstructor">yes</a> <a id="3826" href="Data.List.Countdown.html#3826" class="Bound">x₂≈x</a> <a id="3831" class="Symbol">=</a> <a id="3833" href="Relation.Binary.Structures.html#1271" class="Function">trans</a> <a id="3839" href="Data.List.Countdown.html#3787" class="Bound">x₁≈x</a> <a id="3844" class="Symbol">(</a><a id="3845" href="Relation.Binary.Structures.html#1245" class="Function">sym</a> <a id="3849" href="Data.List.Countdown.html#3826" class="Bound">x₂≈x</a><a id="3853" class="Symbol">)</a>
    <a id="3859" href="Data.List.Countdown.html#3513" class="Function">helper</a> <a id="3866" class="Symbol">(</a><a id="3867" href="Data.List.Relation.Unary.Any.html#1211" class="InductiveConstructor">here</a> <a id="3872" href="Data.List.Countdown.html#3872" class="Bound">x₁≈x</a><a id="3876" class="Symbol">)</a> <a id="3878" class="Symbol">(</a><a id="3879" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="3885" class="Symbol">{</a><a id="3886" class="Argument">x</a> <a id="3888" class="Symbol">=</a> <a id="3890" href="Data.List.Countdown.html#3890" class="Bound">x</a><a id="3891" class="Symbol">}</a> <a id="3893" href="Data.List.Countdown.html#3893" class="Bound">x₂∈xs</a><a id="3898" class="Symbol">)</a>   <a id="3902" class="Symbol">()</a> <a id="3905" class="Symbol">|</a> <a id="3907" href="Relation.Nullary.Decidable.Core.html#2083" class="InductiveConstructor">no</a>  <a id="3911" href="Data.List.Countdown.html#3911" class="Bound">x₂≉x</a>
    <a id="3920" href="Data.List.Countdown.html#3513" class="Function">helper</a> <a id="3927" class="Symbol">(</a><a id="3928" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="3934" class="Symbol">{</a><a id="3935" class="Argument">x</a> <a id="3937" class="Symbol">=</a> <a id="3939" href="Data.List.Countdown.html#3939" class="Bound">x</a><a id="3940" class="Symbol">}</a> <a id="3942" href="Data.List.Countdown.html#3942" class="Bound">x₁∈xs</a><a id="3947" class="Symbol">)</a> <a id="3949" class="Symbol">(</a><a id="3950" href="Data.List.Relation.Unary.Any.html#1211" class="InductiveConstructor">here</a> <a id="3955" href="Data.List.Countdown.html#3955" class="Bound">x₂≈x</a><a id="3959" class="Symbol">)</a>   <a id="3963" class="Symbol">_</a>  <a id="3966" class="Keyword">with</a> <a id="3971" href="Data.List.Countdown.html#3481" class="Bound">x₁</a> <a id="3974" href="Relation.Binary.Structures.html#1994" class="Function Operator">≟</a> <a id="3976" href="Data.List.Countdown.html#3939" class="Bound">x</a>
    <a id="3982" href="Data.List.Countdown.html#3513" class="Function">helper</a> <a id="3989" class="Symbol">(</a><a id="3990" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="3996" class="Symbol">{</a><a id="3997" class="Argument">x</a> <a id="3999" class="Symbol">=</a> <a id="4001" href="Data.List.Countdown.html#4001" class="Bound">x</a><a id="4002" class="Symbol">}</a> <a id="4004" href="Data.List.Countdown.html#4004" class="Bound">x₁∈xs</a><a id="4009" class="Symbol">)</a> <a id="4011" class="Symbol">(</a><a id="4012" href="Data.List.Relation.Unary.Any.html#1211" class="InductiveConstructor">here</a> <a id="4017" href="Data.List.Countdown.html#4017" class="Bound">x₂≈x</a><a id="4021" class="Symbol">)</a>   <a id="4025" class="Symbol">_</a>  <a id="4028" class="Symbol">|</a> <a id="4030" href="Relation.Nullary.Decidable.Core.html#2046" class="InductiveConstructor">yes</a> <a id="4034" href="Data.List.Countdown.html#4034" class="Bound">x₁≈x</a> <a id="4039" class="Symbol">=</a> <a id="4041" href="Relation.Binary.Structures.html#1271" class="Function">trans</a> <a id="4047" href="Data.List.Countdown.html#4034" class="Bound">x₁≈x</a> <a id="4052" class="Symbol">(</a><a id="4053" href="Relation.Binary.Structures.html#1245" class="Function">sym</a> <a id="4057" href="Data.List.Countdown.html#4017" class="Bound">x₂≈x</a><a id="4061" class="Symbol">)</a>
    <a id="4067" href="Data.List.Countdown.html#3513" class="Function">helper</a> <a id="4074" class="Symbol">(</a><a id="4075" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="4081" class="Symbol">{</a><a id="4082" class="Argument">x</a> <a id="4084" class="Symbol">=</a> <a id="4086" href="Data.List.Countdown.html#4086" class="Bound">x</a><a id="4087" class="Symbol">}</a> <a id="4089" href="Data.List.Countdown.html#4089" class="Bound">x₁∈xs</a><a id="4094" class="Symbol">)</a> <a id="4096" class="Symbol">(</a><a id="4097" href="Data.List.Relation.Unary.Any.html#1211" class="InductiveConstructor">here</a> <a id="4102" href="Data.List.Countdown.html#4102" class="Bound">x₂≈x</a><a id="4106" class="Symbol">)</a>   <a id="4110" class="Symbol">()</a> <a id="4113" class="Symbol">|</a> <a id="4115" href="Relation.Nullary.Decidable.Core.html#2083" class="InductiveConstructor">no</a>  <a id="4119" href="Data.List.Countdown.html#4119" class="Bound">x₁≉x</a>
    <a id="4128" href="Data.List.Countdown.html#3513" class="Function">helper</a> <a id="4135" class="Symbol">(</a><a id="4136" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="4142" class="Symbol">{</a><a id="4143" class="Argument">x</a> <a id="4145" class="Symbol">=</a> <a id="4147" href="Data.List.Countdown.html#4147" class="Bound">x</a><a id="4148" class="Symbol">}</a> <a id="4150" href="Data.List.Countdown.html#4150" class="Bound">x₁∈xs</a><a id="4155" class="Symbol">)</a> <a id="4157" class="Symbol">(</a><a id="4158" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="4164" href="Data.List.Countdown.html#4164" class="Bound">x₂∈xs</a><a id="4169" class="Symbol">)</a> <a id="4171" class="Symbol">_</a>  <a id="4174" class="Keyword">with</a> <a id="4179" href="Data.List.Countdown.html#3481" class="Bound">x₁</a> <a id="4182" href="Relation.Binary.Structures.html#1994" class="Function Operator">≟</a> <a id="4184" href="Data.List.Countdown.html#4147" class="Bound">x</a> <a id="4186" class="Symbol">|</a> <a id="4188" href="Data.List.Countdown.html#3486" class="Bound">x₂</a> <a id="4191" href="Relation.Binary.Structures.html#1994" class="Function Operator">≟</a> <a id="4193" href="Data.List.Countdown.html#4147" class="Bound">x</a>
    <a id="4199" href="Data.List.Countdown.html#3513" class="Function">helper</a> <a id="4206" class="Symbol">(</a><a id="4207" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="4213" class="Symbol">{</a><a id="4214" class="Argument">x</a> <a id="4216" class="Symbol">=</a> <a id="4218" href="Data.List.Countdown.html#4218" class="Bound">x</a><a id="4219" class="Symbol">}</a> <a id="4221" href="Data.List.Countdown.html#4221" class="Bound">x₁∈xs</a><a id="4226" class="Symbol">)</a> <a id="4228" class="Symbol">(</a><a id="4229" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="4235" href="Data.List.Countdown.html#4235" class="Bound">x₂∈xs</a><a id="4240" class="Symbol">)</a> <a id="4242" class="Symbol">_</a>  <a id="4245" class="Symbol">|</a> <a id="4247" href="Relation.Nullary.Decidable.Core.html#2046" class="InductiveConstructor">yes</a> <a id="4251" href="Data.List.Countdown.html#4251" class="Bound">x₁≈x</a> <a id="4256" class="Symbol">|</a> <a id="4258" href="Relation.Nullary.Decidable.Core.html#2046" class="InductiveConstructor">yes</a> <a id="4262" href="Data.List.Countdown.html#4262" class="Bound">x₂≈x</a> <a id="4267" class="Symbol">=</a> <a id="4269" href="Relation.Binary.Structures.html#1271" class="Function">trans</a> <a id="4275" href="Data.List.Countdown.html#4251" class="Bound">x₁≈x</a> <a id="4280" class="Symbol">(</a><a id="4281" href="Relation.Binary.Structures.html#1245" class="Function">sym</a> <a id="4285" href="Data.List.Countdown.html#4262" class="Bound">x₂≈x</a><a id="4289" class="Symbol">)</a>
    <a id="4295" href="Data.List.Countdown.html#3513" class="Function">helper</a> <a id="4302" class="Symbol">(</a><a id="4303" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="4309" class="Symbol">{</a><a id="4310" class="Argument">x</a> <a id="4312" class="Symbol">=</a> <a id="4314" href="Data.List.Countdown.html#4314" class="Bound">x</a><a id="4315" class="Symbol">}</a> <a id="4317" href="Data.List.Countdown.html#4317" class="Bound">x₁∈xs</a><a id="4322" class="Symbol">)</a> <a id="4324" class="Symbol">(</a><a id="4325" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="4331" href="Data.List.Countdown.html#4331" class="Bound">x₂∈xs</a><a id="4336" class="Symbol">)</a> <a id="4338" class="Symbol">()</a> <a id="4341" class="Symbol">|</a> <a id="4343" href="Relation.Nullary.Decidable.Core.html#2046" class="InductiveConstructor">yes</a> <a id="4347" href="Data.List.Countdown.html#4347" class="Bound">x₁≈x</a> <a id="4352" class="Symbol">|</a> <a id="4354" href="Relation.Nullary.Decidable.Core.html#2083" class="InductiveConstructor">no</a>  <a id="4358" href="Data.List.Countdown.html#4358" class="Bound">x₂≉x</a>
    <a id="4367" href="Data.List.Countdown.html#3513" class="Function">helper</a> <a id="4374" class="Symbol">(</a><a id="4375" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="4381" class="Symbol">{</a><a id="4382" class="Argument">x</a> <a id="4384" class="Symbol">=</a> <a id="4386" href="Data.List.Countdown.html#4386" class="Bound">x</a><a id="4387" class="Symbol">}</a> <a id="4389" href="Data.List.Countdown.html#4389" class="Bound">x₁∈xs</a><a id="4394" class="Symbol">)</a> <a id="4396" class="Symbol">(</a><a id="4397" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="4403" href="Data.List.Countdown.html#4403" class="Bound">x₂∈xs</a><a id="4408" class="Symbol">)</a> <a id="4410" class="Symbol">()</a> <a id="4413" class="Symbol">|</a> <a id="4415" href="Relation.Nullary.Decidable.Core.html#2083" class="InductiveConstructor">no</a>  <a id="4419" href="Data.List.Countdown.html#4419" class="Bound">x₁≉x</a> <a id="4424" class="Symbol">|</a> <a id="4426" href="Relation.Nullary.Decidable.Core.html#2046" class="InductiveConstructor">yes</a> <a id="4430" href="Data.List.Countdown.html#4430" class="Bound">x₂≈x</a>
    <a id="4439" href="Data.List.Countdown.html#3513" class="Function">helper</a> <a id="4446" class="Symbol">(</a><a id="4447" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="4453" class="Symbol">{</a><a id="4454" class="Argument">x</a> <a id="4456" class="Symbol">=</a> <a id="4458" href="Data.List.Countdown.html#4458" class="Bound">x</a><a id="4459" class="Symbol">}</a> <a id="4461" href="Data.List.Countdown.html#4461" class="Bound">x₁∈xs</a><a id="4466" class="Symbol">)</a> <a id="4468" class="Symbol">(</a><a id="4469" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="4475" href="Data.List.Countdown.html#4475" class="Bound">x₂∈xs</a><a id="4480" class="Symbol">)</a> <a id="4482" href="Data.List.Countdown.html#4482" class="Bound">eq</a> <a id="4485" class="Symbol">|</a> <a id="4487" href="Relation.Nullary.Decidable.Core.html#2083" class="InductiveConstructor">no</a>  <a id="4491" href="Data.List.Countdown.html#4491" class="Bound">x₁≉x</a> <a id="4496" class="Symbol">|</a> <a id="4498" href="Relation.Nullary.Decidable.Core.html#2083" class="InductiveConstructor">no</a>  <a id="4502" href="Data.List.Countdown.html#4502" class="Bound">x₂≉x</a> <a id="4507" class="Symbol">=</a>
      <a id="4515" href="Data.List.Countdown.html#3513" class="Function">helper</a> <a id="4522" href="Data.List.Countdown.html#4461" class="Bound">x₁∈xs</a> <a id="4528" href="Data.List.Countdown.html#4475" class="Bound">x₂∈xs</a> <a id="4534" class="Symbol">(</a><a id="4535" href="Data.Fin.Properties.html#3654" class="Function">suc-injective</a> <a id="4549" href="Data.List.Countdown.html#4482" class="Bound">eq</a><a id="4551" class="Symbol">)</a>

<a id="4554" class="Comment">------------------------------------------------------------------------</a>
<a id="4627" class="Comment">-- The countdown data structure</a>

<a id="4660" class="Comment">-- If counted ⊕ n is inhabited then there are at most n values of type</a>
<a id="4731" class="Comment">-- Elem which are not members of counted (up to _≈_). You can read the</a>
<a id="4802" class="Comment">-- symbol _⊕_ as partitioning Elem into two parts: counted and</a>
<a id="4865" class="Comment">-- uncounted.</a>

<a id="4880" class="Keyword">infix</a> <a id="4886" class="Number">4</a> <a id="4888" href="Data.List.Countdown.html#4900" class="Record Operator">_⊕_</a>

<a id="4893" class="Keyword">record</a> <a id="_⊕_"></a><a id="4900" href="Data.List.Countdown.html#4900" class="Record Operator">_⊕_</a> <a id="4904" class="Symbol">(</a><a id="4905" href="Data.List.Countdown.html#4905" class="Bound">counted</a> <a id="4913" class="Symbol">:</a> <a id="4915" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4920" href="Data.List.Countdown.html#1582" class="Field">Elem</a><a id="4924" class="Symbol">)</a> <a id="4926" class="Symbol">(</a><a id="4927" href="Data.List.Countdown.html#4927" class="Bound">n</a> <a id="4929" class="Symbol">:</a> <a id="4931" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="4932" class="Symbol">)</a> <a id="4934" class="Symbol">:</a> <a id="4936" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="4940" class="Keyword">where</a>
  <a id="4948" class="Keyword">field</a>
    <a id="4958" class="Comment">-- An element can be of two kinds:</a>
    <a id="4997" class="Comment">-- ⑴ It is provably in counted.</a>
    <a id="5033" class="Comment">-- ⑵ It is one of at most n elements which may or may not be in</a>
    <a id="5101" class="Comment">--   counted. The &quot;at most n&quot; part is guaranteed by the field</a>
    <a id="5167" class="Comment">--   &quot;injective&quot;.</a>

    <a id="_⊕_.kind"></a><a id="5190" href="Data.List.Countdown.html#5190" class="Field">kind</a>      <a id="5200" class="Symbol">:</a> <a id="5202" class="Symbol">∀</a> <a id="5204" href="Data.List.Countdown.html#5204" class="Bound">x</a> <a id="5206" class="Symbol">→</a> <a id="5208" href="Data.List.Countdown.html#5204" class="Bound">x</a> <a id="5210" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈</a> <a id="5212" href="Data.List.Countdown.html#4905" class="Bound">counted</a> <a id="5220" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="5222" href="Data.Fin.Base.html#1171" class="Datatype">Fin</a> <a id="5226" href="Data.List.Countdown.html#4927" class="Bound">n</a>
    <a id="_⊕_.injective"></a><a id="5232" href="Data.List.Countdown.html#5232" class="Field">injective</a> <a id="5242" class="Symbol">:</a> <a id="5244" class="Symbol">∀</a> <a id="5246" class="Symbol">{</a><a id="5247" href="Data.List.Countdown.html#5247" class="Bound">x</a> <a id="5249" href="Data.List.Countdown.html#5249" class="Bound">y</a> <a id="5251" href="Data.List.Countdown.html#5251" class="Bound">i</a><a id="5252" class="Symbol">}</a> <a id="5254" class="Symbol">→</a> <a id="5256" href="Data.List.Countdown.html#5190" class="Field">kind</a> <a id="5261" href="Data.List.Countdown.html#5247" class="Bound">x</a> <a id="5263" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5265" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5270" href="Data.List.Countdown.html#5251" class="Bound">i</a> <a id="5272" class="Symbol">→</a> <a id="5274" href="Data.List.Countdown.html#5190" class="Field">kind</a> <a id="5279" href="Data.List.Countdown.html#5249" class="Bound">y</a> <a id="5281" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5283" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5288" href="Data.List.Countdown.html#5251" class="Bound">i</a> <a id="5290" class="Symbol">→</a> <a id="5292" href="Data.List.Countdown.html#5247" class="Bound">x</a> <a id="5294" href="Relation.Binary.Bundles.html#1798" class="Field Operator">≈</a> <a id="5296" href="Data.List.Countdown.html#5249" class="Bound">y</a>

<a id="5299" class="Comment">-- A countdown can be initialised by proving that Elem is finite.</a>

<a id="empty"></a><a id="5366" href="Data.List.Countdown.html#5366" class="Function">empty</a> <a id="5372" class="Symbol">:</a> <a id="5374" class="Symbol">∀</a> <a id="5376" class="Symbol">{</a><a id="5377" href="Data.List.Countdown.html#5377" class="Bound">n</a><a id="5378" class="Symbol">}</a> <a id="5380" class="Symbol">→</a> <a id="5382" href="Function.Bundles.html#2415" class="Record">Injection</a> <a id="5392" href="Relation.Binary.Bundles.html#1958" class="Function">D.setoid</a> <a id="5401" class="Symbol">(</a><a id="5402" href="Relation.Binary.PropositionalEquality.Properties.html#5806" class="Function">≡.setoid</a> <a id="5411" class="Symbol">(</a><a id="5412" href="Data.Fin.Base.html#1171" class="Datatype">Fin</a> <a id="5416" href="Data.List.Countdown.html#5377" class="Bound">n</a><a id="5417" class="Symbol">))</a> <a id="5420" class="Symbol">→</a> <a id="5422" class="InductiveConstructor">[]</a> <a id="5425" href="Data.List.Countdown.html#4900" class="Record Operator">⊕</a> <a id="5427" href="Data.List.Countdown.html#5377" class="Bound">n</a>
<a id="5429" href="Data.List.Countdown.html#5366" class="Function">empty</a> <a id="5435" href="Data.List.Countdown.html#5435" class="Bound">inj</a> <a id="5439" class="Symbol">=</a>
  <a id="5443" class="Keyword">record</a> <a id="5450" class="Symbol">{</a> <a id="5452" href="Data.List.Countdown.html#5190" class="Field">kind</a>      <a id="5462" class="Symbol">=</a> <a id="5464" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5469" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5471" href="Function.Bundles.html#2471" class="Field">to</a>
         <a id="5483" class="Symbol">;</a> <a id="5485" href="Data.List.Countdown.html#5232" class="Field">injective</a> <a id="5495" class="Symbol">=</a> <a id="5497" class="Symbol">λ</a> <a id="5499" class="Symbol">{</a><a id="5500" href="Data.List.Countdown.html#5500" class="Bound">x</a><a id="5501" class="Symbol">}</a> <a id="5503" class="Symbol">{</a><a id="5504" href="Data.List.Countdown.html#5504" class="Bound">y</a><a id="5505" class="Symbol">}</a> <a id="5507" class="Symbol">{</a><a id="5508" href="Data.List.Countdown.html#5508" class="Bound">i</a><a id="5509" class="Symbol">}</a> <a id="5511" href="Data.List.Countdown.html#5511" class="Bound">eq₁</a> <a id="5515" href="Data.List.Countdown.html#5515" class="Bound">eq₂</a> <a id="5519" class="Symbol">→</a> <a id="5521" href="Function.Bundles.html#2540" class="Field">injective</a> <a id="5531" class="Symbol">(</a><a id="5532" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
             <a id="5551" href="Function.Bundles.html#2471" class="Field">to</a> <a id="5554" href="Data.List.Countdown.html#5500" class="Bound">x</a> <a id="5556" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="5559" href="Data.Sum.Properties.html#960" class="Function">inj₂-injective</a> <a id="5574" href="Data.List.Countdown.html#5511" class="Bound">eq₁</a> <a id="5578" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
             <a id="5593" href="Data.List.Countdown.html#5508" class="Bound">i</a>    <a id="5598" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="5601" href="Relation.Binary.PropositionalEquality.Core.html#2035" class="Function">≡.sym</a> <a id="5607" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="5609" href="Data.Sum.Properties.html#960" class="Function">inj₂-injective</a> <a id="5624" href="Data.List.Countdown.html#5515" class="Bound">eq₂</a> <a id="5628" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
             <a id="5643" href="Function.Bundles.html#2471" class="Field">to</a> <a id="5646" href="Data.List.Countdown.html#5504" class="Bound">y</a> <a id="5648" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a><a id="5649" class="Symbol">)</a>
         <a id="5660" class="Symbol">}</a>
  <a id="5664" class="Keyword">where</a> <a id="5670" class="Keyword">open</a> <a id="5675" href="Function.Bundles.html#2415" class="Module">Injection</a> <a id="5685" href="Data.List.Countdown.html#5435" class="Bound">inj</a>

<a id="5690" class="Comment">-- A countdown can also be initialised by proving that Elem is finite.</a>

<a id="emptyFromList"></a><a id="5762" href="Data.List.Countdown.html#5762" class="Function">emptyFromList</a> <a id="5776" class="Symbol">:</a> <a id="5778" class="Symbol">(</a><a id="5779" href="Data.List.Countdown.html#5779" class="Bound">counted</a> <a id="5787" class="Symbol">:</a> <a id="5789" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="5794" href="Data.List.Countdown.html#1582" class="Field">Elem</a><a id="5798" class="Symbol">)</a> <a id="5800" class="Symbol">→</a> <a id="5802" class="Symbol">(∀</a> <a id="5805" href="Data.List.Countdown.html#5805" class="Bound">x</a> <a id="5807" class="Symbol">→</a> <a id="5809" href="Data.List.Countdown.html#5805" class="Bound">x</a> <a id="5811" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈</a> <a id="5813" href="Data.List.Countdown.html#5779" class="Bound">counted</a><a id="5820" class="Symbol">)</a> <a id="5822" class="Symbol">→</a>
                <a id="5840" class="InductiveConstructor">[]</a> <a id="5843" href="Data.List.Countdown.html#4900" class="Record Operator">⊕</a> <a id="5845" href="Data.List.Base.html#4746" class="Function">length</a> <a id="5852" href="Data.List.Countdown.html#5779" class="Bound">counted</a>
<a id="5860" href="Data.List.Countdown.html#5762" class="Function">emptyFromList</a> <a id="5874" href="Data.List.Countdown.html#5874" class="Bound">counted</a> <a id="5882" href="Data.List.Countdown.html#5882" class="Bound">complete</a> <a id="5891" class="Symbol">=</a> <a id="5893" href="Data.List.Countdown.html#5366" class="Function">empty</a> <a id="5899" class="Keyword">record</a>
  <a id="5908" class="Symbol">{</a> <a id="5910" href="Function.Bundles.html#2471" class="Field">to</a>        <a id="5920" class="Symbol">=</a> <a id="5922" class="Symbol">λ</a> <a id="5924" href="Data.List.Countdown.html#5924" class="Bound">x</a> <a id="5926" class="Symbol">→</a> <a id="5928" href="Data.List.Countdown.html#2105" class="Function">first-index</a> <a id="5940" href="Data.List.Countdown.html#5924" class="Bound">x</a> <a id="5942" class="Symbol">(</a><a id="5943" href="Data.List.Countdown.html#5882" class="Bound">complete</a> <a id="5952" href="Data.List.Countdown.html#5924" class="Bound">x</a><a id="5953" class="Symbol">)</a>
  <a id="5957" class="Symbol">;</a> <a id="5959" href="Function.Bundles.html#2497" class="Field">cong</a>      <a id="5969" class="Symbol">=</a> <a id="5971" href="Data.List.Countdown.html#2277" class="Function">first-index-cong</a> <a id="5988" class="Symbol">(</a><a id="5989" href="Data.List.Countdown.html#5882" class="Bound">complete</a> <a id="5998" class="Symbol">_)</a> <a id="6001" class="Symbol">(</a><a id="6002" href="Data.List.Countdown.html#5882" class="Bound">complete</a> <a id="6011" class="Symbol">_)</a>
  <a id="6016" class="Symbol">;</a> <a id="6018" href="Function.Bundles.html#2540" class="Field">injective</a> <a id="6028" class="Symbol">=</a> <a id="6030" href="Data.List.Countdown.html#3317" class="Function">first-index-injective</a> <a id="6052" class="Symbol">(</a><a id="6053" href="Data.List.Countdown.html#5882" class="Bound">complete</a> <a id="6062" class="Symbol">_)</a> <a id="6065" class="Symbol">(</a><a id="6066" href="Data.List.Countdown.html#5882" class="Bound">complete</a> <a id="6075" class="Symbol">_)</a>
  <a id="6080" class="Symbol">}</a>

<a id="6083" class="Comment">-- Finds out if an element has been counted yet.</a>

<a id="lookup"></a><a id="6133" href="Data.List.Countdown.html#6133" class="Function">lookup</a> <a id="6140" class="Symbol">:</a> <a id="6142" class="Symbol">∀</a> <a id="6144" class="Symbol">{</a><a id="6145" href="Data.List.Countdown.html#6145" class="Bound">counted</a> <a id="6153" href="Data.List.Countdown.html#6153" class="Bound">n</a><a id="6154" class="Symbol">}</a> <a id="6156" class="Symbol">→</a> <a id="6158" href="Data.List.Countdown.html#6145" class="Bound">counted</a> <a id="6166" href="Data.List.Countdown.html#4900" class="Record Operator">⊕</a> <a id="6168" href="Data.List.Countdown.html#6153" class="Bound">n</a> <a id="6170" class="Symbol">→</a> <a id="6172" class="Symbol">∀</a> <a id="6174" href="Data.List.Countdown.html#6174" class="Bound">x</a> <a id="6176" class="Symbol">→</a> <a id="6178" href="Relation.Nullary.Decidable.Core.html#1913" class="Record">Dec</a> <a id="6182" class="Symbol">(</a><a id="6183" href="Data.List.Countdown.html#6174" class="Bound">x</a> <a id="6185" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈</a> <a id="6187" href="Data.List.Countdown.html#6145" class="Bound">counted</a><a id="6194" class="Symbol">)</a>
<a id="6196" href="Data.List.Countdown.html#6133" class="Function">lookup</a> <a id="6203" class="Symbol">{</a><a id="6204" href="Data.List.Countdown.html#6204" class="Bound">counted</a><a id="6211" class="Symbol">}</a> <a id="6213" class="Symbol">_</a> <a id="6215" href="Data.List.Countdown.html#6215" class="Bound">x</a> <a id="6217" class="Symbol">=</a> <a id="6219" href="Data.List.Relation.Unary.Any.html#2684" class="Function">Any.any?</a> <a id="6228" class="Symbol">(</a><a id="6229" href="Relation.Binary.Structures.html#1994" class="Function Operator">_≟_</a> <a id="6233" href="Data.List.Countdown.html#6215" class="Bound">x</a><a id="6234" class="Symbol">)</a> <a id="6236" href="Data.List.Countdown.html#6204" class="Bound">counted</a>

<a id="6245" class="Comment">-- When no element remains to be counted all elements have been</a>
<a id="6309" class="Comment">-- counted.</a>

<a id="lookup!"></a><a id="6322" href="Data.List.Countdown.html#6322" class="Function">lookup!</a> <a id="6330" class="Symbol">:</a> <a id="6332" class="Symbol">∀</a> <a id="6334" class="Symbol">{</a><a id="6335" href="Data.List.Countdown.html#6335" class="Bound">counted</a><a id="6342" class="Symbol">}</a> <a id="6344" class="Symbol">→</a> <a id="6346" href="Data.List.Countdown.html#6335" class="Bound">counted</a> <a id="6354" href="Data.List.Countdown.html#4900" class="Record Operator">⊕</a> <a id="6356" class="InductiveConstructor">zero</a> <a id="6361" class="Symbol">→</a> <a id="6363" class="Symbol">∀</a> <a id="6365" href="Data.List.Countdown.html#6365" class="Bound">x</a> <a id="6367" class="Symbol">→</a> <a id="6369" href="Data.List.Countdown.html#6365" class="Bound">x</a> <a id="6371" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈</a> <a id="6373" href="Data.List.Countdown.html#6335" class="Bound">counted</a>
<a id="6381" href="Data.List.Countdown.html#6322" class="Function">lookup!</a> <a id="6389" href="Data.List.Countdown.html#6389" class="Bound">counted⊕0</a> <a id="6399" href="Data.List.Countdown.html#6399" class="Bound">x</a> <a id="6401" class="Keyword">with</a> <a id="6406" href="Data.List.Countdown.html#5190" class="Field">_⊕_.kind</a> <a id="6415" href="Data.List.Countdown.html#6389" class="Bound">counted⊕0</a> <a id="6425" href="Data.List.Countdown.html#6399" class="Bound">x</a>
<a id="6427" class="Symbol">...</a> <a id="6431" class="Symbol">|</a> <a id="6433" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="6438" href="Data.List.Countdown.html#6438" class="Bound">x∈counted</a> <a id="6448" class="Symbol">=</a> <a id="6450" href="Data.List.Countdown.html#6438" class="Bound">x∈counted</a>
<a id="6460" class="Symbol">...</a> <a id="6464" class="Symbol">|</a> <a id="6466" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6471" class="Symbol">()</a>

<a id="6475" class="Keyword">private</a>

  <a id="6486" class="Comment">-- A variant of lookup!.</a>

  <a id="lookup‼"></a><a id="6514" href="Data.List.Countdown.html#6514" class="Function">lookup‼</a> <a id="6522" class="Symbol">:</a> <a id="6524" class="Symbol">∀</a> <a id="6526" class="Symbol">{</a><a id="6527" href="Data.List.Countdown.html#6527" class="Bound">m</a> <a id="6529" href="Data.List.Countdown.html#6529" class="Bound">counted</a><a id="6536" class="Symbol">}</a> <a id="6538" class="Symbol">→</a>
            <a id="6552" href="Data.List.Countdown.html#6529" class="Bound">counted</a> <a id="6560" href="Data.List.Countdown.html#4900" class="Record Operator">⊕</a> <a id="6562" href="Data.List.Countdown.html#6527" class="Bound">m</a> <a id="6564" class="Symbol">→</a> <a id="6566" class="Symbol">∀</a> <a id="6568" href="Data.List.Countdown.html#6568" class="Bound">x</a> <a id="6570" class="Symbol">→</a> <a id="6572" href="Data.List.Countdown.html#6568" class="Bound">x</a> <a id="6574" href="Data.List.Membership.Setoid.html#974" class="Function Operator">∉</a> <a id="6576" href="Data.List.Countdown.html#6529" class="Bound">counted</a> <a id="6584" class="Symbol">→</a> <a id="6586" href="Data.Product.Base.html#852" class="Function">∃</a> <a id="6588" class="Symbol">λ</a> <a id="6590" href="Data.List.Countdown.html#6590" class="Bound">n</a> <a id="6592" class="Symbol">→</a> <a id="6594" href="Data.List.Countdown.html#6527" class="Bound">m</a> <a id="6596" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6598" class="InductiveConstructor">suc</a> <a id="6602" href="Data.List.Countdown.html#6590" class="Bound">n</a>
  <a id="6606" href="Data.List.Countdown.html#6514" class="Function">lookup‼</a> <a id="6614" class="Symbol">{</a><a id="6615" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6619" href="Data.List.Countdown.html#6619" class="Bound">m</a><a id="6620" class="Symbol">}</a> <a id="6622" href="Data.List.Countdown.html#6622" class="Bound">counted⊕n</a> <a id="6632" href="Data.List.Countdown.html#6632" class="Bound">x</a> <a id="6634" href="Data.List.Countdown.html#6634" class="Bound">x∉counted</a> <a id="6644" class="Symbol">=</a> <a id="6646" class="Symbol">(</a><a id="6647" href="Data.List.Countdown.html#6619" class="Bound">m</a> <a id="6649" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6651" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="6655" class="Symbol">)</a>
  <a id="6659" href="Data.List.Countdown.html#6514" class="Function">lookup‼</a> <a id="6667" class="Symbol">{</a><a id="6668" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="6672" class="Symbol">}</a>  <a id="6675" href="Data.List.Countdown.html#6675" class="Bound">counted⊕n</a> <a id="6685" href="Data.List.Countdown.html#6685" class="Bound">x</a> <a id="6687" href="Data.List.Countdown.html#6687" class="Bound">x∉counted</a> <a id="6697" class="Symbol">=</a>
    <a id="6703" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="6710" class="Symbol">(</a><a id="6711" href="Data.List.Countdown.html#6687" class="Bound">x∉counted</a> <a id="6721" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6723" href="Data.List.Countdown.html#6322" class="Function">lookup!</a> <a id="6731" href="Data.List.Countdown.html#6675" class="Bound">counted⊕n</a> <a id="6741" href="Data.List.Countdown.html#6685" class="Bound">x</a><a id="6742" class="Symbol">)</a>

<a id="6745" class="Comment">-- Counts a previously uncounted element.</a>

<a id="insert"></a><a id="6788" href="Data.List.Countdown.html#6788" class="Function">insert</a> <a id="6795" class="Symbol">:</a> <a id="6797" class="Symbol">∀</a> <a id="6799" class="Symbol">{</a><a id="6800" href="Data.List.Countdown.html#6800" class="Bound">counted</a> <a id="6808" href="Data.List.Countdown.html#6808" class="Bound">n</a><a id="6809" class="Symbol">}</a> <a id="6811" class="Symbol">→</a>
         <a id="6822" href="Data.List.Countdown.html#6800" class="Bound">counted</a> <a id="6830" href="Data.List.Countdown.html#4900" class="Record Operator">⊕</a> <a id="6832" class="InductiveConstructor">suc</a> <a id="6836" href="Data.List.Countdown.html#6808" class="Bound">n</a> <a id="6838" class="Symbol">→</a> <a id="6840" class="Symbol">∀</a> <a id="6842" href="Data.List.Countdown.html#6842" class="Bound">x</a> <a id="6844" class="Symbol">→</a> <a id="6846" href="Data.List.Countdown.html#6842" class="Bound">x</a> <a id="6848" href="Data.List.Membership.Setoid.html#974" class="Function Operator">∉</a> <a id="6850" href="Data.List.Countdown.html#6800" class="Bound">counted</a> <a id="6858" class="Symbol">→</a> <a id="6860" href="Data.List.Countdown.html#6842" class="Bound">x</a> <a id="6862" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6864" href="Data.List.Countdown.html#6800" class="Bound">counted</a> <a id="6872" href="Data.List.Countdown.html#4900" class="Record Operator">⊕</a> <a id="6874" href="Data.List.Countdown.html#6808" class="Bound">n</a>
<a id="6876" href="Data.List.Countdown.html#6788" class="Function">insert</a> <a id="6883" class="Symbol">{</a><a id="6884" href="Data.List.Countdown.html#6884" class="Bound">counted</a><a id="6891" class="Symbol">}</a> <a id="6893" class="Symbol">{</a><a id="6894" href="Data.List.Countdown.html#6894" class="Bound">n</a><a id="6895" class="Symbol">}</a> <a id="6897" href="Data.List.Countdown.html#6897" class="Bound">counted⊕1+n</a> <a id="6909" href="Data.List.Countdown.html#6909" class="Bound">x</a> <a id="6911" href="Data.List.Countdown.html#6911" class="Bound">x∉counted</a> <a id="6921" class="Symbol">=</a>
  <a id="6925" class="Keyword">record</a> <a id="6932" class="Symbol">{</a> <a id="6934" href="Data.List.Countdown.html#5190" class="Field">kind</a> <a id="6939" class="Symbol">=</a> <a id="6941" href="Data.List.Countdown.html#7135" class="Function">kind′</a><a id="6946" class="Symbol">;</a> <a id="6948" href="Data.List.Countdown.html#5232" class="Field">injective</a> <a id="6958" class="Symbol">=</a> <a id="6960" href="Data.List.Countdown.html#7599" class="Function">inj</a> <a id="6964" class="Symbol">}</a>
  <a id="6968" class="Keyword">where</a>
  <a id="6976" class="Keyword">open</a> <a id="6981" href="Data.List.Countdown.html#4900" class="Module Operator">_⊕_</a> <a id="6985" href="Data.List.Countdown.html#6897" class="Bound">counted⊕1+n</a>

  <a id="7000" href="Data.List.Countdown.html#7000" class="Function">helper</a> <a id="7007" class="Symbol">:</a> <a id="7009" class="Symbol">∀</a> <a id="7011" href="Data.List.Countdown.html#7011" class="Bound">x</a> <a id="7013" href="Data.List.Countdown.html#7013" class="Bound">y</a> <a id="7015" href="Data.List.Countdown.html#7015" class="Bound">i</a> <a id="7017" class="Symbol">{</a><a id="7018" href="Data.List.Countdown.html#7018" class="Bound">j</a><a id="7019" class="Symbol">}</a> <a id="7021" class="Symbol">→</a>
           <a id="7034" href="Data.List.Countdown.html#5190" class="Function">kind</a> <a id="7039" href="Data.List.Countdown.html#7011" class="Bound">x</a> <a id="7041" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7043" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="7048" href="Data.List.Countdown.html#7015" class="Bound">i</a> <a id="7050" class="Symbol">→</a> <a id="7052" href="Data.List.Countdown.html#5190" class="Function">kind</a> <a id="7057" href="Data.List.Countdown.html#7013" class="Bound">y</a> <a id="7059" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7061" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="7066" href="Data.List.Countdown.html#7018" class="Bound">j</a> <a id="7068" class="Symbol">→</a> <a id="7070" href="Data.List.Countdown.html#7015" class="Bound">i</a> <a id="7072" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7074" href="Data.List.Countdown.html#7018" class="Bound">j</a> <a id="7076" class="Symbol">→</a> <a id="7078" href="Data.List.Countdown.html#7011" class="Bound">x</a> <a id="7080" href="Relation.Binary.Bundles.html#1798" class="Field Operator">≈</a> <a id="7082" href="Data.List.Countdown.html#7013" class="Bound">y</a>
  <a id="7086" href="Data.List.Countdown.html#7000" class="Function">helper</a> <a id="7093" class="Symbol">_</a> <a id="7095" class="Symbol">_</a> <a id="7097" class="Symbol">_</a> <a id="7099" href="Data.List.Countdown.html#7099" class="Bound">eq₁</a> <a id="7103" href="Data.List.Countdown.html#7103" class="Bound">eq₂</a> <a id="7107" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7112" class="Symbol">=</a> <a id="7114" href="Data.List.Countdown.html#5232" class="Function">injective</a> <a id="7124" href="Data.List.Countdown.html#7099" class="Bound">eq₁</a> <a id="7128" href="Data.List.Countdown.html#7103" class="Bound">eq₂</a>

  <a id="7135" href="Data.List.Countdown.html#7135" class="Function">kind′</a> <a id="7141" class="Symbol">:</a> <a id="7143" class="Symbol">∀</a> <a id="7145" href="Data.List.Countdown.html#7145" class="Bound">y</a> <a id="7147" class="Symbol">→</a> <a id="7149" href="Data.List.Countdown.html#7145" class="Bound">y</a> <a id="7151" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈</a> <a id="7153" href="Data.List.Countdown.html#6909" class="Bound">x</a> <a id="7155" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7157" href="Data.List.Countdown.html#6884" class="Bound">counted</a> <a id="7165" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="7167" href="Data.Fin.Base.html#1171" class="Datatype">Fin</a> <a id="7171" href="Data.List.Countdown.html#6894" class="Bound">n</a>
  <a id="7175" href="Data.List.Countdown.html#7135" class="Function">kind′</a>  <a id="7182" href="Data.List.Countdown.html#7182" class="Bound">y</a> <a id="7184" class="Keyword">with</a> <a id="7189" href="Data.List.Countdown.html#7182" class="Bound">y</a> <a id="7191" href="Relation.Binary.Structures.html#1994" class="Function Operator">≟</a> <a id="7193" href="Data.List.Countdown.html#6909" class="Bound">x</a> <a id="7195" class="Symbol">|</a> <a id="7197" href="Data.List.Countdown.html#5190" class="Function">kind</a> <a id="7202" href="Data.List.Countdown.html#6909" class="Bound">x</a> <a id="7204" class="Symbol">|</a> <a id="7206" href="Data.List.Countdown.html#5190" class="Function">kind</a> <a id="7211" href="Data.List.Countdown.html#7182" class="Bound">y</a> <a id="7213" class="Symbol">|</a> <a id="7215" href="Data.List.Countdown.html#7000" class="Function">helper</a> <a id="7222" href="Data.List.Countdown.html#6909" class="Bound">x</a> <a id="7224" href="Data.List.Countdown.html#7182" class="Bound">y</a>
  <a id="7228" href="Data.List.Countdown.html#7135" class="Function">kind′</a>  <a id="7235" href="Data.List.Countdown.html#7235" class="Bound">y</a> <a id="7237" class="Symbol">|</a> <a id="7239" href="Relation.Nullary.Decidable.Core.html#2046" class="InductiveConstructor">yes</a> <a id="7243" href="Data.List.Countdown.html#7243" class="Bound">y≈x</a> <a id="7247" class="Symbol">|</a> <a id="7249" class="Symbol">_</a>              <a id="7264" class="Symbol">|</a> <a id="7266" class="Symbol">_</a>              <a id="7281" class="Symbol">|</a> <a id="7283" class="Symbol">_</a>   <a id="7287" class="Symbol">=</a> <a id="7289" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="7294" class="Symbol">(</a><a id="7295" href="Data.List.Relation.Unary.Any.html#1211" class="InductiveConstructor">here</a> <a id="7300" href="Data.List.Countdown.html#7243" class="Bound">y≈x</a><a id="7303" class="Symbol">)</a>
  <a id="7307" href="Data.List.Countdown.html#7135" class="CatchallClause Function">kind′</a><a id="7312" class="CatchallClause">  </a><a id="7314" href="Data.List.Countdown.html#7314" class="CatchallClause Bound">y</a><a id="7315" class="CatchallClause"> </a><a id="7316" class="CatchallClause Symbol">|</a><a id="7317" class="CatchallClause"> </a><a id="7318" class="CatchallClause Symbol">_</a><a id="7319" class="CatchallClause">       </a><a id="7326" class="CatchallClause Symbol">|</a><a id="7327" class="CatchallClause"> </a><a id="7328" href="Data.Sum.Base.html#675" class="CatchallClause InductiveConstructor">inj₁</a><a id="7332" class="CatchallClause"> </a><a id="7333" href="Data.List.Countdown.html#7333" class="CatchallClause Bound">x∈counted</a><a id="7342" class="CatchallClause"> </a><a id="7343" class="CatchallClause Symbol">|</a><a id="7344" class="CatchallClause"> </a><a id="7345" class="CatchallClause Symbol">_</a><a id="7346" class="CatchallClause">              </a><a id="7360" class="CatchallClause Symbol">|</a><a id="7361" class="CatchallClause"> </a><a id="7362" class="CatchallClause Symbol">_</a>   <a id="7366" class="Symbol">=</a> <a id="7368" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="7375" class="Symbol">(</a><a id="7376" href="Data.List.Countdown.html#6911" class="Bound">x∉counted</a> <a id="7386" href="Data.List.Countdown.html#7333" class="Bound">x∈counted</a><a id="7395" class="Symbol">)</a>
  <a id="7399" href="Data.List.Countdown.html#7135" class="CatchallClause Function">kind′</a><a id="7404" class="CatchallClause">  </a><a id="7406" href="Data.List.Countdown.html#7406" class="CatchallClause Bound">y</a><a id="7407" class="CatchallClause"> </a><a id="7408" class="CatchallClause Symbol">|</a><a id="7409" class="CatchallClause"> </a><a id="7410" class="CatchallClause Symbol">_</a><a id="7411" class="CatchallClause">       </a><a id="7418" class="CatchallClause Symbol">|</a><a id="7419" class="CatchallClause"> </a><a id="7420" class="CatchallClause Symbol">_</a><a id="7421" class="CatchallClause">              </a><a id="7435" class="CatchallClause Symbol">|</a><a id="7436" class="CatchallClause"> </a><a id="7437" href="Data.Sum.Base.html#675" class="CatchallClause InductiveConstructor">inj₁</a><a id="7441" class="CatchallClause"> </a><a id="7442" href="Data.List.Countdown.html#7442" class="CatchallClause Bound">y∈counted</a><a id="7451" class="CatchallClause"> </a><a id="7452" class="CatchallClause Symbol">|</a><a id="7453" class="CatchallClause"> </a><a id="7454" class="CatchallClause Symbol">_</a>   <a id="7458" class="Symbol">=</a> <a id="7460" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="7465" class="Symbol">(</a><a id="7466" href="Data.List.Relation.Unary.Any.html#1264" class="InductiveConstructor">there</a> <a id="7472" href="Data.List.Countdown.html#7442" class="Bound">y∈counted</a><a id="7481" class="Symbol">)</a>
  <a id="7485" href="Data.List.Countdown.html#7135" class="Function">kind′</a>  <a id="7492" href="Data.List.Countdown.html#7492" class="Bound">y</a> <a id="7494" class="Symbol">|</a> <a id="7496" href="Relation.Nullary.Decidable.Core.html#2083" class="InductiveConstructor">no</a>  <a id="7500" href="Data.List.Countdown.html#7500" class="Bound">y≉x</a> <a id="7504" class="Symbol">|</a> <a id="7506" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="7511" href="Data.List.Countdown.html#7511" class="Bound">i</a>         <a id="7521" class="Symbol">|</a> <a id="7523" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="7528" href="Data.List.Countdown.html#7528" class="Bound">j</a>         <a id="7538" class="Symbol">|</a> <a id="7540" href="Data.List.Countdown.html#7540" class="Bound">hlp</a> <a id="7544" class="Symbol">=</a>
    <a id="7550" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="7555" class="Symbol">(</a><a id="7556" href="Data.Fin.Base.html#6856" class="Function">punchOut</a> <a id="7565" class="Symbol">(</a><a id="7566" href="Data.List.Countdown.html#7500" class="Bound">y≉x</a> <a id="7570" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="7572" href="Relation.Binary.Structures.html#1245" class="Function">sym</a> <a id="7576" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="7578" href="Data.List.Countdown.html#7540" class="Bound">hlp</a> <a id="7582" class="Symbol">_</a> <a id="7584" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7589" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="7593" class="Symbol">))</a>

  <a id="7599" href="Data.List.Countdown.html#7599" class="Function">inj</a> <a id="7603" class="Symbol">:</a> <a id="7605" class="Symbol">∀</a> <a id="7607" class="Symbol">{</a><a id="7608" href="Data.List.Countdown.html#7608" class="Bound">y</a> <a id="7610" href="Data.List.Countdown.html#7610" class="Bound">z</a> <a id="7612" href="Data.List.Countdown.html#7612" class="Bound">i</a><a id="7613" class="Symbol">}</a> <a id="7615" class="Symbol">→</a> <a id="7617" href="Data.List.Countdown.html#7135" class="Function">kind′</a> <a id="7623" href="Data.List.Countdown.html#7608" class="Bound">y</a> <a id="7625" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7627" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="7632" href="Data.List.Countdown.html#7612" class="Bound">i</a> <a id="7634" class="Symbol">→</a> <a id="7636" href="Data.List.Countdown.html#7135" class="Function">kind′</a> <a id="7642" href="Data.List.Countdown.html#7610" class="Bound">z</a> <a id="7644" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7646" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="7651" href="Data.List.Countdown.html#7612" class="Bound">i</a> <a id="7653" class="Symbol">→</a> <a id="7655" href="Data.List.Countdown.html#7608" class="Bound">y</a> <a id="7657" href="Relation.Binary.Bundles.html#1798" class="Field Operator">≈</a> <a id="7659" href="Data.List.Countdown.html#7610" class="Bound">z</a>
  <a id="7663" href="Data.List.Countdown.html#7599" class="Function">inj</a> <a id="7667" class="Symbol">{</a><a id="7668" href="Data.List.Countdown.html#7668" class="Bound">y</a><a id="7669" class="Symbol">}</a> <a id="7671" class="Symbol">{</a><a id="7672" href="Data.List.Countdown.html#7672" class="Bound">z</a><a id="7673" class="Symbol">}</a> <a id="7675" href="Data.List.Countdown.html#7675" class="Bound">eq₁</a> <a id="7679" href="Data.List.Countdown.html#7679" class="Bound">eq₂</a> <a id="7683" class="Keyword">with</a> <a id="7688" href="Data.List.Countdown.html#7668" class="Bound">y</a> <a id="7690" href="Relation.Binary.Structures.html#1994" class="Function Operator">≟</a> <a id="7692" href="Data.List.Countdown.html#6909" class="Bound">x</a> <a id="7694" class="Symbol">|</a> <a id="7696" href="Data.List.Countdown.html#7672" class="Bound">z</a> <a id="7698" href="Relation.Binary.Structures.html#1994" class="Function Operator">≟</a> <a id="7700" href="Data.List.Countdown.html#6909" class="Bound">x</a> <a id="7702" class="Symbol">|</a> <a id="7704" href="Data.List.Countdown.html#5190" class="Function">kind</a> <a id="7709" href="Data.List.Countdown.html#6909" class="Bound">x</a> <a id="7711" class="Symbol">|</a> <a id="7713" href="Data.List.Countdown.html#5190" class="Function">kind</a> <a id="7718" href="Data.List.Countdown.html#7668" class="Bound">y</a> <a id="7720" class="Symbol">|</a> <a id="7722" href="Data.List.Countdown.html#5190" class="Function">kind</a> <a id="7727" href="Data.List.Countdown.html#7672" class="Bound">z</a>
                         <a id="7754" class="Symbol">|</a> <a id="7756" href="Data.List.Countdown.html#7000" class="Function">helper</a> <a id="7763" href="Data.List.Countdown.html#6909" class="Bound">x</a> <a id="7765" href="Data.List.Countdown.html#7668" class="Bound">y</a> <a id="7767" class="Symbol">|</a> <a id="7769" href="Data.List.Countdown.html#7000" class="Function">helper</a> <a id="7776" href="Data.List.Countdown.html#6909" class="Bound">x</a> <a id="7778" href="Data.List.Countdown.html#7672" class="Bound">z</a> <a id="7780" class="Symbol">|</a> <a id="7782" href="Data.List.Countdown.html#7000" class="Function">helper</a> <a id="7789" href="Data.List.Countdown.html#7668" class="Bound">y</a> <a id="7791" href="Data.List.Countdown.html#7672" class="Bound">z</a>
  <a id="7795" href="Data.List.Countdown.html#7599" class="Function">inj</a> <a id="7799" class="Symbol">()</a>  <a id="7803" class="Symbol">_</a>   <a id="7807" class="Symbol">|</a> <a id="7809" href="Relation.Nullary.Decidable.Core.html#2046" class="InductiveConstructor">yes</a> <a id="7813" class="Symbol">_</a> <a id="7815" class="Symbol">|</a> <a id="7817" class="Symbol">_</a>     <a id="7823" class="Symbol">|</a> <a id="7825" class="Symbol">_</a>              <a id="7840" class="Symbol">|</a> <a id="7842" class="Symbol">_</a>      <a id="7849" class="Symbol">|</a> <a id="7851" class="Symbol">_</a>      <a id="7858" class="Symbol">|</a> <a id="7860" class="Symbol">_</a> <a id="7862" class="Symbol">|</a> <a id="7864" class="Symbol">_</a> <a id="7866" class="Symbol">|</a> <a id="7868" class="Symbol">_</a>
  <a id="7872" href="Data.List.Countdown.html#7599" class="Function">inj</a> <a id="7876" class="Symbol">_</a>   <a id="7880" class="Symbol">()</a>  <a id="7884" class="Symbol">|</a> <a id="7886" class="Symbol">_</a>     <a id="7892" class="Symbol">|</a> <a id="7894" href="Relation.Nullary.Decidable.Core.html#2046" class="InductiveConstructor">yes</a> <a id="7898" class="Symbol">_</a> <a id="7900" class="Symbol">|</a> <a id="7902" class="Symbol">_</a>              <a id="7917" class="Symbol">|</a> <a id="7919" class="Symbol">_</a>      <a id="7926" class="Symbol">|</a> <a id="7928" class="Symbol">_</a>      <a id="7935" class="Symbol">|</a> <a id="7937" class="Symbol">_</a> <a id="7939" class="Symbol">|</a> <a id="7941" class="Symbol">_</a> <a id="7943" class="Symbol">|</a> <a id="7945" class="Symbol">_</a>
  <a id="7949" href="Data.List.Countdown.html#7599" class="Function">inj</a> <a id="7953" class="Symbol">_</a>   <a id="7957" class="Symbol">_</a>   <a id="7961" class="Symbol">|</a> <a id="7963" href="Relation.Nullary.Decidable.Core.html#2083" class="InductiveConstructor">no</a>  <a id="7967" class="Symbol">_</a> <a id="7969" class="Symbol">|</a> <a id="7971" href="Relation.Nullary.Decidable.Core.html#2083" class="InductiveConstructor">no</a>  <a id="7975" class="Symbol">_</a> <a id="7977" class="Symbol">|</a> <a id="7979" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="7984" href="Data.List.Countdown.html#7984" class="Bound">x∈counted</a> <a id="7994" class="Symbol">|</a> <a id="7996" class="Symbol">_</a>      <a id="8003" class="Symbol">|</a> <a id="8005" class="Symbol">_</a>      <a id="8012" class="Symbol">|</a> <a id="8014" class="Symbol">_</a> <a id="8016" class="Symbol">|</a> <a id="8018" class="Symbol">_</a> <a id="8020" class="Symbol">|</a> <a id="8022" class="Symbol">_</a> <a id="8024" class="Symbol">=</a> <a id="8026" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="8033" class="Symbol">(</a><a id="8034" href="Data.List.Countdown.html#6911" class="Bound">x∉counted</a> <a id="8044" href="Data.List.Countdown.html#7984" class="Bound">x∈counted</a><a id="8053" class="Symbol">)</a>
  <a id="8057" href="Data.List.Countdown.html#7599" class="Function">inj</a> <a id="8061" class="Symbol">()</a>  <a id="8065" class="Symbol">_</a>   <a id="8069" class="Symbol">|</a> <a id="8071" href="Relation.Nullary.Decidable.Core.html#2083" class="InductiveConstructor">no</a>  <a id="8075" class="Symbol">_</a> <a id="8077" class="Symbol">|</a> <a id="8079" href="Relation.Nullary.Decidable.Core.html#2083" class="InductiveConstructor">no</a>  <a id="8083" class="Symbol">_</a> <a id="8085" class="Symbol">|</a> <a id="8087" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="8092" class="Symbol">_</a>         <a id="8102" class="Symbol">|</a> <a id="8104" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="8109" class="Symbol">_</a> <a id="8111" class="Symbol">|</a> <a id="8113" class="Symbol">_</a>      <a id="8120" class="Symbol">|</a> <a id="8122" class="Symbol">_</a> <a id="8124" class="Symbol">|</a> <a id="8126" class="Symbol">_</a> <a id="8128" class="Symbol">|</a> <a id="8130" class="Symbol">_</a>
  <a id="8134" href="Data.List.Countdown.html#7599" class="Function">inj</a> <a id="8138" class="Symbol">_</a>   <a id="8142" class="Symbol">()</a>  <a id="8146" class="Symbol">|</a> <a id="8148" href="Relation.Nullary.Decidable.Core.html#2083" class="InductiveConstructor">no</a>  <a id="8152" class="Symbol">_</a> <a id="8154" class="Symbol">|</a> <a id="8156" href="Relation.Nullary.Decidable.Core.html#2083" class="InductiveConstructor">no</a>  <a id="8160" class="Symbol">_</a> <a id="8162" class="Symbol">|</a> <a id="8164" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="8169" class="Symbol">_</a>         <a id="8179" class="Symbol">|</a> <a id="8181" class="Symbol">_</a>      <a id="8188" class="Symbol">|</a> <a id="8190" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="8195" class="Symbol">_</a> <a id="8197" class="Symbol">|</a> <a id="8199" class="Symbol">_</a> <a id="8201" class="Symbol">|</a> <a id="8203" class="Symbol">_</a> <a id="8205" class="Symbol">|</a> <a id="8207" class="Symbol">_</a>
  <a id="8211" href="Data.List.Countdown.html#7599" class="Function">inj</a> <a id="8215" href="Data.List.Countdown.html#8215" class="Bound">eq₁</a> <a id="8219" href="Data.List.Countdown.html#8219" class="Bound">eq₂</a> <a id="8223" class="Symbol">|</a> <a id="8225" href="Relation.Nullary.Decidable.Core.html#2083" class="InductiveConstructor">no</a>  <a id="8229" class="Symbol">_</a> <a id="8231" class="Symbol">|</a> <a id="8233" href="Relation.Nullary.Decidable.Core.html#2083" class="InductiveConstructor">no</a>  <a id="8237" class="Symbol">_</a> <a id="8239" class="Symbol">|</a> <a id="8241" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="8246" href="Data.List.Countdown.html#8246" class="Bound">i</a>         <a id="8256" class="Symbol">|</a> <a id="8258" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="8263" class="Symbol">_</a> <a id="8265" class="Symbol">|</a> <a id="8267" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="8272" class="Symbol">_</a> <a id="8274" class="Symbol">|</a> <a id="8276" class="Symbol">_</a> <a id="8278" class="Symbol">|</a> <a id="8280" class="Symbol">_</a> <a id="8282" class="Symbol">|</a> <a id="8284" href="Data.List.Countdown.html#8284" class="Bound">hlp</a> <a id="8288" class="Symbol">=</a>
    <a id="8294" href="Data.List.Countdown.html#8284" class="Bound">hlp</a> <a id="8298" class="Symbol">_</a> <a id="8300" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="8305" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="8310" href="Function.Base.html#1974" class="Function Operator">$</a>
      <a id="8318" href="Data.Fin.Properties.html#32153" class="Function">punchOut-injective</a> <a id="8337" class="Symbol">{</a><a id="8338" class="Argument">i</a> <a id="8340" class="Symbol">=</a> <a id="8342" href="Data.List.Countdown.html#8246" class="Bound">i</a><a id="8343" class="Symbol">}</a> <a id="8345" class="Symbol">_</a> <a id="8347" class="Symbol">_</a> <a id="8349" href="Function.Base.html#1974" class="Function Operator">$</a>
        <a id="8359" class="Symbol">(</a><a id="8360" href="Relation.Binary.PropositionalEquality.Core.html#2080" class="Function">≡.trans</a> <a id="8368" class="Symbol">(</a><a id="8369" href="Data.Sum.Properties.html#960" class="Function">inj₂-injective</a> <a id="8384" href="Data.List.Countdown.html#8215" class="Bound">eq₁</a><a id="8387" class="Symbol">)</a> <a id="8389" class="Symbol">(</a><a id="8390" href="Relation.Binary.PropositionalEquality.Core.html#2035" class="Function">≡.sym</a> <a id="8396" class="Symbol">(</a><a id="8397" href="Data.Sum.Properties.html#960" class="Function">inj₂-injective</a> <a id="8412" href="Data.List.Countdown.html#8219" class="Bound">eq₂</a><a id="8415" class="Symbol">)))</a>

<a id="8420" class="Comment">-- Counts an element if it has not already been counted.</a>

<a id="lookupOrInsert"></a><a id="8478" href="Data.List.Countdown.html#8478" class="Function">lookupOrInsert</a> <a id="8493" class="Symbol">:</a> <a id="8495" class="Symbol">∀</a> <a id="8497" class="Symbol">{</a><a id="8498" href="Data.List.Countdown.html#8498" class="Bound">counted</a> <a id="8506" href="Data.List.Countdown.html#8506" class="Bound">m</a><a id="8507" class="Symbol">}</a> <a id="8509" class="Symbol">→</a>
                 <a id="8528" href="Data.List.Countdown.html#8498" class="Bound">counted</a> <a id="8536" href="Data.List.Countdown.html#4900" class="Record Operator">⊕</a> <a id="8538" href="Data.List.Countdown.html#8506" class="Bound">m</a> <a id="8540" class="Symbol">→</a>
                 <a id="8559" class="Symbol">∀</a> <a id="8561" href="Data.List.Countdown.html#8561" class="Bound">x</a> <a id="8563" class="Symbol">→</a> <a id="8565" href="Data.List.Countdown.html#8561" class="Bound">x</a> <a id="8567" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈</a> <a id="8569" href="Data.List.Countdown.html#8498" class="Bound">counted</a> <a id="8577" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a>
                       <a id="8602" href="Data.Product.Base.html#852" class="Function">∃</a> <a id="8604" class="Symbol">λ</a> <a id="8606" href="Data.List.Countdown.html#8606" class="Bound">n</a> <a id="8608" class="Symbol">→</a> <a id="8610" href="Data.List.Countdown.html#8506" class="Bound">m</a> <a id="8612" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8614" class="InductiveConstructor">suc</a> <a id="8618" href="Data.List.Countdown.html#8606" class="Bound">n</a> <a id="8620" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8622" href="Data.List.Countdown.html#8561" class="Bound">x</a> <a id="8624" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8626" href="Data.List.Countdown.html#8498" class="Bound">counted</a> <a id="8634" href="Data.List.Countdown.html#4900" class="Record Operator">⊕</a> <a id="8636" href="Data.List.Countdown.html#8606" class="Bound">n</a>
<a id="8638" href="Data.List.Countdown.html#8478" class="Function">lookupOrInsert</a> <a id="8653" href="Data.List.Countdown.html#8653" class="Bound">counted⊕n</a> <a id="8663" href="Data.List.Countdown.html#8663" class="Bound">x</a> <a id="8665" class="Keyword">with</a> <a id="8670" href="Data.List.Countdown.html#6133" class="Function">lookup</a> <a id="8677" href="Data.List.Countdown.html#8653" class="Bound">counted⊕n</a> <a id="8687" href="Data.List.Countdown.html#8663" class="Bound">x</a>
<a id="8689" class="Symbol">...</a> <a id="8693" class="Symbol">|</a> <a id="8695" href="Relation.Nullary.Decidable.Core.html#2046" class="InductiveConstructor">yes</a> <a id="8699" href="Data.List.Countdown.html#8699" class="Bound">x∈counted</a> <a id="8709" class="Symbol">=</a> <a id="8711" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="8716" href="Data.List.Countdown.html#8699" class="Bound">x∈counted</a>
<a id="8726" class="Symbol">...</a> <a id="8730" class="Symbol">|</a> <a id="8732" href="Relation.Nullary.Decidable.Core.html#2083" class="InductiveConstructor">no</a>  <a id="8736" href="Data.List.Countdown.html#8736" class="Bound">x∉counted</a> <a id="8746" class="Keyword">with</a> <a id="8751" href="Data.List.Countdown.html#6514" class="Function">lookup‼</a> <a id="8759" class="Bound">counted⊕n</a> <a id="8769" class="Bound">x</a> <a id="8771" href="Data.List.Countdown.html#8736" class="Bound">x∉counted</a>
<a id="8781" class="Symbol">...</a>   <a id="8787" class="Symbol">|</a> <a id="8789" class="Symbol">(</a><a id="8790" href="Data.List.Countdown.html#8790" class="Bound">n</a> <a id="8792" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8794" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="8798" class="Symbol">)</a> <a id="8800" class="Symbol">=</a> <a id="8802" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="8807" class="Symbol">(</a><a id="8808" href="Data.List.Countdown.html#8790" class="Bound">n</a> <a id="8810" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8812" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="8817" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8819" href="Data.List.Countdown.html#6788" class="Function">insert</a> <a id="8826" class="Bound">counted⊕n</a> <a id="8836" class="Bound">x</a> <a id="8838" class="Bound">x∉counted</a><a id="8847" class="Symbol">)</a>
</pre></body></html>