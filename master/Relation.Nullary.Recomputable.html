<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Relation.Nullary.Recomputable</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Recomputable types and their algebra as Harrop formulas</a>
<a id="165" class="Comment">------------------------------------------------------------------------</a>

<a id="239" class="Symbol">{-#</a> <a id="243" class="Keyword">OPTIONS</a> <a id="251" class="Pragma">--cubical-compatible</a> <a id="272" class="Pragma">--safe</a> <a id="279" class="Symbol">#-}</a>

<a id="284" class="Keyword">module</a> <a id="291" href="Relation.Nullary.Recomputable.html" class="Module">Relation.Nullary.Recomputable</a> <a id="321" class="Keyword">where</a>

<a id="328" class="Keyword">open</a> <a id="333" class="Keyword">import</a> <a id="340" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a> <a id="362" class="Keyword">using</a> <a id="368" class="Symbol">(</a><a id="369" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="372" class="Symbol">;</a> <a id="374" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="378" class="Symbol">)</a>
<a id="380" class="Keyword">open</a> <a id="385" class="Keyword">import</a> <a id="392" href="Data.Empty.html" class="Module">Data.Empty</a> <a id="403" class="Keyword">using</a> <a id="409" class="Symbol">(</a><a id="410" href="Data.Empty.html#914" class="Function">⊥</a><a id="411" class="Symbol">)</a>
<a id="413" class="Keyword">open</a> <a id="418" class="Keyword">import</a> <a id="425" href="Data.Irrelevant.html" class="Module">Data.Irrelevant</a> <a id="441" class="Keyword">using</a> <a id="447" class="Symbol">(</a><a id="448" href="Data.Irrelevant.html#725" class="Record">Irrelevant</a><a id="458" class="Symbol">;</a> <a id="460" href="Data.Irrelevant.html#789" class="Field">irrelevant</a><a id="470" class="Symbol">;</a> <a id="472" href="Data.Irrelevant.html#776" class="InductiveConstructor Operator">[_]</a><a id="475" class="Symbol">)</a>
<a id="477" class="Keyword">open</a> <a id="482" class="Keyword">import</a> <a id="489" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="507" class="Keyword">using</a> <a id="513" class="Symbol">(</a><a id="514" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="517" class="Symbol">;</a> <a id="519" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="522" class="Symbol">;</a> <a id="524" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="529" class="Symbol">;</a> <a id="531" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="536" class="Symbol">)</a>
<a id="538" class="Keyword">open</a> <a id="543" class="Keyword">import</a> <a id="550" href="Level.html" class="Module">Level</a> <a id="556" class="Keyword">using</a> <a id="562" class="Symbol">(</a><a id="563" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="568" class="Symbol">)</a>
<a id="570" class="Keyword">open</a> <a id="575" class="Keyword">import</a> <a id="582" href="Relation.Nullary.Negation.Core.html" class="Module">Relation.Nullary.Negation.Core</a> <a id="613" class="Keyword">using</a> <a id="619" class="Symbol">(</a><a id="620" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">¬_</a><a id="622" class="Symbol">)</a>

<a id="625" class="Keyword">private</a>
  <a id="635" class="Keyword">variable</a>
    <a id="648" href="Relation.Nullary.Recomputable.html#648" class="Generalizable">a</a> <a id="650" href="Relation.Nullary.Recomputable.html#650" class="Generalizable">b</a> <a id="652" class="Symbol">:</a> <a id="654" href="Agda.Primitive.html#742" class="Postulate">Level</a>
    <a id="664" href="Relation.Nullary.Recomputable.html#664" class="Generalizable">A</a> <a id="666" class="Symbol">:</a> <a id="668" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="672" href="Relation.Nullary.Recomputable.html#648" class="Generalizable">a</a>
    <a id="678" href="Relation.Nullary.Recomputable.html#678" class="Generalizable">B</a> <a id="680" class="Symbol">:</a> <a id="682" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="686" href="Relation.Nullary.Recomputable.html#650" class="Generalizable">b</a>

<a id="689" class="Comment">------------------------------------------------------------------------</a>
<a id="762" class="Comment">-- Definition</a>
<a id="776" class="Comment">--</a>
<a id="779" class="Comment">-- The idea of being &#39;recomputable&#39; is that, given an *irrelevant* proof</a>
<a id="852" class="Comment">-- of a proposition `A` (signalled by being a value of type `.A`, all of</a>
<a id="925" class="Comment">-- whose inhabitants are identified up to definitional equality, and hence</a>
<a id="1000" class="Comment">-- do *not* admit pattern-matching), one may &#39;promote&#39; such a value to a</a>
<a id="1073" class="Comment">-- &#39;genuine&#39; value of `A`, available for subsequent eg. pattern-matching.</a>

<a id="Recomputable"></a><a id="1148" href="Relation.Nullary.Recomputable.html#1148" class="Function">Recomputable</a> <a id="1161" class="Symbol">:</a> <a id="1163" class="Symbol">(</a><a id="1164" href="Relation.Nullary.Recomputable.html#1164" class="Bound">A</a> <a id="1166" class="Symbol">:</a> <a id="1168" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1172" href="Relation.Nullary.Recomputable.html#648" class="Generalizable">a</a><a id="1173" class="Symbol">)</a> <a id="1175" class="Symbol">→</a> <a id="1177" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1181" href="Relation.Nullary.Recomputable.html#648" class="Generalizable">a</a>
<a id="1183" href="Relation.Nullary.Recomputable.html#1148" class="Function">Recomputable</a> <a id="1196" href="Relation.Nullary.Recomputable.html#1196" class="Bound">A</a> <a id="1198" class="Symbol">=</a> <a id="1200" class="Symbol">.</a><a id="1201" href="Relation.Nullary.Recomputable.html#1196" class="Bound">A</a> <a id="1203" class="Symbol">→</a> <a id="1205" href="Relation.Nullary.Recomputable.html#1196" class="Bound">A</a>

<a id="1208" class="Comment">------------------------------------------------------------------------</a>
<a id="1281" class="Comment">-- Fundamental property: &#39;promotion&#39; is a constant function</a>

<a id="recompute-constant"></a><a id="1342" href="Relation.Nullary.Recomputable.html#1342" class="Function">recompute-constant</a> <a id="1361" class="Symbol">:</a> <a id="1363" class="Symbol">(</a><a id="1364" href="Relation.Nullary.Recomputable.html#1364" class="Bound">r</a> <a id="1366" class="Symbol">:</a> <a id="1368" href="Relation.Nullary.Recomputable.html#1148" class="Function">Recomputable</a> <a id="1381" href="Relation.Nullary.Recomputable.html#664" class="Generalizable">A</a><a id="1382" class="Symbol">)</a> <a id="1384" class="Symbol">(</a><a id="1385" href="Relation.Nullary.Recomputable.html#1385" class="Bound">p</a> <a id="1387" href="Relation.Nullary.Recomputable.html#1387" class="Bound">q</a> <a id="1389" class="Symbol">:</a> <a id="1391" href="Relation.Nullary.Recomputable.html#664" class="Generalizable">A</a><a id="1392" class="Symbol">)</a> <a id="1394" class="Symbol">→</a> <a id="1396" href="Relation.Nullary.Recomputable.html#1364" class="Bound">r</a> <a id="1398" href="Relation.Nullary.Recomputable.html#1385" class="Bound">p</a> <a id="1400" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1402" href="Relation.Nullary.Recomputable.html#1364" class="Bound">r</a> <a id="1404" href="Relation.Nullary.Recomputable.html#1387" class="Bound">q</a>
<a id="1406" href="Relation.Nullary.Recomputable.html#1342" class="Function">recompute-constant</a> <a id="1425" href="Relation.Nullary.Recomputable.html#1425" class="Bound">r</a> <a id="1427" href="Relation.Nullary.Recomputable.html#1427" class="Bound">p</a> <a id="1429" href="Relation.Nullary.Recomputable.html#1429" class="Bound">q</a> <a id="1431" class="Symbol">=</a> <a id="1433" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="1439" class="Comment">------------------------------------------------------------------------</a>
<a id="1512" class="Comment">-- Constructions</a>

<a id="1530" class="Comment">-- Irrelevant types are Recomputable</a>

<a id="irrelevant-recompute"></a><a id="1568" href="Relation.Nullary.Recomputable.html#1568" class="Function">irrelevant-recompute</a> <a id="1589" class="Symbol">:</a> <a id="1591" href="Relation.Nullary.Recomputable.html#1148" class="Function">Recomputable</a> <a id="1604" class="Symbol">(</a><a id="1605" href="Data.Irrelevant.html#725" class="Record">Irrelevant</a> <a id="1616" href="Relation.Nullary.Recomputable.html#664" class="Generalizable">A</a><a id="1617" class="Symbol">)</a>
<a id="1619" href="Data.Irrelevant.html#789" class="Field">irrelevant</a> <a id="1630" class="Symbol">(</a><a id="1631" href="Relation.Nullary.Recomputable.html#1568" class="Function">irrelevant-recompute</a> <a id="1652" href="Data.Irrelevant.html#776" class="InductiveConstructor Operator">[</a> <a id="1654" href="Relation.Nullary.Recomputable.html#1654" class="Bound">a</a> <a id="1656" href="Data.Irrelevant.html#776" class="InductiveConstructor Operator">]</a><a id="1657" class="Symbol">)</a> <a id="1659" class="Symbol">=</a> <a id="1661" href="Relation.Nullary.Recomputable.html#1654" class="Bound">a</a>

<a id="1664" class="Comment">-- Corollary: so too is ⊥</a>

<a id="⊥-recompute"></a><a id="1691" href="Relation.Nullary.Recomputable.html#1691" class="Function">⊥-recompute</a> <a id="1703" class="Symbol">:</a> <a id="1705" href="Relation.Nullary.Recomputable.html#1148" class="Function">Recomputable</a> <a id="1718" href="Data.Empty.html#914" class="Function">⊥</a>
<a id="1720" href="Relation.Nullary.Recomputable.html#1691" class="Function">⊥-recompute</a> <a id="1732" class="Symbol">=</a> <a id="1734" href="Relation.Nullary.Recomputable.html#1568" class="Function">irrelevant-recompute</a>

<a id="_×-recompute_"></a><a id="1756" href="Relation.Nullary.Recomputable.html#1756" class="Function Operator">_×-recompute_</a> <a id="1770" class="Symbol">:</a> <a id="1772" href="Relation.Nullary.Recomputable.html#1148" class="Function">Recomputable</a> <a id="1785" href="Relation.Nullary.Recomputable.html#664" class="Generalizable">A</a> <a id="1787" class="Symbol">→</a> <a id="1789" href="Relation.Nullary.Recomputable.html#1148" class="Function">Recomputable</a> <a id="1802" href="Relation.Nullary.Recomputable.html#678" class="Generalizable">B</a> <a id="1804" class="Symbol">→</a> <a id="1806" href="Relation.Nullary.Recomputable.html#1148" class="Function">Recomputable</a> <a id="1819" class="Symbol">(</a><a id="1820" href="Relation.Nullary.Recomputable.html#664" class="Generalizable">A</a> <a id="1822" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1824" href="Relation.Nullary.Recomputable.html#678" class="Generalizable">B</a><a id="1825" class="Symbol">)</a>
<a id="1827" class="Symbol">(</a><a id="1828" href="Relation.Nullary.Recomputable.html#1828" class="Bound">rA</a> <a id="1831" href="Relation.Nullary.Recomputable.html#1756" class="Function Operator">×-recompute</a> <a id="1843" href="Relation.Nullary.Recomputable.html#1843" class="Bound">rB</a><a id="1845" class="Symbol">)</a> <a id="1847" href="Relation.Nullary.Recomputable.html#1847" class="Bound">p</a> <a id="1849" class="Symbol">=</a> <a id="1851" href="Relation.Nullary.Recomputable.html#1828" class="Bound">rA</a> <a id="1854" class="Symbol">(</a><a id="1855" href="Relation.Nullary.Recomputable.html#1847" class="Bound">p</a> <a id="1857" class="Symbol">.</a><a id="1858" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="1863" class="Symbol">)</a> <a id="1865" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1867" href="Relation.Nullary.Recomputable.html#1843" class="Bound">rB</a> <a id="1870" class="Symbol">(</a><a id="1871" href="Relation.Nullary.Recomputable.html#1847" class="Bound">p</a> <a id="1873" class="Symbol">.</a><a id="1874" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="1879" class="Symbol">)</a>

<a id="_→-recompute_"></a><a id="1882" href="Relation.Nullary.Recomputable.html#1882" class="Function Operator">_→-recompute_</a> <a id="1896" class="Symbol">:</a> <a id="1898" class="Symbol">(</a><a id="1899" href="Relation.Nullary.Recomputable.html#1899" class="Bound">A</a> <a id="1901" class="Symbol">:</a> <a id="1903" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1907" href="Relation.Nullary.Recomputable.html#648" class="Generalizable">a</a><a id="1908" class="Symbol">)</a> <a id="1910" class="Symbol">→</a> <a id="1912" href="Relation.Nullary.Recomputable.html#1148" class="Function">Recomputable</a> <a id="1925" href="Relation.Nullary.Recomputable.html#678" class="Generalizable">B</a> <a id="1927" class="Symbol">→</a> <a id="1929" href="Relation.Nullary.Recomputable.html#1148" class="Function">Recomputable</a> <a id="1942" class="Symbol">(</a><a id="1943" href="Relation.Nullary.Recomputable.html#1899" class="Bound">A</a> <a id="1945" class="Symbol">→</a> <a id="1947" href="Relation.Nullary.Recomputable.html#678" class="Generalizable">B</a><a id="1948" class="Symbol">)</a>
<a id="1950" class="Symbol">(</a><a id="1951" href="Relation.Nullary.Recomputable.html#1951" class="Bound">A</a> <a id="1953" href="Relation.Nullary.Recomputable.html#1882" class="Function Operator">→-recompute</a> <a id="1965" href="Relation.Nullary.Recomputable.html#1965" class="Bound">rB</a><a id="1967" class="Symbol">)</a> <a id="1969" href="Relation.Nullary.Recomputable.html#1969" class="Bound">f</a> <a id="1971" href="Relation.Nullary.Recomputable.html#1971" class="Bound">a</a> <a id="1973" class="Symbol">=</a> <a id="1975" href="Relation.Nullary.Recomputable.html#1965" class="Bound">rB</a> <a id="1978" class="Symbol">(</a><a id="1979" href="Relation.Nullary.Recomputable.html#1969" class="Bound">f</a> <a id="1981" href="Relation.Nullary.Recomputable.html#1971" class="Bound">a</a><a id="1982" class="Symbol">)</a>

<a id="Π-recompute"></a><a id="1985" href="Relation.Nullary.Recomputable.html#1985" class="Function">Π-recompute</a> <a id="1997" class="Symbol">:</a> <a id="1999" class="Symbol">(</a><a id="2000" href="Relation.Nullary.Recomputable.html#2000" class="Bound">B</a> <a id="2002" class="Symbol">:</a> <a id="2004" href="Relation.Nullary.Recomputable.html#664" class="Generalizable">A</a> <a id="2006" class="Symbol">→</a> <a id="2008" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2012" href="Relation.Nullary.Recomputable.html#650" class="Generalizable">b</a><a id="2013" class="Symbol">)</a> <a id="2015" class="Symbol">→</a> <a id="2017" class="Symbol">(∀</a> <a id="2020" href="Relation.Nullary.Recomputable.html#2020" class="Bound">x</a> <a id="2022" class="Symbol">→</a> <a id="2024" href="Relation.Nullary.Recomputable.html#1148" class="Function">Recomputable</a> <a id="2037" class="Symbol">(</a><a id="2038" href="Relation.Nullary.Recomputable.html#2000" class="Bound">B</a> <a id="2040" href="Relation.Nullary.Recomputable.html#2020" class="Bound">x</a><a id="2041" class="Symbol">))</a> <a id="2044" class="Symbol">→</a> <a id="2046" href="Relation.Nullary.Recomputable.html#1148" class="Function">Recomputable</a> <a id="2059" class="Symbol">(∀</a> <a id="2062" href="Relation.Nullary.Recomputable.html#2062" class="Bound">x</a> <a id="2064" class="Symbol">→</a> <a id="2066" href="Relation.Nullary.Recomputable.html#2000" class="Bound">B</a> <a id="2068" href="Relation.Nullary.Recomputable.html#2062" class="Bound">x</a><a id="2069" class="Symbol">)</a>
<a id="2071" href="Relation.Nullary.Recomputable.html#1985" class="Function">Π-recompute</a> <a id="2083" href="Relation.Nullary.Recomputable.html#2083" class="Bound">B</a> <a id="2085" href="Relation.Nullary.Recomputable.html#2085" class="Bound">rB</a> <a id="2088" href="Relation.Nullary.Recomputable.html#2088" class="Bound">f</a> <a id="2090" href="Relation.Nullary.Recomputable.html#2090" class="Bound">a</a> <a id="2092" class="Symbol">=</a> <a id="2094" href="Relation.Nullary.Recomputable.html#2085" class="Bound">rB</a> <a id="2097" href="Relation.Nullary.Recomputable.html#2090" class="Bound">a</a> <a id="2099" class="Symbol">(</a><a id="2100" href="Relation.Nullary.Recomputable.html#2088" class="Bound">f</a> <a id="2102" href="Relation.Nullary.Recomputable.html#2090" class="Bound">a</a><a id="2103" class="Symbol">)</a>

<a id="∀-recompute"></a><a id="2106" href="Relation.Nullary.Recomputable.html#2106" class="Function">∀-recompute</a> <a id="2118" class="Symbol">:</a> <a id="2120" class="Symbol">(</a><a id="2121" href="Relation.Nullary.Recomputable.html#2121" class="Bound">B</a> <a id="2123" class="Symbol">:</a> <a id="2125" href="Relation.Nullary.Recomputable.html#664" class="Generalizable">A</a> <a id="2127" class="Symbol">→</a> <a id="2129" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2133" href="Relation.Nullary.Recomputable.html#650" class="Generalizable">b</a><a id="2134" class="Symbol">)</a> <a id="2136" class="Symbol">→</a> <a id="2138" class="Symbol">(∀</a> <a id="2141" class="Symbol">{</a><a id="2142" href="Relation.Nullary.Recomputable.html#2142" class="Bound">x</a><a id="2143" class="Symbol">}</a> <a id="2145" class="Symbol">→</a> <a id="2147" href="Relation.Nullary.Recomputable.html#1148" class="Function">Recomputable</a> <a id="2160" class="Symbol">(</a><a id="2161" href="Relation.Nullary.Recomputable.html#2121" class="Bound">B</a> <a id="2163" href="Relation.Nullary.Recomputable.html#2142" class="Bound">x</a><a id="2164" class="Symbol">))</a> <a id="2167" class="Symbol">→</a> <a id="2169" href="Relation.Nullary.Recomputable.html#1148" class="Function">Recomputable</a> <a id="2182" class="Symbol">(∀</a> <a id="2185" class="Symbol">{</a><a id="2186" href="Relation.Nullary.Recomputable.html#2186" class="Bound">x</a><a id="2187" class="Symbol">}</a> <a id="2189" class="Symbol">→</a> <a id="2191" href="Relation.Nullary.Recomputable.html#2121" class="Bound">B</a> <a id="2193" href="Relation.Nullary.Recomputable.html#2186" class="Bound">x</a><a id="2194" class="Symbol">)</a>
<a id="2196" href="Relation.Nullary.Recomputable.html#2106" class="Function">∀-recompute</a> <a id="2208" href="Relation.Nullary.Recomputable.html#2208" class="Bound">B</a> <a id="2210" href="Relation.Nullary.Recomputable.html#2210" class="Bound">rB</a> <a id="2213" href="Relation.Nullary.Recomputable.html#2213" class="Bound">f</a> <a id="2215" class="Symbol">=</a> <a id="2217" href="Relation.Nullary.Recomputable.html#2210" class="Bound">rB</a> <a id="2220" href="Relation.Nullary.Recomputable.html#2213" class="Bound">f</a>

<a id="2223" class="Comment">-- Corollary: negations are Recomputable</a>

<a id="¬-recompute"></a><a id="2265" href="Relation.Nullary.Recomputable.html#2265" class="Function">¬-recompute</a> <a id="2277" class="Symbol">:</a> <a id="2279" href="Relation.Nullary.Recomputable.html#1148" class="Function">Recomputable</a> <a id="2292" class="Symbol">(</a><a id="2293" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">¬</a> <a id="2295" href="Relation.Nullary.Recomputable.html#664" class="Generalizable">A</a><a id="2296" class="Symbol">)</a>
<a id="2298" href="Relation.Nullary.Recomputable.html#2265" class="Function">¬-recompute</a> <a id="2310" class="Symbol">{</a><a id="2311" class="Argument">A</a> <a id="2313" class="Symbol">=</a> <a id="2315" href="Relation.Nullary.Recomputable.html#2315" class="Bound">A</a><a id="2316" class="Symbol">}</a> <a id="2318" class="Symbol">=</a> <a id="2320" href="Relation.Nullary.Recomputable.html#2315" class="Bound">A</a> <a id="2322" href="Relation.Nullary.Recomputable.html#1882" class="Function Operator">→-recompute</a> <a id="2334" href="Relation.Nullary.Recomputable.html#1691" class="Function">⊥-recompute</a>

</pre></body></html>