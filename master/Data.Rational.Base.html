<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Rational.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Rational numbers</a>
<a id="126" class="Comment">------------------------------------------------------------------------</a>

<a id="200" class="Symbol">{-#</a> <a id="204" class="Keyword">OPTIONS</a> <a id="212" class="Pragma">--cubical-compatible</a> <a id="233" class="Pragma">--safe</a> <a id="240" class="Symbol">#-}</a>

<a id="245" class="Keyword">module</a> <a id="252" href="Data.Rational.Base.html" class="Module">Data.Rational.Base</a> <a id="271" class="Keyword">where</a>

<a id="278" class="Keyword">open</a> <a id="283" class="Keyword">import</a> <a id="290" href="Algebra.Bundles.Raw.html" class="Module">Algebra.Bundles.Raw</a>
<a id="310" class="Keyword">open</a> <a id="315" class="Keyword">import</a> <a id="322" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="337" class="Keyword">using</a> <a id="343" class="Symbol">(</a><a id="344" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="348" class="Symbol">;</a> <a id="350" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="354" class="Symbol">;</a> <a id="356" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="361" class="Symbol">;</a> <a id="363" href="Data.Bool.Base.html#1292" class="Function Operator">if_then_else_</a><a id="376" class="Symbol">)</a>
<a id="378" class="Keyword">open</a> <a id="383" class="Keyword">import</a> <a id="390" href="Data.Integer.Base.html" class="Module">Data.Integer.Base</a> <a id="408" class="Symbol">as</a> <a id="411" class="Module">ℤ</a>
  <a id="415" class="Keyword">using</a> <a id="421" class="Symbol">(</a><a id="422" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a><a id="423" class="Symbol">;</a> <a id="425" href="Agda.Builtin.Int.html#263" class="InductiveConstructor">+_</a><a id="427" class="Symbol">;</a> <a id="429" href="Data.Integer.Base.html#1411" class="InductiveConstructor">+0</a><a id="431" class="Symbol">;</a> <a id="433" href="Data.Integer.Base.html#1434" class="InductiveConstructor Operator">+[1+_]</a><a id="439" class="Symbol">;</a> <a id="441" href="Agda.Builtin.Int.html#290" class="InductiveConstructor">-[1+_]</a><a id="447" class="Symbol">)</a>
  <a id="451" class="Keyword">hiding</a> <a id="458" class="Symbol">(</a><a id="459" class="Keyword">module</a> <a id="466" href="Agda.Builtin.Int.html#245" class="Module">ℤ</a><a id="467" class="Symbol">)</a>
<a id="469" class="Keyword">open</a> <a id="474" class="Keyword">import</a> <a id="481" href="Data.Nat.GCD.html" class="Module">Data.Nat.GCD</a>
<a id="494" class="Keyword">open</a> <a id="499" class="Keyword">import</a> <a id="506" href="Data.Nat.Coprimality.html" class="Module">Data.Nat.Coprimality</a> <a id="527" class="Symbol">as</a> <a id="530" class="Module">C</a>
  <a id="534" class="Keyword">using</a> <a id="540" class="Symbol">(</a><a id="541" href="Data.Nat.Coprimality.html#1174" class="Function">Coprime</a><a id="548" class="Symbol">;</a> <a id="550" href="Data.Nat.Coprimality.html#3427" class="Function">Bézout-coprime</a><a id="564" class="Symbol">;</a> <a id="566" href="Data.Nat.Coprimality.html#1862" class="Function">coprime-/gcd</a><a id="578" class="Symbol">;</a> <a id="580" href="Data.Nat.Coprimality.html#2240" class="Function">coprime?</a><a id="588" class="Symbol">;</a> <a id="590" href="Data.Nat.Coprimality.html#2812" class="Function">¬0-coprimeTo-2+</a><a id="605" class="Symbol">)</a>
<a id="607" class="Keyword">open</a> <a id="612" class="Keyword">import</a> <a id="619" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="633" class="Symbol">as</a> <a id="636" class="Module">ℕ</a> <a id="638" class="Keyword">using</a> <a id="644" class="Symbol">(</a><a id="645" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="646" class="Symbol">;</a> <a id="648" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="652" class="Symbol">;</a> <a id="654" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="657" class="Symbol">)</a> <a id="659" class="Keyword">hiding</a> <a id="666" class="Symbol">(</a><a id="667" class="Keyword">module</a> <a id="674" href="Agda.Builtin.Nat.html#203" class="Module">ℕ</a><a id="675" class="Symbol">)</a>
<a id="677" class="Keyword">open</a> <a id="682" class="Keyword">import</a> <a id="689" href="Data.Rational.Unnormalised.Base.html" class="Module">Data.Rational.Unnormalised.Base</a> <a id="721" class="Symbol">as</a> <a id="724" class="Module">ℚᵘ</a> <a id="727" class="Keyword">using</a> <a id="733" class="Symbol">(</a><a id="734" href="Data.Rational.Unnormalised.Base.html#1369" class="Record">ℚᵘ</a><a id="736" class="Symbol">;</a> <a id="738" href="Data.Rational.Unnormalised.Base.html#1653" class="InductiveConstructor">mkℚᵘ</a><a id="742" class="Symbol">)</a>
<a id="744" class="Keyword">open</a> <a id="749" class="Keyword">import</a> <a id="756" href="Data.Sum.Base.html" class="Module">Data.Sum.Base</a> <a id="770" class="Keyword">using</a> <a id="776" class="Symbol">(</a><a id="777" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a><a id="781" class="Symbol">)</a>
<a id="783" class="Keyword">open</a> <a id="788" class="Keyword">import</a> <a id="795" href="Function.Base.html" class="Module">Function.Base</a> <a id="809" class="Keyword">using</a> <a id="815" class="Symbol">(</a><a id="816" href="Function.Base.html#704" class="Function">id</a><a id="818" class="Symbol">)</a>
<a id="820" class="Keyword">open</a> <a id="825" class="Keyword">import</a> <a id="832" href="Level.html" class="Module">Level</a> <a id="838" class="Keyword">using</a> <a id="844" class="Symbol">(</a><a id="845" href="Level.html#521" class="Function">0ℓ</a><a id="847" class="Symbol">)</a>
<a id="849" class="Keyword">open</a> <a id="854" class="Keyword">import</a> <a id="861" href="Relation.Nullary.Decidable.Core.html" class="Module">Relation.Nullary.Decidable.Core</a> <a id="893" class="Keyword">using</a> <a id="899" class="Symbol">(</a><a id="900" href="Relation.Nullary.Decidable.Core.html#2212" class="Function">recompute</a><a id="909" class="Symbol">)</a>
<a id="911" class="Keyword">open</a> <a id="916" class="Keyword">import</a> <a id="923" href="Relation.Nullary.Negation.Core.html" class="Module">Relation.Nullary.Negation.Core</a> <a id="954" class="Keyword">using</a> <a id="960" class="Symbol">(</a><a id="961" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬_</a><a id="963" class="Symbol">;</a> <a id="965" href="Relation.Nullary.Negation.Core.html#1226" class="Function">contradiction</a><a id="978" class="Symbol">)</a>
<a id="980" class="Keyword">open</a> <a id="985" class="Keyword">import</a> <a id="992" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="1007" class="Keyword">using</a> <a id="1013" class="Symbol">(</a><a id="1014" href="Relation.Unary.html#1232" class="Function">Pred</a><a id="1018" class="Symbol">)</a>
<a id="1020" class="Keyword">open</a> <a id="1025" class="Keyword">import</a> <a id="1032" href="Relation.Binary.Core.html" class="Module">Relation.Binary.Core</a> <a id="1053" class="Keyword">using</a> <a id="1059" class="Symbol">(</a><a id="1060" href="Relation.Binary.Core.html#896" class="Function">Rel</a><a id="1063" class="Symbol">)</a>
<a id="1065" class="Keyword">open</a> <a id="1070" class="Keyword">import</a> <a id="1077" href="Relation.Binary.PropositionalEquality.Core.html" class="Module">Relation.Binary.PropositionalEquality.Core</a>
  <a id="1122" class="Keyword">using</a> <a id="1128" class="Symbol">(</a><a id="1129" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="1132" class="Symbol">;</a> <a id="1134" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">_≢_</a><a id="1137" class="Symbol">;</a> <a id="1139" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="1143" class="Symbol">)</a>

<a id="1146" class="Comment">------------------------------------------------------------------------</a>
<a id="1219" class="Comment">-- Rational numbers in reduced form. Note that there is exactly one</a>
<a id="1287" class="Comment">-- way to represent every rational number.</a>

<a id="1331" class="Keyword">record</a> <a id="ℚ"></a><a id="1338" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="1340" class="Symbol">:</a> <a id="1342" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1346" class="Keyword">where</a>
  <a id="1354" class="Comment">-- We add &quot;no-eta-equality; pattern&quot; to the record to stop Agda</a>
  <a id="1420" class="Comment">-- automatically unfolding rationals when arithmetic operations are</a>
  <a id="1490" class="Comment">-- applied to them (see definition of operators below and Issue #1753</a>
  <a id="1562" class="Comment">-- for details).</a>
  <a id="1581" class="Keyword">no-eta-equality</a><a id="1596" class="Symbol">;</a> <a id="1598" class="Keyword">pattern</a>

  <a id="1609" class="Keyword">constructor</a> <a id="mkℚ"></a><a id="1621" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a>
  <a id="1627" class="Keyword">field</a>
    <a id="ℚ.numerator"></a><a id="1637" href="Data.Rational.Base.html#1637" class="Field">numerator</a>     <a id="1651" class="Symbol">:</a> <a id="1653" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
    <a id="ℚ.denominator-1"></a><a id="1659" href="Data.Rational.Base.html#1659" class="Field">denominator-1</a> <a id="1673" class="Symbol">:</a> <a id="1675" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="1681" class="Symbol">.</a><a id="ℚ.isCoprime"></a><a id="1682" href="Data.Rational.Base.html#1682" class="Field">isCoprime</a>    <a id="1695" class="Symbol">:</a> <a id="1697" href="Data.Nat.Coprimality.html#1174" class="Function">Coprime</a> <a id="1705" href="Data.Integer.Base.html#1715" class="Function Operator">ℤ.∣</a> <a id="1709" href="Data.Rational.Base.html#1637" class="Field">numerator</a> <a id="1719" href="Data.Integer.Base.html#1715" class="Function Operator">∣</a> <a id="1721" class="Symbol">(</a><a id="1722" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1726" href="Data.Rational.Base.html#1659" class="Field">denominator-1</a><a id="1739" class="Symbol">)</a>

  <a id="ℚ.denominatorℕ"></a><a id="1744" href="Data.Rational.Base.html#1744" class="Function">denominatorℕ</a> <a id="1757" class="Symbol">:</a> <a id="1759" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="1763" href="Data.Rational.Base.html#1744" class="Function">denominatorℕ</a> <a id="1776" class="Symbol">=</a> <a id="1778" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1782" href="Data.Rational.Base.html#1659" class="Field">denominator-1</a>

  <a id="ℚ.denominator"></a><a id="1799" href="Data.Rational.Base.html#1799" class="Function">denominator</a> <a id="1811" class="Symbol">:</a> <a id="1813" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
  <a id="1817" href="Data.Rational.Base.html#1799" class="Function">denominator</a> <a id="1829" class="Symbol">=</a> <a id="1831" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">+</a> <a id="1833" href="Data.Rational.Base.html#1744" class="Function">denominatorℕ</a>

<a id="1847" class="Keyword">open</a> <a id="1852" href="Data.Rational.Base.html#1338" class="Module">ℚ</a> <a id="1854" class="Keyword">public</a> <a id="1861" class="Keyword">using</a> <a id="1867" class="Symbol">()</a>
  <a id="1872" class="Keyword">renaming</a>
  <a id="1883" class="Symbol">(</a> <a id="1885" href="Data.Rational.Base.html#1637" class="Field">numerator</a>    <a id="1898" class="Symbol">to</a> <a id="1901" class="Field">↥_</a>
  <a id="1906" class="Symbol">;</a> <a id="1908" href="Data.Rational.Base.html#1799" class="Function">denominator</a>  <a id="1921" class="Symbol">to</a> <a id="1924" class="Function">↧_</a>
  <a id="1929" class="Symbol">;</a> <a id="1931" href="Data.Rational.Base.html#1744" class="Function">denominatorℕ</a> <a id="1944" class="Symbol">to</a> <a id="1947" class="Function">↧ₙ_</a>
  <a id="1953" class="Symbol">)</a>

<a id="mkℚ+"></a><a id="1956" href="Data.Rational.Base.html#1956" class="Function">mkℚ+</a> <a id="1961" class="Symbol">:</a> <a id="1963" class="Symbol">∀</a> <a id="1965" href="Data.Rational.Base.html#1965" class="Bound">n</a> <a id="1967" href="Data.Rational.Base.html#1967" class="Bound">d</a> <a id="1969" class="Symbol">→</a> <a id="1971" class="Symbol">.{{</a><a id="1974" href="Data.Rational.Base.html#1974" class="Bound">_</a> <a id="1976" class="Symbol">:</a> <a id="1978" href="Data.Nat.Base.html#2827" class="Record">ℕ.NonZero</a> <a id="1988" href="Data.Rational.Base.html#1967" class="Bound">d</a><a id="1989" class="Symbol">}}</a> <a id="1992" class="Symbol">→</a> <a id="1994" class="Symbol">.(</a><a id="1996" href="Data.Nat.Coprimality.html#1174" class="Function">Coprime</a> <a id="2004" href="Data.Rational.Base.html#1965" class="Bound">n</a> <a id="2006" href="Data.Rational.Base.html#1967" class="Bound">d</a><a id="2007" class="Symbol">)</a> <a id="2009" class="Symbol">→</a> <a id="2011" href="Data.Rational.Base.html#1338" class="Record">ℚ</a>
<a id="2013" href="Data.Rational.Base.html#1956" class="Function">mkℚ+</a> <a id="2018" href="Data.Rational.Base.html#2018" class="Bound">n</a> <a id="2020" class="Symbol">(</a><a id="2021" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2025" href="Data.Rational.Base.html#2025" class="Bound">d</a><a id="2026" class="Symbol">)</a> <a id="2028" href="Data.Rational.Base.html#2028" class="Bound">coprime</a> <a id="2036" class="Symbol">=</a> <a id="2038" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="2042" class="Symbol">(</a><a id="2043" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">+</a> <a id="2045" href="Data.Rational.Base.html#2018" class="Bound">n</a><a id="2046" class="Symbol">)</a> <a id="2048" href="Data.Rational.Base.html#2025" class="Bound">d</a> <a id="2050" href="Data.Rational.Base.html#2028" class="Bound">coprime</a>

<a id="2059" class="Comment">------------------------------------------------------------------------</a>
<a id="2132" class="Comment">-- Equality of rational numbers (coincides with _≡_)</a>

<a id="2186" class="Keyword">infix</a> <a id="2192" class="Number">4</a> <a id="2194" href="Data.Rational.Base.html#2204" class="Datatype Operator">_≃_</a>

<a id="2199" class="Keyword">data</a> <a id="_≃_"></a><a id="2204" href="Data.Rational.Base.html#2204" class="Datatype Operator">_≃_</a> <a id="2208" class="Symbol">:</a> <a id="2210" href="Relation.Binary.Core.html#896" class="Function">Rel</a> <a id="2214" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="2216" href="Level.html#521" class="Function">0ℓ</a> <a id="2219" class="Keyword">where</a>
  <a id="_≃_.*≡*"></a><a id="2227" href="Data.Rational.Base.html#2227" class="InductiveConstructor">*≡*</a> <a id="2231" class="Symbol">:</a> <a id="2233" class="Symbol">∀</a> <a id="2235" class="Symbol">{</a><a id="2236" href="Data.Rational.Base.html#2236" class="Bound">p</a> <a id="2238" href="Data.Rational.Base.html#2238" class="Bound">q</a><a id="2239" class="Symbol">}</a> <a id="2241" class="Symbol">→</a> <a id="2243" class="Symbol">(</a><a id="2244" href="Data.Rational.Base.html#1901" class="Field Operator">↥</a> <a id="2246" href="Data.Rational.Base.html#2236" class="Bound">p</a> <a id="2248" href="Data.Integer.Base.html#5391" class="Function Operator">ℤ.*</a> <a id="2252" href="Data.Rational.Base.html#1924" class="Function Operator">↧</a> <a id="2254" href="Data.Rational.Base.html#2238" class="Bound">q</a><a id="2255" class="Symbol">)</a> <a id="2257" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2259" class="Symbol">(</a><a id="2260" href="Data.Rational.Base.html#1901" class="Field Operator">↥</a> <a id="2262" href="Data.Rational.Base.html#2238" class="Bound">q</a> <a id="2264" href="Data.Integer.Base.html#5391" class="Function Operator">ℤ.*</a> <a id="2268" href="Data.Rational.Base.html#1924" class="Function Operator">↧</a> <a id="2270" href="Data.Rational.Base.html#2236" class="Bound">p</a><a id="2271" class="Symbol">)</a> <a id="2273" class="Symbol">→</a> <a id="2275" href="Data.Rational.Base.html#2236" class="Bound">p</a> <a id="2277" href="Data.Rational.Base.html#2204" class="Datatype Operator">≃</a> <a id="2279" href="Data.Rational.Base.html#2238" class="Bound">q</a>

<a id="_≄_"></a><a id="2282" href="Data.Rational.Base.html#2282" class="Function Operator">_≄_</a> <a id="2286" class="Symbol">:</a> <a id="2288" href="Relation.Binary.Core.html#896" class="Function">Rel</a> <a id="2292" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="2294" href="Level.html#521" class="Function">0ℓ</a>
<a id="2297" href="Data.Rational.Base.html#2297" class="Bound">p</a> <a id="2299" href="Data.Rational.Base.html#2282" class="Function Operator">≄</a> <a id="2301" href="Data.Rational.Base.html#2301" class="Bound">q</a> <a id="2303" class="Symbol">=</a> <a id="2305" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="2307" class="Symbol">(</a><a id="2308" href="Data.Rational.Base.html#2297" class="Bound">p</a> <a id="2310" href="Data.Rational.Base.html#2204" class="Datatype Operator">≃</a> <a id="2312" href="Data.Rational.Base.html#2301" class="Bound">q</a><a id="2313" class="Symbol">)</a>

<a id="2316" class="Comment">------------------------------------------------------------------------</a>
<a id="2389" class="Comment">-- Ordering of rationals</a>

<a id="2415" class="Keyword">infix</a> <a id="2421" class="Number">4</a> <a id="2423" href="Data.Rational.Base.html#2461" class="Datatype Operator">_≤_</a> <a id="2427" href="Data.Rational.Base.html#2546" class="Datatype Operator">_&lt;_</a> <a id="2431" href="Data.Rational.Base.html#2626" class="Function Operator">_≥_</a> <a id="2435" href="Data.Rational.Base.html#2656" class="Function Operator">_&gt;_</a> <a id="2439" href="Data.Rational.Base.html#2686" class="Function Operator">_≰_</a> <a id="2443" href="Data.Rational.Base.html#2720" class="Function Operator">_≱_</a> <a id="2447" href="Data.Rational.Base.html#2754" class="Function Operator">_≮_</a> <a id="2451" href="Data.Rational.Base.html#2788" class="Function Operator">_≯_</a>

<a id="2456" class="Keyword">data</a> <a id="_≤_"></a><a id="2461" href="Data.Rational.Base.html#2461" class="Datatype Operator">_≤_</a> <a id="2465" class="Symbol">:</a> <a id="2467" href="Relation.Binary.Core.html#896" class="Function">Rel</a> <a id="2471" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="2473" href="Level.html#521" class="Function">0ℓ</a> <a id="2476" class="Keyword">where</a>
  <a id="_≤_.*≤*"></a><a id="2484" href="Data.Rational.Base.html#2484" class="InductiveConstructor">*≤*</a> <a id="2488" class="Symbol">:</a> <a id="2490" class="Symbol">∀</a> <a id="2492" class="Symbol">{</a><a id="2493" href="Data.Rational.Base.html#2493" class="Bound">p</a> <a id="2495" href="Data.Rational.Base.html#2495" class="Bound">q</a><a id="2496" class="Symbol">}</a> <a id="2498" class="Symbol">→</a> <a id="2500" class="Symbol">(</a><a id="2501" href="Data.Rational.Base.html#1901" class="Field Operator">↥</a> <a id="2503" href="Data.Rational.Base.html#2493" class="Bound">p</a> <a id="2505" href="Data.Integer.Base.html#5391" class="Function Operator">ℤ.*</a> <a id="2509" href="Data.Rational.Base.html#1924" class="Function Operator">↧</a> <a id="2511" href="Data.Rational.Base.html#2495" class="Bound">q</a><a id="2512" class="Symbol">)</a> <a id="2514" href="Data.Integer.Base.html#1991" class="Datatype Operator">ℤ.≤</a> <a id="2518" class="Symbol">(</a><a id="2519" href="Data.Rational.Base.html#1901" class="Field Operator">↥</a> <a id="2521" href="Data.Rational.Base.html#2495" class="Bound">q</a> <a id="2523" href="Data.Integer.Base.html#5391" class="Function Operator">ℤ.*</a> <a id="2527" href="Data.Rational.Base.html#1924" class="Function Operator">↧</a> <a id="2529" href="Data.Rational.Base.html#2493" class="Bound">p</a><a id="2530" class="Symbol">)</a> <a id="2532" class="Symbol">→</a> <a id="2534" href="Data.Rational.Base.html#2493" class="Bound">p</a> <a id="2536" href="Data.Rational.Base.html#2461" class="Datatype Operator">≤</a> <a id="2538" href="Data.Rational.Base.html#2495" class="Bound">q</a>

<a id="2541" class="Keyword">data</a> <a id="_&lt;_"></a><a id="2546" href="Data.Rational.Base.html#2546" class="Datatype Operator">_&lt;_</a> <a id="2550" class="Symbol">:</a> <a id="2552" href="Relation.Binary.Core.html#896" class="Function">Rel</a> <a id="2556" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="2558" href="Level.html#521" class="Function">0ℓ</a> <a id="2561" class="Keyword">where</a>
  <a id="_&lt;_.*&lt;*"></a><a id="2569" href="Data.Rational.Base.html#2569" class="InductiveConstructor">*&lt;*</a> <a id="2573" class="Symbol">:</a> <a id="2575" class="Symbol">∀</a> <a id="2577" class="Symbol">{</a><a id="2578" href="Data.Rational.Base.html#2578" class="Bound">p</a> <a id="2580" href="Data.Rational.Base.html#2580" class="Bound">q</a><a id="2581" class="Symbol">}</a> <a id="2583" class="Symbol">→</a> <a id="2585" class="Symbol">(</a><a id="2586" href="Data.Rational.Base.html#1901" class="Field Operator">↥</a> <a id="2588" href="Data.Rational.Base.html#2578" class="Bound">p</a> <a id="2590" href="Data.Integer.Base.html#5391" class="Function Operator">ℤ.*</a> <a id="2594" href="Data.Rational.Base.html#1924" class="Function Operator">↧</a> <a id="2596" href="Data.Rational.Base.html#2580" class="Bound">q</a><a id="2597" class="Symbol">)</a> <a id="2599" href="Data.Integer.Base.html#2156" class="Datatype Operator">ℤ.&lt;</a> <a id="2603" class="Symbol">(</a><a id="2604" href="Data.Rational.Base.html#1901" class="Field Operator">↥</a> <a id="2606" href="Data.Rational.Base.html#2580" class="Bound">q</a> <a id="2608" href="Data.Integer.Base.html#5391" class="Function Operator">ℤ.*</a> <a id="2612" href="Data.Rational.Base.html#1924" class="Function Operator">↧</a> <a id="2614" href="Data.Rational.Base.html#2578" class="Bound">p</a><a id="2615" class="Symbol">)</a> <a id="2617" class="Symbol">→</a> <a id="2619" href="Data.Rational.Base.html#2578" class="Bound">p</a> <a id="2621" href="Data.Rational.Base.html#2546" class="Datatype Operator">&lt;</a> <a id="2623" href="Data.Rational.Base.html#2580" class="Bound">q</a>

<a id="_≥_"></a><a id="2626" href="Data.Rational.Base.html#2626" class="Function Operator">_≥_</a> <a id="2630" class="Symbol">:</a> <a id="2632" href="Relation.Binary.Core.html#896" class="Function">Rel</a> <a id="2636" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="2638" href="Level.html#521" class="Function">0ℓ</a>
<a id="2641" href="Data.Rational.Base.html#2641" class="Bound">x</a> <a id="2643" href="Data.Rational.Base.html#2626" class="Function Operator">≥</a> <a id="2645" href="Data.Rational.Base.html#2645" class="Bound">y</a> <a id="2647" class="Symbol">=</a> <a id="2649" href="Data.Rational.Base.html#2645" class="Bound">y</a> <a id="2651" href="Data.Rational.Base.html#2461" class="Datatype Operator">≤</a> <a id="2653" href="Data.Rational.Base.html#2641" class="Bound">x</a>

<a id="_&gt;_"></a><a id="2656" href="Data.Rational.Base.html#2656" class="Function Operator">_&gt;_</a> <a id="2660" class="Symbol">:</a> <a id="2662" href="Relation.Binary.Core.html#896" class="Function">Rel</a> <a id="2666" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="2668" href="Level.html#521" class="Function">0ℓ</a>
<a id="2671" href="Data.Rational.Base.html#2671" class="Bound">x</a> <a id="2673" href="Data.Rational.Base.html#2656" class="Function Operator">&gt;</a> <a id="2675" href="Data.Rational.Base.html#2675" class="Bound">y</a> <a id="2677" class="Symbol">=</a> <a id="2679" href="Data.Rational.Base.html#2675" class="Bound">y</a> <a id="2681" href="Data.Rational.Base.html#2546" class="Datatype Operator">&lt;</a> <a id="2683" href="Data.Rational.Base.html#2671" class="Bound">x</a>

<a id="_≰_"></a><a id="2686" href="Data.Rational.Base.html#2686" class="Function Operator">_≰_</a> <a id="2690" class="Symbol">:</a> <a id="2692" href="Relation.Binary.Core.html#896" class="Function">Rel</a> <a id="2696" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="2698" href="Level.html#521" class="Function">0ℓ</a>
<a id="2701" href="Data.Rational.Base.html#2701" class="Bound">x</a> <a id="2703" href="Data.Rational.Base.html#2686" class="Function Operator">≰</a> <a id="2705" href="Data.Rational.Base.html#2705" class="Bound">y</a> <a id="2707" class="Symbol">=</a> <a id="2709" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="2711" class="Symbol">(</a><a id="2712" href="Data.Rational.Base.html#2701" class="Bound">x</a> <a id="2714" href="Data.Rational.Base.html#2461" class="Datatype Operator">≤</a> <a id="2716" href="Data.Rational.Base.html#2705" class="Bound">y</a><a id="2717" class="Symbol">)</a>

<a id="_≱_"></a><a id="2720" href="Data.Rational.Base.html#2720" class="Function Operator">_≱_</a> <a id="2724" class="Symbol">:</a> <a id="2726" href="Relation.Binary.Core.html#896" class="Function">Rel</a> <a id="2730" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="2732" href="Level.html#521" class="Function">0ℓ</a>
<a id="2735" href="Data.Rational.Base.html#2735" class="Bound">x</a> <a id="2737" href="Data.Rational.Base.html#2720" class="Function Operator">≱</a> <a id="2739" href="Data.Rational.Base.html#2739" class="Bound">y</a> <a id="2741" class="Symbol">=</a> <a id="2743" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="2745" class="Symbol">(</a><a id="2746" href="Data.Rational.Base.html#2735" class="Bound">x</a> <a id="2748" href="Data.Rational.Base.html#2626" class="Function Operator">≥</a> <a id="2750" href="Data.Rational.Base.html#2739" class="Bound">y</a><a id="2751" class="Symbol">)</a>

<a id="_≮_"></a><a id="2754" href="Data.Rational.Base.html#2754" class="Function Operator">_≮_</a> <a id="2758" class="Symbol">:</a> <a id="2760" href="Relation.Binary.Core.html#896" class="Function">Rel</a> <a id="2764" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="2766" href="Level.html#521" class="Function">0ℓ</a>
<a id="2769" href="Data.Rational.Base.html#2769" class="Bound">x</a> <a id="2771" href="Data.Rational.Base.html#2754" class="Function Operator">≮</a> <a id="2773" href="Data.Rational.Base.html#2773" class="Bound">y</a> <a id="2775" class="Symbol">=</a> <a id="2777" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="2779" class="Symbol">(</a><a id="2780" href="Data.Rational.Base.html#2769" class="Bound">x</a> <a id="2782" href="Data.Rational.Base.html#2546" class="Datatype Operator">&lt;</a> <a id="2784" href="Data.Rational.Base.html#2773" class="Bound">y</a><a id="2785" class="Symbol">)</a>

<a id="_≯_"></a><a id="2788" href="Data.Rational.Base.html#2788" class="Function Operator">_≯_</a> <a id="2792" class="Symbol">:</a> <a id="2794" href="Relation.Binary.Core.html#896" class="Function">Rel</a> <a id="2798" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="2800" href="Level.html#521" class="Function">0ℓ</a>
<a id="2803" href="Data.Rational.Base.html#2803" class="Bound">x</a> <a id="2805" href="Data.Rational.Base.html#2788" class="Function Operator">≯</a> <a id="2807" href="Data.Rational.Base.html#2807" class="Bound">y</a> <a id="2809" class="Symbol">=</a> <a id="2811" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="2813" class="Symbol">(</a><a id="2814" href="Data.Rational.Base.html#2803" class="Bound">x</a> <a id="2816" href="Data.Rational.Base.html#2656" class="Function Operator">&gt;</a> <a id="2818" href="Data.Rational.Base.html#2807" class="Bound">y</a><a id="2819" class="Symbol">)</a>

<a id="2822" class="Comment">------------------------------------------------------------------------</a>
<a id="2895" class="Comment">-- Boolean ordering</a>

<a id="2916" class="Keyword">infix</a> <a id="2922" class="Number">4</a> <a id="2924" href="Data.Rational.Base.html#2930" class="Function Operator">_≤ᵇ_</a>

<a id="_≤ᵇ_"></a><a id="2930" href="Data.Rational.Base.html#2930" class="Function Operator">_≤ᵇ_</a> <a id="2935" class="Symbol">:</a> <a id="2937" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="2939" class="Symbol">→</a> <a id="2941" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="2943" class="Symbol">→</a> <a id="2945" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="2950" href="Data.Rational.Base.html#2950" class="Bound">p</a> <a id="2952" href="Data.Rational.Base.html#2930" class="Function Operator">≤ᵇ</a> <a id="2955" href="Data.Rational.Base.html#2955" class="Bound">q</a> <a id="2957" class="Symbol">=</a> <a id="2959" class="Symbol">(</a><a id="2960" href="Data.Rational.Base.html#1901" class="Field Operator">↥</a> <a id="2962" href="Data.Rational.Base.html#2950" class="Bound">p</a> <a id="2964" href="Data.Integer.Base.html#5391" class="Function Operator">ℤ.*</a> <a id="2968" href="Data.Rational.Base.html#1924" class="Function Operator">↧</a> <a id="2970" href="Data.Rational.Base.html#2955" class="Bound">q</a><a id="2971" class="Symbol">)</a> <a id="2973" href="Data.Integer.Base.html#2628" class="Function Operator">ℤ.≤ᵇ</a> <a id="2978" class="Symbol">(</a><a id="2979" href="Data.Rational.Base.html#1901" class="Field Operator">↥</a> <a id="2981" href="Data.Rational.Base.html#2955" class="Bound">q</a> <a id="2983" href="Data.Integer.Base.html#5391" class="Function Operator">ℤ.*</a> <a id="2987" href="Data.Rational.Base.html#1924" class="Function Operator">↧</a> <a id="2989" href="Data.Rational.Base.html#2950" class="Bound">p</a><a id="2990" class="Symbol">)</a>

<a id="2993" class="Comment">------------------------------------------------------------------------</a>
<a id="3066" class="Comment">-- Negation</a>

<a id="-_"></a><a id="3079" href="Data.Rational.Base.html#3079" class="Function Operator">-_</a> <a id="3082" class="Symbol">:</a> <a id="3084" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="3086" class="Symbol">→</a> <a id="3088" href="Data.Rational.Base.html#1338" class="Record">ℚ</a>
<a id="3090" href="Data.Rational.Base.html#3079" class="Function Operator">-</a> <a id="3092" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="3096" href="Agda.Builtin.Int.html#290" class="InductiveConstructor Operator">-[1+</a> <a id="3101" href="Data.Rational.Base.html#3101" class="Bound">n</a> <a id="3103" href="Agda.Builtin.Int.html#290" class="InductiveConstructor Operator">]</a> <a id="3105" href="Data.Rational.Base.html#3105" class="Bound">d</a> <a id="3107" href="Data.Rational.Base.html#3107" class="Bound">prf</a> <a id="3111" class="Symbol">=</a> <a id="3113" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="3117" href="Data.Integer.Base.html#1434" class="InductiveConstructor Operator">+[1+</a> <a id="3122" href="Data.Rational.Base.html#3101" class="Bound">n</a> <a id="3124" href="Data.Integer.Base.html#1434" class="InductiveConstructor Operator">]</a> <a id="3126" href="Data.Rational.Base.html#3105" class="Bound">d</a> <a id="3128" href="Data.Rational.Base.html#3107" class="Bound">prf</a>
<a id="3132" href="Data.Rational.Base.html#3079" class="Function Operator">-</a> <a id="3134" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="3138" href="Data.Integer.Base.html#1411" class="InductiveConstructor">+0</a>       <a id="3147" href="Data.Rational.Base.html#3147" class="Bound">d</a> <a id="3149" href="Data.Rational.Base.html#3149" class="Bound">prf</a> <a id="3153" class="Symbol">=</a> <a id="3155" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="3159" href="Data.Integer.Base.html#1411" class="InductiveConstructor">+0</a>       <a id="3168" href="Data.Rational.Base.html#3147" class="Bound">d</a> <a id="3170" href="Data.Rational.Base.html#3149" class="Bound">prf</a>
<a id="3174" href="Data.Rational.Base.html#3079" class="Function Operator">-</a> <a id="3176" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="3180" href="Data.Integer.Base.html#1434" class="InductiveConstructor Operator">+[1+</a> <a id="3185" href="Data.Rational.Base.html#3185" class="Bound">n</a> <a id="3187" href="Data.Integer.Base.html#1434" class="InductiveConstructor Operator">]</a> <a id="3189" href="Data.Rational.Base.html#3189" class="Bound">d</a> <a id="3191" href="Data.Rational.Base.html#3191" class="Bound">prf</a> <a id="3195" class="Symbol">=</a> <a id="3197" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="3201" href="Agda.Builtin.Int.html#290" class="InductiveConstructor Operator">-[1+</a> <a id="3206" href="Data.Rational.Base.html#3185" class="Bound">n</a> <a id="3208" href="Agda.Builtin.Int.html#290" class="InductiveConstructor Operator">]</a> <a id="3210" href="Data.Rational.Base.html#3189" class="Bound">d</a> <a id="3212" href="Data.Rational.Base.html#3191" class="Bound">prf</a>

<a id="3217" class="Comment">------------------------------------------------------------------------</a>
<a id="3290" class="Comment">-- Constructing rationals</a>

<a id="3317" class="Comment">-- A constructor for ℚ that takes two natural numbers, say 6 and 21,</a>
<a id="3386" class="Comment">-- and returns them in a normalized form, e.g. say 2 and 7</a>

<a id="normalize"></a><a id="3446" href="Data.Rational.Base.html#3446" class="Function">normalize</a> <a id="3456" class="Symbol">:</a> <a id="3458" class="Symbol">∀</a> <a id="3460" class="Symbol">(</a><a id="3461" href="Data.Rational.Base.html#3461" class="Bound">m</a> <a id="3463" href="Data.Rational.Base.html#3463" class="Bound">n</a> <a id="3465" class="Symbol">:</a> <a id="3467" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="3468" class="Symbol">)</a> <a id="3470" class="Symbol">.{{</a><a id="3473" href="Data.Rational.Base.html#3473" class="Bound">_</a> <a id="3475" class="Symbol">:</a> <a id="3477" href="Data.Nat.Base.html#2827" class="Record">ℕ.NonZero</a> <a id="3487" href="Data.Rational.Base.html#3463" class="Bound">n</a><a id="3488" class="Symbol">}}</a> <a id="3491" class="Symbol">→</a> <a id="3493" href="Data.Rational.Base.html#1338" class="Record">ℚ</a>
<a id="3495" href="Data.Rational.Base.html#3446" class="Function">normalize</a> <a id="3505" href="Data.Rational.Base.html#3505" class="Bound">m</a> <a id="3507" href="Data.Rational.Base.html#3507" class="Bound">n</a> <a id="3509" class="Symbol">=</a> <a id="3511" href="Data.Rational.Base.html#1956" class="Function">mkℚ+</a> <a id="3516" class="Symbol">(</a><a id="3517" href="Data.Rational.Base.html#3505" class="Bound">m</a> <a id="3519" href="Data.Nat.Base.html#6109" class="Function Operator">ℕ./</a> <a id="3523" href="Data.Nat.GCD.html#1949" class="Function">gcd</a> <a id="3527" href="Data.Rational.Base.html#3505" class="Bound">m</a> <a id="3529" href="Data.Rational.Base.html#3507" class="Bound">n</a><a id="3530" class="Symbol">)</a> <a id="3532" class="Symbol">(</a><a id="3533" href="Data.Rational.Base.html#3507" class="Bound">n</a> <a id="3535" href="Data.Nat.Base.html#6109" class="Function Operator">ℕ./</a> <a id="3539" href="Data.Nat.GCD.html#1949" class="Function">gcd</a> <a id="3543" href="Data.Rational.Base.html#3505" class="Bound">m</a> <a id="3545" href="Data.Rational.Base.html#3507" class="Bound">n</a><a id="3546" class="Symbol">)</a> <a id="3548" class="Symbol">(</a><a id="3549" href="Data.Nat.Coprimality.html#1862" class="Function">coprime-/gcd</a> <a id="3562" href="Data.Rational.Base.html#3505" class="Bound">m</a> <a id="3564" href="Data.Rational.Base.html#3507" class="Bound">n</a><a id="3565" class="Symbol">)</a>
  <a id="3569" class="Keyword">where</a>
    <a id="3579" class="Keyword">instance</a>
      <a id="3594" href="Data.Rational.Base.html#3594" class="Function">g≢0</a>   <a id="3600" class="Symbol">=</a> <a id="3602" href="Data.Nat.Base.html#2986" class="Function">ℕ.≢-nonZero</a> <a id="3614" class="Symbol">(</a><a id="3615" href="Data.Nat.GCD.html#3773" class="Function">gcd[m,n]≢0</a> <a id="3626" href="Data.Rational.Base.html#3505" class="Bound">m</a> <a id="3628" href="Data.Rational.Base.html#3507" class="Bound">n</a> <a id="3630" class="Symbol">(</a><a id="3631" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3636" class="Symbol">(</a><a id="3637" href="Data.Nat.Base.html#3171" class="Function">ℕ.≢-nonZero⁻¹</a> <a id="3651" href="Data.Rational.Base.html#3507" class="Bound">n</a><a id="3652" class="Symbol">)))</a>
      <a id="3662" href="Data.Rational.Base.html#3662" class="Function">n/g≢0</a> <a id="3668" class="Symbol">=</a> <a id="3670" href="Data.Nat.Base.html#2986" class="Function">ℕ.≢-nonZero</a> <a id="3682" class="Symbol">(</a><a id="3683" href="Data.Nat.GCD.html#7622" class="Function">n/gcd[m,n]≢0</a> <a id="3696" href="Data.Rational.Base.html#3505" class="Bound">m</a> <a id="3698" href="Data.Rational.Base.html#3507" class="Bound">n</a> <a id="3700" class="Symbol">{{</a><a id="3702" class="Argument">gcd≢0</a> <a id="3708" class="Symbol">=</a> <a id="3710" href="Data.Rational.Base.html#3594" class="Function">g≢0</a><a id="3713" class="Symbol">}})</a>

<a id="3718" class="Comment">-- A constructor for ℚ that (unlike mkℚ) automatically normalises it&#39;s</a>
<a id="3789" class="Comment">-- arguments. See the constants section below for how to use this operator.</a>

<a id="3866" class="Keyword">infixl</a> <a id="3873" class="Number">7</a> <a id="3875" href="Data.Rational.Base.html#3880" class="Function Operator">_/_</a>

<a id="_/_"></a><a id="3880" href="Data.Rational.Base.html#3880" class="Function Operator">_/_</a> <a id="3884" class="Symbol">:</a> <a id="3886" class="Symbol">(</a><a id="3887" href="Data.Rational.Base.html#3887" class="Bound">n</a> <a id="3889" class="Symbol">:</a> <a id="3891" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a><a id="3892" class="Symbol">)</a> <a id="3894" class="Symbol">(</a><a id="3895" href="Data.Rational.Base.html#3895" class="Bound">d</a> <a id="3897" class="Symbol">:</a> <a id="3899" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="3900" class="Symbol">)</a> <a id="3902" class="Symbol">→</a> <a id="3904" class="Symbol">.{{</a><a id="3907" href="Data.Rational.Base.html#3907" class="Bound">_</a> <a id="3909" class="Symbol">:</a> <a id="3911" href="Data.Nat.Base.html#2827" class="Record">ℕ.NonZero</a> <a id="3921" href="Data.Rational.Base.html#3895" class="Bound">d</a><a id="3922" class="Symbol">}}</a> <a id="3925" class="Symbol">→</a> <a id="3927" href="Data.Rational.Base.html#1338" class="Record">ℚ</a>
<a id="3929" class="Symbol">(</a><a id="3930" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">+</a> <a id="3932" href="Data.Rational.Base.html#3932" class="Bound">n</a>      <a id="3939" href="Data.Rational.Base.html#3880" class="Function Operator">/</a> <a id="3941" href="Data.Rational.Base.html#3941" class="Bound">d</a><a id="3942" class="Symbol">)</a> <a id="3944" class="Symbol">=</a>   <a id="3948" href="Data.Rational.Base.html#3446" class="Function">normalize</a> <a id="3958" href="Data.Rational.Base.html#3932" class="Bound">n</a>       <a id="3966" href="Data.Rational.Base.html#3941" class="Bound">d</a>
<a id="3968" class="Symbol">(</a><a id="3969" href="Agda.Builtin.Int.html#290" class="InductiveConstructor Operator">-[1+</a> <a id="3974" href="Data.Rational.Base.html#3974" class="Bound">n</a> <a id="3976" href="Agda.Builtin.Int.html#290" class="InductiveConstructor Operator">]</a> <a id="3978" href="Data.Rational.Base.html#3880" class="Function Operator">/</a> <a id="3980" href="Data.Rational.Base.html#3980" class="Bound">d</a><a id="3981" class="Symbol">)</a> <a id="3983" class="Symbol">=</a> <a id="3985" href="Data.Rational.Base.html#3079" class="Function Operator">-</a> <a id="3987" href="Data.Rational.Base.html#3446" class="Function">normalize</a> <a id="3997" class="Symbol">(</a><a id="3998" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4002" href="Data.Rational.Base.html#3974" class="Bound">n</a><a id="4003" class="Symbol">)</a> <a id="4005" href="Data.Rational.Base.html#3980" class="Bound">d</a>

<a id="4008" class="Comment">------------------------------------------------------------------------</a>
<a id="4081" class="Comment">-- Conversion to and from unnormalized rationals</a>

<a id="toℚᵘ"></a><a id="4131" href="Data.Rational.Base.html#4131" class="Function">toℚᵘ</a> <a id="4136" class="Symbol">:</a> <a id="4138" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="4140" class="Symbol">→</a> <a id="4142" href="Data.Rational.Unnormalised.Base.html#1369" class="Record">ℚᵘ</a>
<a id="4145" href="Data.Rational.Base.html#4131" class="Function">toℚᵘ</a> <a id="4150" class="Symbol">(</a><a id="4151" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="4155" href="Data.Rational.Base.html#4155" class="Bound">n</a> <a id="4157" href="Data.Rational.Base.html#4157" class="Bound">d-1</a> <a id="4161" class="Symbol">_)</a> <a id="4164" class="Symbol">=</a> <a id="4166" href="Data.Rational.Unnormalised.Base.html#1653" class="InductiveConstructor">mkℚᵘ</a> <a id="4171" href="Data.Rational.Base.html#4155" class="Bound">n</a> <a id="4173" href="Data.Rational.Base.html#4157" class="Bound">d-1</a>

<a id="fromℚᵘ"></a><a id="4178" href="Data.Rational.Base.html#4178" class="Function">fromℚᵘ</a> <a id="4185" class="Symbol">:</a> <a id="4187" href="Data.Rational.Unnormalised.Base.html#1369" class="Record">ℚᵘ</a> <a id="4190" class="Symbol">→</a> <a id="4192" href="Data.Rational.Base.html#1338" class="Record">ℚ</a>
<a id="4194" href="Data.Rational.Base.html#4178" class="Function">fromℚᵘ</a> <a id="4201" class="Symbol">(</a><a id="4202" href="Data.Rational.Unnormalised.Base.html#1653" class="InductiveConstructor">mkℚᵘ</a> <a id="4207" href="Data.Rational.Base.html#4207" class="Bound">n</a> <a id="4209" href="Data.Rational.Base.html#4209" class="Bound">d-1</a><a id="4212" class="Symbol">)</a> <a id="4214" class="Symbol">=</a> <a id="4216" href="Data.Rational.Base.html#4207" class="Bound">n</a> <a id="4218" href="Data.Rational.Base.html#3880" class="Function Operator">/</a> <a id="4220" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4224" href="Data.Rational.Base.html#4209" class="Bound">d-1</a>

<a id="4229" class="Comment">------------------------------------------------------------------------</a>
<a id="4302" class="Comment">-- Some constants</a>

<a id="0ℚ"></a><a id="4321" href="Data.Rational.Base.html#4321" class="Function">0ℚ</a> <a id="4324" class="Symbol">:</a> <a id="4326" href="Data.Rational.Base.html#1338" class="Record">ℚ</a>
<a id="4328" href="Data.Rational.Base.html#4321" class="Function">0ℚ</a> <a id="4331" class="Symbol">=</a> <a id="4333" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">+</a> <a id="4335" class="Number">0</a> <a id="4337" href="Data.Rational.Base.html#3880" class="Function Operator">/</a> <a id="4339" class="Number">1</a>

<a id="1ℚ"></a><a id="4342" href="Data.Rational.Base.html#4342" class="Function">1ℚ</a> <a id="4345" class="Symbol">:</a> <a id="4347" href="Data.Rational.Base.html#1338" class="Record">ℚ</a>
<a id="4349" href="Data.Rational.Base.html#4342" class="Function">1ℚ</a> <a id="4352" class="Symbol">=</a> <a id="4354" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">+</a> <a id="4356" class="Number">1</a> <a id="4358" href="Data.Rational.Base.html#3880" class="Function Operator">/</a> <a id="4360" class="Number">1</a>

<a id="½"></a><a id="4363" href="Data.Rational.Base.html#4363" class="Function">½</a> <a id="4365" class="Symbol">:</a> <a id="4367" href="Data.Rational.Base.html#1338" class="Record">ℚ</a>
<a id="4369" href="Data.Rational.Base.html#4363" class="Function">½</a> <a id="4371" class="Symbol">=</a> <a id="4373" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">+</a> <a id="4375" class="Number">1</a> <a id="4377" href="Data.Rational.Base.html#3880" class="Function Operator">/</a> <a id="4379" class="Number">2</a>

<a id="-½"></a><a id="4382" href="Data.Rational.Base.html#4382" class="Function">-½</a> <a id="4385" class="Symbol">:</a> <a id="4387" href="Data.Rational.Base.html#1338" class="Record">ℚ</a>
<a id="4389" href="Data.Rational.Base.html#4382" class="Function">-½</a> <a id="4392" class="Symbol">=</a> <a id="4394" href="Data.Rational.Base.html#3079" class="Function Operator">-</a> <a id="4396" href="Data.Rational.Base.html#4363" class="Function">½</a>

<a id="4399" class="Comment">------------------------------------------------------------------------</a>
<a id="4472" class="Comment">-- Simple predicates</a>

<a id="NonZero"></a><a id="4494" href="Data.Rational.Base.html#4494" class="Function">NonZero</a> <a id="4502" class="Symbol">:</a> <a id="4504" href="Relation.Unary.html#1232" class="Function">Pred</a> <a id="4509" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="4511" href="Level.html#521" class="Function">0ℓ</a>
<a id="4514" href="Data.Rational.Base.html#4494" class="Function">NonZero</a> <a id="4522" href="Data.Rational.Base.html#4522" class="Bound">p</a> <a id="4524" class="Symbol">=</a> <a id="4526" href="Data.Rational.Unnormalised.Base.html#3467" class="Function">ℚᵘ.NonZero</a> <a id="4537" class="Symbol">(</a><a id="4538" href="Data.Rational.Base.html#4131" class="Function">toℚᵘ</a> <a id="4543" href="Data.Rational.Base.html#4522" class="Bound">p</a><a id="4544" class="Symbol">)</a>

<a id="Positive"></a><a id="4547" href="Data.Rational.Base.html#4547" class="Function">Positive</a> <a id="4556" class="Symbol">:</a> <a id="4558" href="Relation.Unary.html#1232" class="Function">Pred</a> <a id="4563" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="4565" href="Level.html#521" class="Function">0ℓ</a>
<a id="4568" href="Data.Rational.Base.html#4547" class="Function">Positive</a> <a id="4577" href="Data.Rational.Base.html#4577" class="Bound">p</a> <a id="4579" class="Symbol">=</a> <a id="4581" href="Data.Rational.Unnormalised.Base.html#3517" class="Function">ℚᵘ.Positive</a> <a id="4593" class="Symbol">(</a><a id="4594" href="Data.Rational.Base.html#4131" class="Function">toℚᵘ</a> <a id="4599" href="Data.Rational.Base.html#4577" class="Bound">p</a><a id="4600" class="Symbol">)</a>

<a id="Negative"></a><a id="4603" href="Data.Rational.Base.html#4603" class="Function">Negative</a> <a id="4612" class="Symbol">:</a> <a id="4614" href="Relation.Unary.html#1232" class="Function">Pred</a> <a id="4619" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="4621" href="Level.html#521" class="Function">0ℓ</a>
<a id="4624" href="Data.Rational.Base.html#4603" class="Function">Negative</a> <a id="4633" href="Data.Rational.Base.html#4633" class="Bound">p</a> <a id="4635" class="Symbol">=</a> <a id="4637" href="Data.Rational.Unnormalised.Base.html#3570" class="Function">ℚᵘ.Negative</a> <a id="4649" class="Symbol">(</a><a id="4650" href="Data.Rational.Base.html#4131" class="Function">toℚᵘ</a> <a id="4655" href="Data.Rational.Base.html#4633" class="Bound">p</a><a id="4656" class="Symbol">)</a>

<a id="NonPositive"></a><a id="4659" href="Data.Rational.Base.html#4659" class="Function">NonPositive</a> <a id="4671" class="Symbol">:</a> <a id="4673" href="Relation.Unary.html#1232" class="Function">Pred</a> <a id="4678" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="4680" href="Level.html#521" class="Function">0ℓ</a>
<a id="4683" href="Data.Rational.Base.html#4659" class="Function">NonPositive</a> <a id="4695" href="Data.Rational.Base.html#4695" class="Bound">p</a> <a id="4697" class="Symbol">=</a> <a id="4699" href="Data.Rational.Unnormalised.Base.html#3623" class="Function">ℚᵘ.NonPositive</a> <a id="4714" class="Symbol">(</a><a id="4715" href="Data.Rational.Base.html#4131" class="Function">toℚᵘ</a> <a id="4720" href="Data.Rational.Base.html#4695" class="Bound">p</a><a id="4721" class="Symbol">)</a>

<a id="NonNegative"></a><a id="4724" href="Data.Rational.Base.html#4724" class="Function">NonNegative</a> <a id="4736" class="Symbol">:</a> <a id="4738" href="Relation.Unary.html#1232" class="Function">Pred</a> <a id="4743" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="4745" href="Level.html#521" class="Function">0ℓ</a>
<a id="4748" href="Data.Rational.Base.html#4724" class="Function">NonNegative</a> <a id="4760" href="Data.Rational.Base.html#4760" class="Bound">p</a> <a id="4762" class="Symbol">=</a> <a id="4764" href="Data.Rational.Unnormalised.Base.html#3685" class="Function">ℚᵘ.NonNegative</a> <a id="4779" class="Symbol">(</a><a id="4780" href="Data.Rational.Base.html#4131" class="Function">toℚᵘ</a> <a id="4785" href="Data.Rational.Base.html#4760" class="Bound">p</a><a id="4786" class="Symbol">)</a>

<a id="4789" class="Comment">-- Instances</a>

<a id="4803" class="Keyword">open</a> <a id="4808" href="Data.Integer.Base.html" class="Module">ℤ</a> <a id="4810" class="Keyword">public</a>
  <a id="4819" class="Keyword">using</a> <a id="4825" class="Symbol">(</a><a id="4826" href="Data.Nat.Base.html#2920" class="Function">nonZero</a><a id="4833" class="Symbol">;</a> <a id="4835" href="Data.Integer.Base.html#3318" class="Function">pos</a><a id="4838" class="Symbol">;</a> <a id="4840" href="Data.Integer.Base.html#3363" class="Function">nonNeg</a><a id="4846" class="Symbol">;</a> <a id="4848" href="Data.Integer.Base.html#3414" class="Function">nonPos0</a><a id="4855" class="Symbol">;</a> <a id="4857" href="Data.Integer.Base.html#3456" class="Function">nonPos</a><a id="4863" class="Symbol">;</a> <a id="4865" href="Data.Integer.Base.html#3510" class="Function">neg</a><a id="4868" class="Symbol">)</a>

<a id="4871" class="Comment">-- Constructors</a>

<a id="≢-nonZero"></a><a id="4888" href="Data.Rational.Base.html#4888" class="Function">≢-nonZero</a> <a id="4898" class="Symbol">:</a> <a id="4900" class="Symbol">∀</a> <a id="4902" class="Symbol">{</a><a id="4903" href="Data.Rational.Base.html#4903" class="Bound">p</a><a id="4904" class="Symbol">}</a> <a id="4906" class="Symbol">→</a> <a id="4908" href="Data.Rational.Base.html#4903" class="Bound">p</a> <a id="4910" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="4912" href="Data.Rational.Base.html#4321" class="Function">0ℚ</a> <a id="4915" class="Symbol">→</a> <a id="4917" href="Data.Rational.Base.html#4494" class="Function">NonZero</a> <a id="4925" href="Data.Rational.Base.html#4903" class="Bound">p</a>
<a id="4927" href="Data.Rational.Base.html#4888" class="Function">≢-nonZero</a> <a id="4937" class="Symbol">{</a><a id="4938" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="4942" href="Agda.Builtin.Int.html#290" class="InductiveConstructor Operator">-[1+</a> <a id="4947" class="Symbol">_</a> <a id="4949" href="Agda.Builtin.Int.html#290" class="InductiveConstructor Operator">]</a> <a id="4951" class="Symbol">_</a>       <a id="4959" class="Symbol">_}</a> <a id="4962" class="Symbol">_</a>   <a id="4966" class="Symbol">=</a> <a id="4968" class="Symbol">_</a>
<a id="4970" href="Data.Rational.Base.html#4888" class="Function">≢-nonZero</a> <a id="4980" class="Symbol">{</a><a id="4981" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="4985" href="Data.Integer.Base.html#1434" class="InductiveConstructor Operator">+[1+</a> <a id="4990" class="Symbol">_</a> <a id="4992" href="Data.Integer.Base.html#1434" class="InductiveConstructor Operator">]</a> <a id="4994" class="Symbol">_</a>       <a id="5002" class="Symbol">_}</a> <a id="5005" class="Symbol">_</a>   <a id="5009" class="Symbol">=</a> <a id="5011" class="Symbol">_</a>
<a id="5013" href="Data.Rational.Base.html#4888" class="Function">≢-nonZero</a> <a id="5023" class="Symbol">{</a><a id="5024" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="5028" href="Data.Integer.Base.html#1411" class="InductiveConstructor">+0</a>       <a id="5037" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>    <a id="5045" class="Symbol">_}</a> <a id="5048" href="Data.Rational.Base.html#5048" class="Bound">p≢0</a> <a id="5052" class="Symbol">=</a> <a id="5054" href="Relation.Nullary.Negation.Core.html#1226" class="Function">contradiction</a> <a id="5068" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5073" href="Data.Rational.Base.html#5048" class="Bound">p≢0</a>
<a id="5077" href="Data.Rational.Base.html#4888" class="Function">≢-nonZero</a> <a id="5087" class="Symbol">{</a><a id="5088" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="5092" href="Data.Integer.Base.html#1411" class="InductiveConstructor">+0</a>       <a id="5101" class="Symbol">(</a><a id="5102" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5106" href="Data.Rational.Base.html#5106" class="Bound">d</a><a id="5107" class="Symbol">)</a> <a id="5109" href="Data.Rational.Base.html#5109" class="Bound">c</a><a id="5110" class="Symbol">}</a> <a id="5112" href="Data.Rational.Base.html#5112" class="Bound">p≢0</a> <a id="5116" class="Symbol">=</a> <a id="5118" href="Relation.Nullary.Negation.Core.html#1226" class="Function">contradiction</a> <a id="5132" class="Symbol">(λ</a> <a id="5135" class="Symbol">{</a><a id="5136" href="Data.Rational.Base.html#5136" class="Bound">i</a><a id="5137" class="Symbol">}</a> <a id="5139" class="Symbol">→</a> <a id="5141" href="Data.Nat.Coprimality.html#3115" class="Function">C.recompute</a> <a id="5153" href="Data.Rational.Base.html#5109" class="Bound">c</a> <a id="5155" class="Symbol">{</a><a id="5156" href="Data.Rational.Base.html#5136" class="Bound">i</a><a id="5157" class="Symbol">})</a> <a id="5160" href="Data.Nat.Coprimality.html#2812" class="Function">¬0-coprimeTo-2+</a>

<a id="&gt;-nonZero"></a><a id="5177" href="Data.Rational.Base.html#5177" class="Function">&gt;-nonZero</a> <a id="5187" class="Symbol">:</a> <a id="5189" class="Symbol">∀</a> <a id="5191" class="Symbol">{</a><a id="5192" href="Data.Rational.Base.html#5192" class="Bound">p</a><a id="5193" class="Symbol">}</a> <a id="5195" class="Symbol">→</a> <a id="5197" href="Data.Rational.Base.html#5192" class="Bound">p</a> <a id="5199" href="Data.Rational.Base.html#2656" class="Function Operator">&gt;</a> <a id="5201" href="Data.Rational.Base.html#4321" class="Function">0ℚ</a> <a id="5204" class="Symbol">→</a> <a id="5206" href="Data.Rational.Base.html#4494" class="Function">NonZero</a> <a id="5214" href="Data.Rational.Base.html#5192" class="Bound">p</a>
<a id="5216" href="Data.Rational.Base.html#5177" class="Function">&gt;-nonZero</a> <a id="5226" class="Symbol">{</a><a id="5227" href="Data.Rational.Base.html#5227" class="Bound">p</a><a id="5228" class="Symbol">@(</a><a id="5230" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="5234" class="Symbol">_</a> <a id="5236" class="Symbol">_</a> <a id="5238" class="Symbol">_)}</a> <a id="5242" class="Symbol">(</a><a id="5243" href="Data.Rational.Base.html#2569" class="InductiveConstructor">*&lt;*</a> <a id="5247" href="Data.Rational.Base.html#5247" class="Bound">p&lt;q</a><a id="5250" class="Symbol">)</a> <a id="5252" class="Symbol">=</a> <a id="5254" href="Data.Rational.Unnormalised.Base.html#4296" class="Function">ℚᵘ.&gt;-nonZero</a> <a id="5267" class="Symbol">{</a><a id="5268" href="Data.Rational.Base.html#4131" class="Function">toℚᵘ</a> <a id="5273" href="Data.Rational.Base.html#5227" class="Bound">p</a><a id="5274" class="Symbol">}</a> <a id="5276" class="Symbol">(</a><a id="5277" href="Data.Rational.Unnormalised.Base.html#2452" class="InductiveConstructor">ℚᵘ.*&lt;*</a> <a id="5284" href="Data.Rational.Base.html#5247" class="Bound">p&lt;q</a><a id="5287" class="Symbol">)</a>

<a id="&lt;-nonZero"></a><a id="5290" href="Data.Rational.Base.html#5290" class="Function">&lt;-nonZero</a> <a id="5300" class="Symbol">:</a> <a id="5302" class="Symbol">∀</a> <a id="5304" class="Symbol">{</a><a id="5305" href="Data.Rational.Base.html#5305" class="Bound">p</a><a id="5306" class="Symbol">}</a> <a id="5308" class="Symbol">→</a> <a id="5310" href="Data.Rational.Base.html#5305" class="Bound">p</a> <a id="5312" href="Data.Rational.Base.html#2546" class="Datatype Operator">&lt;</a> <a id="5314" href="Data.Rational.Base.html#4321" class="Function">0ℚ</a> <a id="5317" class="Symbol">→</a> <a id="5319" href="Data.Rational.Base.html#4494" class="Function">NonZero</a> <a id="5327" href="Data.Rational.Base.html#5305" class="Bound">p</a>
<a id="5329" href="Data.Rational.Base.html#5290" class="Function">&lt;-nonZero</a> <a id="5339" class="Symbol">{</a><a id="5340" href="Data.Rational.Base.html#5340" class="Bound">p</a><a id="5341" class="Symbol">@(</a><a id="5343" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="5347" class="Symbol">_</a> <a id="5349" class="Symbol">_</a> <a id="5351" class="Symbol">_)}</a> <a id="5355" class="Symbol">(</a><a id="5356" href="Data.Rational.Base.html#2569" class="InductiveConstructor">*&lt;*</a> <a id="5360" href="Data.Rational.Base.html#5360" class="Bound">p&lt;q</a><a id="5363" class="Symbol">)</a> <a id="5365" class="Symbol">=</a> <a id="5367" href="Data.Rational.Unnormalised.Base.html#4420" class="Function">ℚᵘ.&lt;-nonZero</a> <a id="5380" class="Symbol">{</a><a id="5381" href="Data.Rational.Base.html#4131" class="Function">toℚᵘ</a> <a id="5386" href="Data.Rational.Base.html#5340" class="Bound">p</a><a id="5387" class="Symbol">}</a> <a id="5389" class="Symbol">(</a><a id="5390" href="Data.Rational.Unnormalised.Base.html#2452" class="InductiveConstructor">ℚᵘ.*&lt;*</a> <a id="5397" href="Data.Rational.Base.html#5360" class="Bound">p&lt;q</a><a id="5400" class="Symbol">)</a>

<a id="positive"></a><a id="5403" href="Data.Rational.Base.html#5403" class="Function">positive</a> <a id="5412" class="Symbol">:</a> <a id="5414" class="Symbol">∀</a> <a id="5416" class="Symbol">{</a><a id="5417" href="Data.Rational.Base.html#5417" class="Bound">p</a><a id="5418" class="Symbol">}</a> <a id="5420" class="Symbol">→</a> <a id="5422" href="Data.Rational.Base.html#5417" class="Bound">p</a> <a id="5424" href="Data.Rational.Base.html#2656" class="Function Operator">&gt;</a> <a id="5426" href="Data.Rational.Base.html#4321" class="Function">0ℚ</a> <a id="5429" class="Symbol">→</a> <a id="5431" href="Data.Rational.Base.html#4547" class="Function">Positive</a> <a id="5440" href="Data.Rational.Base.html#5417" class="Bound">p</a>
<a id="5442" href="Data.Rational.Base.html#5403" class="Function">positive</a> <a id="5451" class="Symbol">{</a><a id="5452" href="Data.Rational.Base.html#5452" class="Bound">p</a><a id="5453" class="Symbol">@(</a><a id="5455" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="5459" class="Symbol">_</a> <a id="5461" class="Symbol">_</a> <a id="5463" class="Symbol">_)}</a> <a id="5467" class="Symbol">(</a><a id="5468" href="Data.Rational.Base.html#2569" class="InductiveConstructor">*&lt;*</a> <a id="5472" href="Data.Rational.Base.html#5472" class="Bound">p&lt;q</a><a id="5475" class="Symbol">)</a> <a id="5477" class="Symbol">=</a> <a id="5479" href="Data.Rational.Unnormalised.Base.html#4584" class="Function">ℚᵘ.positive</a> <a id="5491" class="Symbol">{</a><a id="5492" href="Data.Rational.Base.html#4131" class="Function">toℚᵘ</a> <a id="5497" href="Data.Rational.Base.html#5452" class="Bound">p</a><a id="5498" class="Symbol">}</a> <a id="5500" class="Symbol">(</a><a id="5501" href="Data.Rational.Unnormalised.Base.html#2452" class="InductiveConstructor">ℚᵘ.*&lt;*</a> <a id="5508" href="Data.Rational.Base.html#5472" class="Bound">p&lt;q</a><a id="5511" class="Symbol">)</a>

<a id="negative"></a><a id="5514" href="Data.Rational.Base.html#5514" class="Function">negative</a> <a id="5523" class="Symbol">:</a> <a id="5525" class="Symbol">∀</a> <a id="5527" class="Symbol">{</a><a id="5528" href="Data.Rational.Base.html#5528" class="Bound">p</a><a id="5529" class="Symbol">}</a> <a id="5531" class="Symbol">→</a> <a id="5533" href="Data.Rational.Base.html#5528" class="Bound">p</a> <a id="5535" href="Data.Rational.Base.html#2546" class="Datatype Operator">&lt;</a> <a id="5537" href="Data.Rational.Base.html#4321" class="Function">0ℚ</a> <a id="5540" class="Symbol">→</a> <a id="5542" href="Data.Rational.Base.html#4603" class="Function">Negative</a> <a id="5551" href="Data.Rational.Base.html#5528" class="Bound">p</a>
<a id="5553" href="Data.Rational.Base.html#5514" class="Function">negative</a> <a id="5562" class="Symbol">{</a><a id="5563" href="Data.Rational.Base.html#5563" class="Bound">p</a><a id="5564" class="Symbol">@(</a><a id="5566" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="5570" class="Symbol">_</a> <a id="5572" class="Symbol">_</a> <a id="5574" class="Symbol">_)}</a> <a id="5578" class="Symbol">(</a><a id="5579" href="Data.Rational.Base.html#2569" class="InductiveConstructor">*&lt;*</a> <a id="5583" href="Data.Rational.Base.html#5583" class="Bound">p&lt;q</a><a id="5586" class="Symbol">)</a> <a id="5588" class="Symbol">=</a> <a id="5590" href="Data.Rational.Unnormalised.Base.html#4748" class="Function">ℚᵘ.negative</a> <a id="5602" class="Symbol">{</a><a id="5603" href="Data.Rational.Base.html#4131" class="Function">toℚᵘ</a> <a id="5608" href="Data.Rational.Base.html#5563" class="Bound">p</a><a id="5609" class="Symbol">}</a> <a id="5611" class="Symbol">(</a><a id="5612" href="Data.Rational.Unnormalised.Base.html#2452" class="InductiveConstructor">ℚᵘ.*&lt;*</a> <a id="5619" href="Data.Rational.Base.html#5583" class="Bound">p&lt;q</a><a id="5622" class="Symbol">)</a>

<a id="nonPositive"></a><a id="5625" href="Data.Rational.Base.html#5625" class="Function">nonPositive</a> <a id="5637" class="Symbol">:</a> <a id="5639" class="Symbol">∀</a> <a id="5641" class="Symbol">{</a><a id="5642" href="Data.Rational.Base.html#5642" class="Bound">p</a><a id="5643" class="Symbol">}</a> <a id="5645" class="Symbol">→</a> <a id="5647" href="Data.Rational.Base.html#5642" class="Bound">p</a> <a id="5649" href="Data.Rational.Base.html#2461" class="Datatype Operator">≤</a> <a id="5651" href="Data.Rational.Base.html#4321" class="Function">0ℚ</a> <a id="5654" class="Symbol">→</a> <a id="5656" href="Data.Rational.Base.html#4659" class="Function">NonPositive</a> <a id="5668" href="Data.Rational.Base.html#5642" class="Bound">p</a>
<a id="5670" href="Data.Rational.Base.html#5625" class="Function">nonPositive</a> <a id="5682" class="Symbol">{</a><a id="5683" href="Data.Rational.Base.html#5683" class="Bound">p</a><a id="5684" class="Symbol">@(</a><a id="5686" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="5690" class="Symbol">_</a> <a id="5692" class="Symbol">_</a> <a id="5694" class="Symbol">_)}</a> <a id="5698" class="Symbol">(</a><a id="5699" href="Data.Rational.Base.html#2484" class="InductiveConstructor">*≤*</a> <a id="5703" href="Data.Rational.Base.html#5703" class="Bound">p≤q</a><a id="5706" class="Symbol">)</a> <a id="5708" class="Symbol">=</a> <a id="5710" href="Data.Rational.Unnormalised.Base.html#4925" class="Function">ℚᵘ.nonPositive</a> <a id="5725" class="Symbol">{</a><a id="5726" href="Data.Rational.Base.html#4131" class="Function">toℚᵘ</a> <a id="5731" href="Data.Rational.Base.html#5683" class="Bound">p</a><a id="5732" class="Symbol">}</a> <a id="5734" class="Symbol">(</a><a id="5735" href="Data.Rational.Unnormalised.Base.html#2366" class="InductiveConstructor">ℚᵘ.*≤*</a> <a id="5742" href="Data.Rational.Base.html#5703" class="Bound">p≤q</a><a id="5745" class="Symbol">)</a>

<a id="nonNegative"></a><a id="5748" href="Data.Rational.Base.html#5748" class="Function">nonNegative</a> <a id="5760" class="Symbol">:</a> <a id="5762" class="Symbol">∀</a> <a id="5764" class="Symbol">{</a><a id="5765" href="Data.Rational.Base.html#5765" class="Bound">p</a><a id="5766" class="Symbol">}</a> <a id="5768" class="Symbol">→</a> <a id="5770" href="Data.Rational.Base.html#5765" class="Bound">p</a> <a id="5772" href="Data.Rational.Base.html#2626" class="Function Operator">≥</a> <a id="5774" href="Data.Rational.Base.html#4321" class="Function">0ℚ</a> <a id="5777" class="Symbol">→</a> <a id="5779" href="Data.Rational.Base.html#4724" class="Function">NonNegative</a> <a id="5791" href="Data.Rational.Base.html#5765" class="Bound">p</a>
<a id="5793" href="Data.Rational.Base.html#5748" class="Function">nonNegative</a> <a id="5805" class="Symbol">{</a><a id="5806" href="Data.Rational.Base.html#5806" class="Bound">p</a><a id="5807" class="Symbol">@(</a><a id="5809" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="5813" class="Symbol">_</a> <a id="5815" class="Symbol">_</a> <a id="5817" class="Symbol">_)}</a> <a id="5821" class="Symbol">(</a><a id="5822" href="Data.Rational.Base.html#2484" class="InductiveConstructor">*≤*</a> <a id="5826" href="Data.Rational.Base.html#5826" class="Bound">p≤q</a><a id="5829" class="Symbol">)</a> <a id="5831" class="Symbol">=</a> <a id="5833" href="Data.Rational.Unnormalised.Base.html#5101" class="Function">ℚᵘ.nonNegative</a> <a id="5848" class="Symbol">{</a><a id="5849" href="Data.Rational.Base.html#4131" class="Function">toℚᵘ</a> <a id="5854" href="Data.Rational.Base.html#5806" class="Bound">p</a><a id="5855" class="Symbol">}</a> <a id="5857" class="Symbol">(</a><a id="5858" href="Data.Rational.Unnormalised.Base.html#2366" class="InductiveConstructor">ℚᵘ.*≤*</a> <a id="5865" href="Data.Rational.Base.html#5826" class="Bound">p≤q</a><a id="5868" class="Symbol">)</a>

<a id="5871" class="Comment">------------------------------------------------------------------------</a>
<a id="5944" class="Comment">-- Operations on rationals</a>

<a id="5972" class="Comment">-- For explanation of the `@record{}` annotations see notes in the</a>
<a id="6039" class="Comment">-- equivalent place in `Data.Rational.Unnormalised.Base`.</a>

<a id="6098" class="Keyword">infix</a>  <a id="6105" class="Number">8</a> <a id="6107" href="Data.Rational.Base.html#3079" class="Function Operator">-_</a> <a id="6110" href="Data.Rational.Base.html#6466" class="Function Operator">1/_</a>
<a id="6114" class="Keyword">infixl</a> <a id="6121" class="Number">7</a> <a id="6123" href="Data.Rational.Base.html#6278" class="Function Operator">_*_</a> <a id="6127" href="Data.Rational.Base.html#6671" class="Function Operator">_÷_</a> <a id="6131" href="Data.Rational.Base.html#6817" class="Function Operator">_⊓_</a>
<a id="6135" class="Keyword">infixl</a> <a id="6142" class="Number">6</a> <a id="6144" href="Data.Rational.Base.html#6368" class="Function Operator">_-_</a> <a id="6148" href="Data.Rational.Base.html#6169" class="Function Operator">_+_</a> <a id="6152" href="Data.Rational.Base.html#6739" class="Function Operator">_⊔_</a>

<a id="6157" class="Comment">-- addition</a>
<a id="_+_"></a><a id="6169" href="Data.Rational.Base.html#6169" class="Function Operator">_+_</a> <a id="6173" class="Symbol">:</a> <a id="6175" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="6177" class="Symbol">→</a> <a id="6179" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="6181" class="Symbol">→</a> <a id="6183" href="Data.Rational.Base.html#1338" class="Record">ℚ</a>
<a id="6185" href="Data.Rational.Base.html#6185" class="Bound">p</a><a id="6186" class="Symbol">@</a><a id="6187" class="Keyword">record</a><a id="6193" class="Symbol">{}</a> <a id="6196" href="Data.Rational.Base.html#6169" class="Function Operator">+</a> <a id="6198" href="Data.Rational.Base.html#6198" class="Bound">q</a><a id="6199" class="Symbol">@</a><a id="6200" class="Keyword">record</a><a id="6206" class="Symbol">{}</a> <a id="6209" class="Symbol">=</a> <a id="6211" class="Symbol">(</a><a id="6212" href="Data.Rational.Base.html#1901" class="Field Operator">↥</a> <a id="6214" href="Data.Rational.Base.html#6185" class="Bound">p</a> <a id="6216" href="Data.Integer.Base.html#5391" class="Function Operator">ℤ.*</a> <a id="6220" href="Data.Rational.Base.html#1924" class="Function Operator">↧</a> <a id="6222" href="Data.Rational.Base.html#6198" class="Bound">q</a> <a id="6224" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="6228" href="Data.Rational.Base.html#1901" class="Field Operator">↥</a> <a id="6230" href="Data.Rational.Base.html#6198" class="Bound">q</a> <a id="6232" href="Data.Integer.Base.html#5391" class="Function Operator">ℤ.*</a> <a id="6236" href="Data.Rational.Base.html#1924" class="Function Operator">↧</a> <a id="6238" href="Data.Rational.Base.html#6185" class="Bound">p</a><a id="6239" class="Symbol">)</a> <a id="6241" href="Data.Rational.Base.html#3880" class="Function Operator">/</a> <a id="6243" class="Symbol">(</a><a id="6244" href="Data.Rational.Base.html#1947" class="Function Operator">↧ₙ</a> <a id="6247" href="Data.Rational.Base.html#6185" class="Bound">p</a> <a id="6249" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">ℕ.*</a> <a id="6253" href="Data.Rational.Base.html#1947" class="Function Operator">↧ₙ</a> <a id="6256" href="Data.Rational.Base.html#6198" class="Bound">q</a><a id="6257" class="Symbol">)</a>

<a id="6260" class="Comment">-- multiplication</a>
<a id="_*_"></a><a id="6278" href="Data.Rational.Base.html#6278" class="Function Operator">_*_</a> <a id="6282" class="Symbol">:</a> <a id="6284" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="6286" class="Symbol">→</a> <a id="6288" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="6290" class="Symbol">→</a> <a id="6292" href="Data.Rational.Base.html#1338" class="Record">ℚ</a>
<a id="6294" href="Data.Rational.Base.html#6294" class="Bound">p</a><a id="6295" class="Symbol">@</a><a id="6296" class="Keyword">record</a><a id="6302" class="Symbol">{}</a> <a id="6305" href="Data.Rational.Base.html#6278" class="Function Operator">*</a> <a id="6307" href="Data.Rational.Base.html#6307" class="Bound">q</a><a id="6308" class="Symbol">@</a><a id="6309" class="Keyword">record</a><a id="6315" class="Symbol">{}</a> <a id="6318" class="Symbol">=</a> <a id="6320" class="Symbol">(</a><a id="6321" href="Data.Rational.Base.html#1901" class="Field Operator">↥</a> <a id="6323" href="Data.Rational.Base.html#6294" class="Bound">p</a> <a id="6325" href="Data.Integer.Base.html#5391" class="Function Operator">ℤ.*</a> <a id="6329" href="Data.Rational.Base.html#1901" class="Field Operator">↥</a> <a id="6331" href="Data.Rational.Base.html#6307" class="Bound">q</a><a id="6332" class="Symbol">)</a> <a id="6334" href="Data.Rational.Base.html#3880" class="Function Operator">/</a> <a id="6336" class="Symbol">(</a><a id="6337" href="Data.Rational.Base.html#1947" class="Function Operator">↧ₙ</a> <a id="6340" href="Data.Rational.Base.html#6294" class="Bound">p</a> <a id="6342" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">ℕ.*</a> <a id="6346" href="Data.Rational.Base.html#1947" class="Function Operator">↧ₙ</a> <a id="6349" href="Data.Rational.Base.html#6307" class="Bound">q</a><a id="6350" class="Symbol">)</a>

<a id="6353" class="Comment">-- subtraction</a>
<a id="_-_"></a><a id="6368" href="Data.Rational.Base.html#6368" class="Function Operator">_-_</a> <a id="6372" class="Symbol">:</a> <a id="6374" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="6376" class="Symbol">→</a> <a id="6378" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="6380" class="Symbol">→</a> <a id="6382" href="Data.Rational.Base.html#1338" class="Record">ℚ</a>
<a id="6384" href="Data.Rational.Base.html#6384" class="Bound">p</a> <a id="6386" href="Data.Rational.Base.html#6368" class="Function Operator">-</a> <a id="6388" href="Data.Rational.Base.html#6388" class="Bound">q</a> <a id="6390" class="Symbol">=</a> <a id="6392" href="Data.Rational.Base.html#6384" class="Bound">p</a> <a id="6394" href="Data.Rational.Base.html#6169" class="Function Operator">+</a> <a id="6396" class="Symbol">(</a><a id="6397" href="Data.Rational.Base.html#3079" class="Function Operator">-</a> <a id="6399" href="Data.Rational.Base.html#6388" class="Bound">q</a><a id="6400" class="Symbol">)</a>

<a id="6403" class="Comment">-- reciprocal: requires a proof that the numerator is not zero</a>
<a id="1/_"></a><a id="6466" href="Data.Rational.Base.html#6466" class="Function Operator">1/_</a> <a id="6470" class="Symbol">:</a> <a id="6472" class="Symbol">(</a><a id="6473" href="Data.Rational.Base.html#6473" class="Bound">p</a> <a id="6475" class="Symbol">:</a> <a id="6477" href="Data.Rational.Base.html#1338" class="Record">ℚ</a><a id="6478" class="Symbol">)</a> <a id="6480" class="Symbol">→</a> <a id="6482" class="Symbol">.{{</a><a id="6485" href="Data.Rational.Base.html#6485" class="Bound">_</a> <a id="6487" class="Symbol">:</a> <a id="6489" href="Data.Rational.Base.html#4494" class="Function">NonZero</a> <a id="6497" href="Data.Rational.Base.html#6473" class="Bound">p</a><a id="6498" class="Symbol">}}</a> <a id="6501" class="Symbol">→</a> <a id="6503" href="Data.Rational.Base.html#1338" class="Record">ℚ</a>
<a id="6505" href="Data.Rational.Base.html#6466" class="Function Operator">1/</a> <a id="6508" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="6512" href="Data.Integer.Base.html#1434" class="InductiveConstructor Operator">+[1+</a> <a id="6517" href="Data.Rational.Base.html#6517" class="Bound">n</a> <a id="6519" href="Data.Integer.Base.html#1434" class="InductiveConstructor Operator">]</a> <a id="6521" href="Data.Rational.Base.html#6521" class="Bound">d</a> <a id="6523" href="Data.Rational.Base.html#6523" class="Bound">prf</a> <a id="6527" class="Symbol">=</a> <a id="6529" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="6533" href="Data.Integer.Base.html#1434" class="InductiveConstructor Operator">+[1+</a> <a id="6538" href="Data.Rational.Base.html#6521" class="Bound">d</a> <a id="6540" href="Data.Integer.Base.html#1434" class="InductiveConstructor Operator">]</a> <a id="6542" href="Data.Rational.Base.html#6517" class="Bound">n</a> <a id="6544" class="Symbol">(</a><a id="6545" href="Data.Nat.Coprimality.html#2122" class="Function">C.sym</a> <a id="6551" href="Data.Rational.Base.html#6523" class="Bound">prf</a><a id="6554" class="Symbol">)</a>
<a id="6556" href="Data.Rational.Base.html#6466" class="Function Operator">1/</a> <a id="6559" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="6563" href="Agda.Builtin.Int.html#290" class="InductiveConstructor Operator">-[1+</a> <a id="6568" href="Data.Rational.Base.html#6568" class="Bound">n</a> <a id="6570" href="Agda.Builtin.Int.html#290" class="InductiveConstructor Operator">]</a> <a id="6572" href="Data.Rational.Base.html#6572" class="Bound">d</a> <a id="6574" href="Data.Rational.Base.html#6574" class="Bound">prf</a> <a id="6578" class="Symbol">=</a> <a id="6580" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="6584" href="Agda.Builtin.Int.html#290" class="InductiveConstructor Operator">-[1+</a> <a id="6589" href="Data.Rational.Base.html#6572" class="Bound">d</a> <a id="6591" href="Agda.Builtin.Int.html#290" class="InductiveConstructor Operator">]</a> <a id="6593" href="Data.Rational.Base.html#6568" class="Bound">n</a> <a id="6595" class="Symbol">(</a><a id="6596" href="Data.Nat.Coprimality.html#2122" class="Function">C.sym</a> <a id="6602" href="Data.Rational.Base.html#6574" class="Bound">prf</a><a id="6605" class="Symbol">)</a>

<a id="6608" class="Comment">-- division: requires a proof that the denominator is not zero</a>
<a id="_÷_"></a><a id="6671" href="Data.Rational.Base.html#6671" class="Function Operator">_÷_</a> <a id="6675" class="Symbol">:</a> <a id="6677" class="Symbol">(</a><a id="6678" href="Data.Rational.Base.html#6678" class="Bound">p</a> <a id="6680" href="Data.Rational.Base.html#6680" class="Bound">q</a> <a id="6682" class="Symbol">:</a> <a id="6684" href="Data.Rational.Base.html#1338" class="Record">ℚ</a><a id="6685" class="Symbol">)</a> <a id="6687" class="Symbol">→</a> <a id="6689" class="Symbol">.{{</a><a id="6692" href="Data.Rational.Base.html#6692" class="Bound">_</a> <a id="6694" class="Symbol">:</a> <a id="6696" href="Data.Rational.Base.html#4494" class="Function">NonZero</a> <a id="6704" href="Data.Rational.Base.html#6680" class="Bound">q</a><a id="6705" class="Symbol">}}</a> <a id="6708" class="Symbol">→</a> <a id="6710" href="Data.Rational.Base.html#1338" class="Record">ℚ</a>
<a id="6712" href="Data.Rational.Base.html#6712" class="Bound">p</a> <a id="6714" href="Data.Rational.Base.html#6671" class="Function Operator">÷</a> <a id="6716" href="Data.Rational.Base.html#6716" class="Bound">q</a> <a id="6718" class="Symbol">=</a> <a id="6720" href="Data.Rational.Base.html#6712" class="Bound">p</a> <a id="6722" href="Data.Rational.Base.html#6278" class="Function Operator">*</a> <a id="6724" class="Symbol">(</a><a id="6725" href="Data.Rational.Base.html#6466" class="Function Operator">1/</a> <a id="6728" href="Data.Rational.Base.html#6716" class="Bound">q</a><a id="6729" class="Symbol">)</a>

<a id="6732" class="Comment">-- max</a>
<a id="_⊔_"></a><a id="6739" href="Data.Rational.Base.html#6739" class="Function Operator">_⊔_</a> <a id="6743" class="Symbol">:</a> <a id="6745" class="Symbol">(</a><a id="6746" href="Data.Rational.Base.html#6746" class="Bound">p</a> <a id="6748" href="Data.Rational.Base.html#6748" class="Bound">q</a> <a id="6750" class="Symbol">:</a> <a id="6752" href="Data.Rational.Base.html#1338" class="Record">ℚ</a><a id="6753" class="Symbol">)</a> <a id="6755" class="Symbol">→</a> <a id="6757" href="Data.Rational.Base.html#1338" class="Record">ℚ</a>
<a id="6759" href="Data.Rational.Base.html#6759" class="Bound">p</a><a id="6760" class="Symbol">@</a><a id="6761" class="Keyword">record</a><a id="6767" class="Symbol">{}</a> <a id="6770" href="Data.Rational.Base.html#6739" class="Function Operator">⊔</a> <a id="6772" href="Data.Rational.Base.html#6772" class="Bound">q</a><a id="6773" class="Symbol">@</a><a id="6774" class="Keyword">record</a><a id="6780" class="Symbol">{}</a> <a id="6783" class="Symbol">=</a> <a id="6785" href="Data.Bool.Base.html#1292" class="Function Operator">if</a> <a id="6788" href="Data.Rational.Base.html#6759" class="Bound">p</a> <a id="6790" href="Data.Rational.Base.html#2930" class="Function Operator">≤ᵇ</a> <a id="6793" href="Data.Rational.Base.html#6772" class="Bound">q</a> <a id="6795" href="Data.Bool.Base.html#1292" class="Function Operator">then</a> <a id="6800" href="Data.Rational.Base.html#6772" class="Bound">q</a> <a id="6802" href="Data.Bool.Base.html#1292" class="Function Operator">else</a> <a id="6807" href="Data.Rational.Base.html#6759" class="Bound">p</a>

<a id="6810" class="Comment">-- min</a>
<a id="_⊓_"></a><a id="6817" href="Data.Rational.Base.html#6817" class="Function Operator">_⊓_</a> <a id="6821" class="Symbol">:</a> <a id="6823" class="Symbol">(</a><a id="6824" href="Data.Rational.Base.html#6824" class="Bound">p</a> <a id="6826" href="Data.Rational.Base.html#6826" class="Bound">q</a> <a id="6828" class="Symbol">:</a> <a id="6830" href="Data.Rational.Base.html#1338" class="Record">ℚ</a><a id="6831" class="Symbol">)</a> <a id="6833" class="Symbol">→</a> <a id="6835" href="Data.Rational.Base.html#1338" class="Record">ℚ</a>
<a id="6837" href="Data.Rational.Base.html#6837" class="Bound">p</a><a id="6838" class="Symbol">@</a><a id="6839" class="Keyword">record</a><a id="6845" class="Symbol">{}</a> <a id="6848" href="Data.Rational.Base.html#6817" class="Function Operator">⊓</a> <a id="6850" href="Data.Rational.Base.html#6850" class="Bound">q</a><a id="6851" class="Symbol">@</a><a id="6852" class="Keyword">record</a><a id="6858" class="Symbol">{}</a> <a id="6861" class="Symbol">=</a> <a id="6863" href="Data.Bool.Base.html#1292" class="Function Operator">if</a> <a id="6866" href="Data.Rational.Base.html#6837" class="Bound">p</a> <a id="6868" href="Data.Rational.Base.html#2930" class="Function Operator">≤ᵇ</a> <a id="6871" href="Data.Rational.Base.html#6850" class="Bound">q</a> <a id="6873" href="Data.Bool.Base.html#1292" class="Function Operator">then</a> <a id="6878" href="Data.Rational.Base.html#6837" class="Bound">p</a> <a id="6880" href="Data.Bool.Base.html#1292" class="Function Operator">else</a> <a id="6885" href="Data.Rational.Base.html#6850" class="Bound">q</a>

<a id="6888" class="Comment">-- absolute value</a>
<a id="∣_∣"></a><a id="6906" href="Data.Rational.Base.html#6906" class="Function Operator">∣_∣</a> <a id="6910" class="Symbol">:</a> <a id="6912" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="6914" class="Symbol">→</a> <a id="6916" href="Data.Rational.Base.html#1338" class="Record">ℚ</a>
<a id="6918" href="Data.Rational.Base.html#6906" class="Function Operator">∣</a> <a id="6920" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="6924" href="Data.Rational.Base.html#6924" class="Bound">n</a> <a id="6926" href="Data.Rational.Base.html#6926" class="Bound">d</a> <a id="6928" href="Data.Rational.Base.html#6928" class="Bound">c</a> <a id="6930" href="Data.Rational.Base.html#6906" class="Function Operator">∣</a> <a id="6932" class="Symbol">=</a> <a id="6934" href="Data.Rational.Base.html#1621" class="InductiveConstructor">mkℚ</a> <a id="6938" class="Symbol">(</a><a id="6939" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">+</a> <a id="6941" href="Data.Integer.Base.html#1715" class="Function Operator">ℤ.∣</a> <a id="6945" href="Data.Rational.Base.html#6924" class="Bound">n</a> <a id="6947" href="Data.Integer.Base.html#1715" class="Function Operator">∣</a><a id="6948" class="Symbol">)</a> <a id="6950" href="Data.Rational.Base.html#6926" class="Bound">d</a> <a id="6952" href="Data.Rational.Base.html#6928" class="Bound">c</a>

<a id="6955" class="Comment">------------------------------------------------------------------------</a>
<a id="7028" class="Comment">-- Rounding functions</a>

<a id="7051" class="Comment">-- Floor (round towards -∞)</a>
<a id="floor"></a><a id="7079" href="Data.Rational.Base.html#7079" class="Function">floor</a> <a id="7085" class="Symbol">:</a> <a id="7087" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="7089" class="Symbol">→</a> <a id="7091" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
<a id="7093" href="Data.Rational.Base.html#7079" class="Function">floor</a> <a id="7099" href="Data.Rational.Base.html#7099" class="Bound">p</a><a id="7100" class="Symbol">@</a><a id="7101" class="Keyword">record</a><a id="7107" class="Symbol">{}</a> <a id="7110" class="Symbol">=</a> <a id="7112" href="Data.Rational.Base.html#1901" class="Field Operator">↥</a> <a id="7114" href="Data.Rational.Base.html#7099" class="Bound">p</a> <a id="7116" href="Data.Integer.Base.html#6112" class="Function Operator">ℤ./</a> <a id="7120" href="Data.Rational.Base.html#1924" class="Function Operator">↧</a> <a id="7122" href="Data.Rational.Base.html#7099" class="Bound">p</a>

<a id="7125" class="Comment">-- Ceiling (round towards +∞)</a>
<a id="ceiling"></a><a id="7155" href="Data.Rational.Base.html#7155" class="Function">ceiling</a> <a id="7163" class="Symbol">:</a> <a id="7165" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="7167" class="Symbol">→</a> <a id="7169" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
<a id="7171" href="Data.Rational.Base.html#7155" class="Function">ceiling</a> <a id="7179" href="Data.Rational.Base.html#7179" class="Bound">p</a><a id="7180" class="Symbol">@</a><a id="7181" class="Keyword">record</a><a id="7187" class="Symbol">{}</a> <a id="7190" class="Symbol">=</a> <a id="7192" href="Data.Integer.Base.html#4719" class="Function Operator">ℤ.-</a> <a id="7196" href="Data.Rational.Base.html#7079" class="Function">floor</a> <a id="7202" class="Symbol">(</a><a id="7203" href="Data.Rational.Base.html#3079" class="Function Operator">-</a> <a id="7205" href="Data.Rational.Base.html#7179" class="Bound">p</a><a id="7206" class="Symbol">)</a>

<a id="7209" class="Comment">-- Truncate  (round towards 0)</a>
<a id="truncate"></a><a id="7240" href="Data.Rational.Base.html#7240" class="Function">truncate</a> <a id="7249" class="Symbol">:</a> <a id="7251" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="7253" class="Symbol">→</a> <a id="7255" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
<a id="7257" href="Data.Rational.Base.html#7240" class="Function">truncate</a> <a id="7266" href="Data.Rational.Base.html#7266" class="Bound">p</a> <a id="7268" class="Keyword">with</a> <a id="7273" href="Data.Rational.Base.html#7266" class="Bound">p</a> <a id="7275" href="Data.Rational.Base.html#2930" class="Function Operator">≤ᵇ</a> <a id="7278" href="Data.Rational.Base.html#4321" class="Function">0ℚ</a>
<a id="7281" class="Symbol">...</a> <a id="7285" class="Symbol">|</a> <a id="7287" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="7293" class="Symbol">=</a> <a id="7295" href="Data.Rational.Base.html#7155" class="Function">ceiling</a> <a id="7303" class="Bound">p</a>
<a id="7305" class="Symbol">...</a> <a id="7309" class="Symbol">|</a> <a id="7311" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="7317" class="Symbol">=</a> <a id="7319" href="Data.Rational.Base.html#7079" class="Function">floor</a> <a id="7325" class="Bound">p</a>

<a id="7328" class="Comment">-- Round (to nearest integer)</a>
<a id="round"></a><a id="7358" href="Data.Rational.Base.html#7358" class="Function">round</a> <a id="7364" class="Symbol">:</a> <a id="7366" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="7368" class="Symbol">→</a> <a id="7370" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
<a id="7372" href="Data.Rational.Base.html#7358" class="Function">round</a> <a id="7378" href="Data.Rational.Base.html#7378" class="Bound">p</a> <a id="7380" class="Keyword">with</a> <a id="7385" href="Data.Rational.Base.html#7378" class="Bound">p</a> <a id="7387" href="Data.Rational.Base.html#2930" class="Function Operator">≤ᵇ</a> <a id="7390" href="Data.Rational.Base.html#4321" class="Function">0ℚ</a>
<a id="7393" class="Symbol">...</a> <a id="7397" class="Symbol">|</a> <a id="7399" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="7405" class="Symbol">=</a> <a id="7407" href="Data.Rational.Base.html#7155" class="Function">ceiling</a> <a id="7415" class="Symbol">(</a><a id="7416" class="Bound">p</a> <a id="7418" href="Data.Rational.Base.html#6368" class="Function Operator">-</a> <a id="7420" href="Data.Rational.Base.html#4363" class="Function">½</a><a id="7421" class="Symbol">)</a>
<a id="7423" class="Symbol">...</a> <a id="7427" class="Symbol">|</a> <a id="7429" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="7435" class="Symbol">=</a> <a id="7437" href="Data.Rational.Base.html#7079" class="Function">floor</a> <a id="7443" class="Symbol">(</a><a id="7444" class="Bound">p</a> <a id="7446" href="Data.Rational.Base.html#6169" class="Function Operator">+</a> <a id="7448" href="Data.Rational.Base.html#4363" class="Function">½</a><a id="7449" class="Symbol">)</a>

<a id="7452" class="Comment">-- Fractional part (remainder after floor)</a>
<a id="fracPart"></a><a id="7495" href="Data.Rational.Base.html#7495" class="Function">fracPart</a> <a id="7504" class="Symbol">:</a> <a id="7506" href="Data.Rational.Base.html#1338" class="Record">ℚ</a> <a id="7508" class="Symbol">→</a> <a id="7510" href="Data.Rational.Base.html#1338" class="Record">ℚ</a>
<a id="7512" href="Data.Rational.Base.html#7495" class="Function">fracPart</a> <a id="7521" href="Data.Rational.Base.html#7521" class="Bound">p</a><a id="7522" class="Symbol">@</a><a id="7523" class="Keyword">record</a><a id="7529" class="Symbol">{}</a> <a id="7532" class="Symbol">=</a> <a id="7534" href="Data.Rational.Base.html#6906" class="Function Operator">∣</a> <a id="7536" href="Data.Rational.Base.html#7521" class="Bound">p</a> <a id="7538" href="Data.Rational.Base.html#6368" class="Function Operator">-</a> <a id="7540" href="Data.Rational.Base.html#7240" class="Function">truncate</a> <a id="7549" href="Data.Rational.Base.html#7521" class="Bound">p</a> <a id="7551" href="Data.Rational.Base.html#3880" class="Function Operator">/</a> <a id="7553" class="Number">1</a> <a id="7555" href="Data.Rational.Base.html#6906" class="Function Operator">∣</a>

<a id="7558" class="Comment">-- Extra notations  ⌊ ⌋ floor,  ⌈ ⌉ ceiling,  [ ] truncate</a>
<a id="7617" class="Keyword">syntax</a> <a id="7624" href="Data.Rational.Base.html#7079" class="Function">floor</a> <a id="7630" class="Bound">p</a> <a id="7632" class="Symbol">=</a> <a id="7634" class="Function">⌊</a> <a id="7636" class="Bound">p</a> <a id="7638" class="Function">⌋</a>
<a id="7640" class="Keyword">syntax</a> <a id="7647" href="Data.Rational.Base.html#7155" class="Function">ceiling</a> <a id="7655" class="Bound">p</a> <a id="7657" class="Symbol">=</a> <a id="7659" class="Function">⌈</a> <a id="7661" class="Bound">p</a> <a id="7663" class="Function">⌉</a>
<a id="7665" class="Keyword">syntax</a> <a id="7672" href="Data.Rational.Base.html#7240" class="Function">truncate</a> <a id="7681" class="Bound">p</a> <a id="7683" class="Symbol">=</a> <a id="7685" class="Function">[</a> <a id="7687" class="Bound">p</a> <a id="7689" class="Function">]</a>

<a id="7692" class="Comment">------------------------------------------------------------------------</a>
<a id="7765" class="Comment">-- Raw bundles</a>

<a id="+-rawMagma"></a><a id="7781" href="Data.Rational.Base.html#7781" class="Function">+-rawMagma</a> <a id="7792" class="Symbol">:</a> <a id="7794" href="Algebra.Bundles.Raw.html#644" class="Record">RawMagma</a> <a id="7803" href="Level.html#521" class="Function">0ℓ</a> <a id="7806" href="Level.html#521" class="Function">0ℓ</a>
<a id="7809" href="Data.Rational.Base.html#7781" class="Function">+-rawMagma</a> <a id="7820" class="Symbol">=</a> <a id="7822" class="Keyword">record</a>
  <a id="7831" class="Symbol">{</a> <a id="7833" href="Algebra.Bundles.Raw.html#745" class="Field Operator">_≈_</a> <a id="7837" class="Symbol">=</a> <a id="7839" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a>
  <a id="7845" class="Symbol">;</a> <a id="7847" href="Algebra.Bundles.Raw.html#773" class="Field Operator">_∙_</a> <a id="7851" class="Symbol">=</a> <a id="7853" href="Data.Rational.Base.html#6169" class="Function Operator">_+_</a>
  <a id="7859" class="Symbol">}</a>

<a id="+-0-rawMonoid"></a><a id="7862" href="Data.Rational.Base.html#7862" class="Function">+-0-rawMonoid</a> <a id="7876" class="Symbol">:</a> <a id="7878" href="Algebra.Bundles.Raw.html#1105" class="Record">RawMonoid</a> <a id="7888" href="Level.html#521" class="Function">0ℓ</a> <a id="7891" href="Level.html#521" class="Function">0ℓ</a>
<a id="7894" href="Data.Rational.Base.html#7862" class="Function">+-0-rawMonoid</a> <a id="7908" class="Symbol">=</a> <a id="7910" class="Keyword">record</a>
  <a id="7919" class="Symbol">{</a> <a id="7921" href="Algebra.Bundles.Raw.html#1207" class="Field Operator">_≈_</a> <a id="7925" class="Symbol">=</a> <a id="7927" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a>
  <a id="7933" class="Symbol">;</a> <a id="7935" href="Algebra.Bundles.Raw.html#1235" class="Field Operator">_∙_</a> <a id="7939" class="Symbol">=</a> <a id="7941" href="Data.Rational.Base.html#6169" class="Function Operator">_+_</a>
  <a id="7947" class="Symbol">;</a> <a id="7949" href="Algebra.Bundles.Raw.html#1261" class="Field">ε</a>   <a id="7953" class="Symbol">=</a> <a id="7955" href="Data.Rational.Base.html#4321" class="Function">0ℚ</a>
  <a id="7960" class="Symbol">}</a>

<a id="+-0-rawGroup"></a><a id="7963" href="Data.Rational.Base.html#7963" class="Function">+-0-rawGroup</a> <a id="7976" class="Symbol">:</a> <a id="7978" href="Algebra.Bundles.Raw.html#1638" class="Record">RawGroup</a> <a id="7987" href="Level.html#521" class="Function">0ℓ</a> <a id="7990" href="Level.html#521" class="Function">0ℓ</a>
<a id="7993" href="Data.Rational.Base.html#7963" class="Function">+-0-rawGroup</a> <a id="8006" class="Symbol">=</a> <a id="8008" class="Keyword">record</a>
  <a id="8017" class="Symbol">{</a> <a id="8019" href="Algebra.Bundles.Raw.html#1754" class="Field Operator">_≈_</a> <a id="8023" class="Symbol">=</a> <a id="8025" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a>
  <a id="8031" class="Symbol">;</a> <a id="8033" href="Algebra.Bundles.Raw.html#1782" class="Field Operator">_∙_</a> <a id="8037" class="Symbol">=</a> <a id="8039" href="Data.Rational.Base.html#6169" class="Function Operator">_+_</a>
  <a id="8045" class="Symbol">;</a> <a id="8047" href="Algebra.Bundles.Raw.html#1808" class="Field">ε</a>   <a id="8051" class="Symbol">=</a> <a id="8053" href="Data.Rational.Base.html#4321" class="Function">0ℚ</a>
  <a id="8058" class="Symbol">;</a> <a id="8060" href="Algebra.Bundles.Raw.html#1830" class="Field Operator">_⁻¹</a> <a id="8064" class="Symbol">=</a> <a id="8066" href="Data.Rational.Base.html#3079" class="Function Operator">-_</a>
  <a id="8071" class="Symbol">}</a>

<a id="+-*-rawNearSemiring"></a><a id="8074" href="Data.Rational.Base.html#8074" class="Function">+-*-rawNearSemiring</a> <a id="8094" class="Symbol">:</a> <a id="8096" href="Algebra.Bundles.Raw.html#2222" class="Record">RawNearSemiring</a> <a id="8112" href="Level.html#521" class="Function">0ℓ</a> <a id="8115" href="Level.html#521" class="Function">0ℓ</a>
<a id="8118" href="Data.Rational.Base.html#8074" class="Function">+-*-rawNearSemiring</a> <a id="8138" class="Symbol">=</a> <a id="8140" class="Keyword">record</a>
  <a id="8149" class="Symbol">{</a> <a id="8151" href="Algebra.Bundles.Raw.html#2345" class="Field Operator">_≈_</a> <a id="8155" class="Symbol">=</a> <a id="8157" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a>
  <a id="8163" class="Symbol">;</a> <a id="8165" href="Algebra.Bundles.Raw.html#2373" class="Field Operator">_+_</a> <a id="8169" class="Symbol">=</a> <a id="8171" href="Data.Rational.Base.html#6169" class="Function Operator">_+_</a>
  <a id="8177" class="Symbol">;</a> <a id="8179" href="Algebra.Bundles.Raw.html#2399" class="Field Operator">_*_</a> <a id="8183" class="Symbol">=</a> <a id="8185" href="Data.Rational.Base.html#6278" class="Function Operator">_*_</a>
  <a id="8191" class="Symbol">;</a> <a id="8193" href="Algebra.Bundles.Raw.html#2425" class="Field">0#</a>  <a id="8197" class="Symbol">=</a> <a id="8199" href="Data.Rational.Base.html#4321" class="Function">0ℚ</a>
  <a id="8204" class="Symbol">}</a>

<a id="+-*-rawSemiring"></a><a id="8207" href="Data.Rational.Base.html#8207" class="Function">+-*-rawSemiring</a> <a id="8223" class="Symbol">:</a> <a id="8225" href="Algebra.Bundles.Raw.html#2934" class="Record">RawSemiring</a> <a id="8237" href="Level.html#521" class="Function">0ℓ</a> <a id="8240" href="Level.html#521" class="Function">0ℓ</a>
<a id="8243" href="Data.Rational.Base.html#8207" class="Function">+-*-rawSemiring</a> <a id="8259" class="Symbol">=</a> <a id="8261" class="Keyword">record</a>
  <a id="8270" class="Symbol">{</a> <a id="8272" href="Algebra.Bundles.Raw.html#3053" class="Field Operator">_≈_</a> <a id="8276" class="Symbol">=</a> <a id="8278" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a>
  <a id="8284" class="Symbol">;</a> <a id="8286" href="Algebra.Bundles.Raw.html#3081" class="Field Operator">_+_</a> <a id="8290" class="Symbol">=</a> <a id="8292" href="Data.Rational.Base.html#6169" class="Function Operator">_+_</a>
  <a id="8298" class="Symbol">;</a> <a id="8300" href="Algebra.Bundles.Raw.html#3107" class="Field Operator">_*_</a> <a id="8304" class="Symbol">=</a> <a id="8306" href="Data.Rational.Base.html#6278" class="Function Operator">_*_</a>
  <a id="8312" class="Symbol">;</a> <a id="8314" href="Algebra.Bundles.Raw.html#3133" class="Field">0#</a>  <a id="8318" class="Symbol">=</a> <a id="8320" href="Data.Rational.Base.html#4321" class="Function">0ℚ</a>
  <a id="8325" class="Symbol">;</a> <a id="8327" href="Algebra.Bundles.Raw.html#3155" class="Field">1#</a>  <a id="8331" class="Symbol">=</a> <a id="8333" href="Data.Rational.Base.html#4342" class="Function">1ℚ</a>
  <a id="8338" class="Symbol">}</a>

<a id="+-*-rawRing"></a><a id="8341" href="Data.Rational.Base.html#8341" class="Function">+-*-rawRing</a> <a id="8353" class="Symbol">:</a> <a id="8355" href="Algebra.Bundles.Raw.html#4595" class="Record">RawRing</a> <a id="8363" href="Level.html#521" class="Function">0ℓ</a> <a id="8366" href="Level.html#521" class="Function">0ℓ</a>
<a id="8369" href="Data.Rational.Base.html#8341" class="Function">+-*-rawRing</a> <a id="8381" class="Symbol">=</a> <a id="8383" class="Keyword">record</a>
  <a id="8392" class="Symbol">{</a> <a id="8394" href="Algebra.Bundles.Raw.html#4724" class="Field Operator">_≈_</a> <a id="8398" class="Symbol">=</a> <a id="8400" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a>
  <a id="8406" class="Symbol">;</a> <a id="8408" href="Algebra.Bundles.Raw.html#4752" class="Field Operator">_+_</a> <a id="8412" class="Symbol">=</a> <a id="8414" href="Data.Rational.Base.html#6169" class="Function Operator">_+_</a>
  <a id="8420" class="Symbol">;</a> <a id="8422" href="Algebra.Bundles.Raw.html#4778" class="Field Operator">_*_</a> <a id="8426" class="Symbol">=</a> <a id="8428" href="Data.Rational.Base.html#6278" class="Function Operator">_*_</a>
  <a id="8434" class="Symbol">;</a> <a id="8436" href="Algebra.Bundles.Raw.html#4804" class="Field Operator">-_</a>  <a id="8440" class="Symbol">=</a> <a id="8442" href="Data.Rational.Base.html#3079" class="Function Operator">-_</a>
  <a id="8447" class="Symbol">;</a> <a id="8449" href="Algebra.Bundles.Raw.html#4830" class="Field">0#</a>  <a id="8453" class="Symbol">=</a> <a id="8455" href="Data.Rational.Base.html#4321" class="Function">0ℚ</a>
  <a id="8460" class="Symbol">;</a> <a id="8462" href="Algebra.Bundles.Raw.html#4852" class="Field">1#</a>  <a id="8466" class="Symbol">=</a> <a id="8468" href="Data.Rational.Base.html#4342" class="Function">1ℚ</a>
  <a id="8473" class="Symbol">}</a>

<a id="*-rawMagma"></a><a id="8476" href="Data.Rational.Base.html#8476" class="Function">*-rawMagma</a> <a id="8487" class="Symbol">:</a> <a id="8489" href="Algebra.Bundles.Raw.html#644" class="Record">RawMagma</a> <a id="8498" href="Level.html#521" class="Function">0ℓ</a> <a id="8501" href="Level.html#521" class="Function">0ℓ</a>
<a id="8504" href="Data.Rational.Base.html#8476" class="Function">*-rawMagma</a> <a id="8515" class="Symbol">=</a> <a id="8517" class="Keyword">record</a>
  <a id="8526" class="Symbol">{</a> <a id="8528" href="Algebra.Bundles.Raw.html#745" class="Field Operator">_≈_</a> <a id="8532" class="Symbol">=</a> <a id="8534" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a>
  <a id="8540" class="Symbol">;</a> <a id="8542" href="Algebra.Bundles.Raw.html#773" class="Field Operator">_∙_</a> <a id="8546" class="Symbol">=</a> <a id="8548" href="Data.Rational.Base.html#6278" class="Function Operator">_*_</a>
  <a id="8554" class="Symbol">}</a>

<a id="*-1-rawMonoid"></a><a id="8557" href="Data.Rational.Base.html#8557" class="Function">*-1-rawMonoid</a> <a id="8571" class="Symbol">:</a> <a id="8573" href="Algebra.Bundles.Raw.html#1105" class="Record">RawMonoid</a> <a id="8583" href="Level.html#521" class="Function">0ℓ</a> <a id="8586" href="Level.html#521" class="Function">0ℓ</a>
<a id="8589" href="Data.Rational.Base.html#8557" class="Function">*-1-rawMonoid</a> <a id="8603" class="Symbol">=</a> <a id="8605" class="Keyword">record</a>
  <a id="8614" class="Symbol">{</a> <a id="8616" href="Algebra.Bundles.Raw.html#1207" class="Field Operator">_≈_</a> <a id="8620" class="Symbol">=</a> <a id="8622" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a>
  <a id="8628" class="Symbol">;</a> <a id="8630" href="Algebra.Bundles.Raw.html#1235" class="Field Operator">_∙_</a> <a id="8634" class="Symbol">=</a> <a id="8636" href="Data.Rational.Base.html#6278" class="Function Operator">_*_</a>
  <a id="8642" class="Symbol">;</a> <a id="8644" href="Algebra.Bundles.Raw.html#1261" class="Field">ε</a>   <a id="8648" class="Symbol">=</a> <a id="8650" href="Data.Rational.Base.html#4342" class="Function">1ℚ</a>
  <a id="8655" class="Symbol">}</a>


<a id="8659" class="Comment">------------------------------------------------------------------------</a>
<a id="8732" class="Comment">-- DEPRECATED NAMES</a>
<a id="8752" class="Comment">------------------------------------------------------------------------</a>
<a id="8825" class="Comment">-- Please use the new names as continuing support for the old names is</a>
<a id="8896" class="Comment">-- not guaranteed.</a>

<a id="8916" class="Comment">-- Version 2.0</a>

<a id="+-rawMonoid"></a><a id="8932" href="Data.Rational.Base.html#8932" class="Function">+-rawMonoid</a> <a id="8944" class="Symbol">=</a> <a id="8946" href="Data.Rational.Base.html#7862" class="Function">+-0-rawMonoid</a>
<a id="8960" class="Symbol">{-#</a> <a id="8964" class="Keyword">WARNING_ON_USAGE</a> <a id="8981" class="Pragma">+-rawMonoid</a>
<a id="8993" class="String">&quot;Warning: +-rawMonoid was deprecated in v2.0
Please use +-0-rawMonoid instead.&quot;</a>
<a id="9073" class="Symbol">#-}</a>
<a id="*-rawMonoid"></a><a id="9077" href="Data.Rational.Base.html#9077" class="Function">*-rawMonoid</a> <a id="9089" class="Symbol">=</a> <a id="9091" href="Data.Rational.Base.html#8557" class="Function">*-1-rawMonoid</a>
<a id="9105" class="Symbol">{-#</a> <a id="9109" class="Keyword">WARNING_ON_USAGE</a> <a id="9126" class="Pragma">*-rawMonoid</a>
<a id="9138" class="String">&quot;Warning: *-rawMonoid was deprecated in v2.0
Please use *-1-rawMonoid instead.&quot;</a>
<a id="9218" class="Symbol">#-}</a>
</pre></body></html>